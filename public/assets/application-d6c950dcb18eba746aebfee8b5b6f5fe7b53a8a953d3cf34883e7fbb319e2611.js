/*!
 * jQuery JavaScript Library v1.10.0
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-24T18:39Z
 */
function updateTimer(t){$(".health-popover-toggle").popover("destroy"),$("#health-popover").html(""),$(".health-popover-toggle").each(function(){$(this).popover({container:"#health-popover",html:!0,placement:function(){return $(window).width()<767?"bottom":"right auto"},title:function(){var t='<button type="button" class="close" data-dismiss="modal" aria-hidden="true" onclick="$(\'#health\').popover(\'hide\');$.undim();">&times;</button>';return $(this).data("title")+t},viewport:function(t){var e=null,i=t.closest(".section").attr("class");return i&&(e="."+i.trim().replace(/\s/gi,".")),{selector:e,padding:"0"}}($(this)),content:function(){return $(this).next().html()}})}),$(".health-popover-toggle").click(function(t){$(".health-popover-toggle").not(this).popover("hide"),t.stopPropagation()}),$("#tutorial").hjq_tutorial("update"),$("body").on("keyup.dismiss.healthPopover",function(t){27==t.which&&$(".health-popover-toggle").popover("hide")}),$("body").on("click.dismiss.healthPopover",function(t){$("#health-popover div.popover:visible").length&&$(".health-popover-toggle").popover("hide")})}function updateColors(){$(".kb-color").each(function(){var t=$(this).css("background-color"),e=$(this).data("color-id");$(".kb-color-"+e).css("background",t);var i=t.replace(")",",0)").replace("rgb","rgba");$(".kb-color-"+e+" .more").css("background","linear-gradient(to bottom, "+i+", "+t+" 100%)")})}function fixedHorizontal(){$("html.pdf").length>0||"undefined"!=typeof presenting&&presenting||($(".health-popover-toggle[aria-describedby]").click(),$("body.fixed-headers .navbar, body.fixed-headers .content-header, .fixed-x").map(function(){$(this).css({"margin-left":"0"}),$(this).css({width:"auto"}),$(window).width()>640&&($(this).css({width:$(this).width()}),$(this).css({"margin-left":$(window).scrollLeft()}))}))}function loadJs(t,e,i){if(__loadedjs.indexOf(t)<0){var n=document.createElement("script");if(n.setAttribute("src",t),n.setAttribute("type","text/javascript"),e)for(att in e)n.setAttribute(att,e[att]);var o=!1,s=function(){o||(__loadedjs.push(t),o=!0,i&i())};n.onload=s,n.onreadystatechange=s,document.getElementsByTagName("head")[0].appendChild(n)}else i&i()}function isFullscreen(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}function enterFullscreen(){document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.msRequestFullscreen?document.documentElement.msRequestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}function exitFullscreen(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}function toggleFullscreen(){isFullscreen()?exitFullscreen():enterFullscreen()}function fsChange(){isFullscreen()?($(".presentation-help").fadeIn(1e3),window.setTimeout(function(){$(".presentation-help").fadeTo(1500,0)},15e3),startPresentation()):endPresentation(),$(".modal").modal("hide")}!function(t,e){function i(t){var e=t.length,i=ct.type(t);return ct.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t){var e=St[t]={};return ct.each(t.match(dt)||[],function(t,i){e[i]=!0}),e}function o(t,i,n,o){if(ct.acceptData(t)){var s,r,a=ct.expando,l=t.nodeType,h=l?ct.cache:t,c=l?t[a]:t[a]&&a;if(c&&h[c]&&(o||h[c].data)||n!==e||"string"!=typeof i)return c||(c=l?t[a]=et.pop()||ct.guid++:a),h[c]||(h[c]=l?{}:{toJSON:ct.noop}),("object"==typeof i||"function"==typeof i)&&(o?h[c]=ct.extend(h[c],i):h[c].data=ct.extend(h[c].data,i)),r=h[c],o||(r.data||(r.data={}),r=r.data),n!==e&&(r[ct.camelCase(i)]=n),"string"==typeof i?(s=r[i],null==s&&(s=r[ct.camelCase(i)])):s=r,s}}function s(t,e,i){if(ct.acceptData(t)){var n,o,s=t.nodeType,r=s?ct.cache:t,l=s?t[ct.expando]:ct.expando;if(r[l]){if(e&&(n=i?r[l]:r[l].data)){ct.isArray(e)?e=e.concat(ct.map(e,ct.camelCase)):e in n?e=[e]:(e=ct.camelCase(e),e=e in n?[e]:e.split(" ")),o=e.length;for(;o--;)delete n[e[o]];if(i?!a(n):!ct.isEmptyObject(n))return}(i||(delete r[l].data,a(r[l])))&&(s?ct.cleanData([t],!0):ct.support.deleteExpando||r!=r.window?delete r[l]:r[l]=null)}}}function r(t,i,n){if(n===e&&1===t.nodeType){var o="data-"+i.replace(Dt,"-$1").toLowerCase();if(n=t.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Tt.test(n)?ct.parseJSON(n):n}catch(s){}ct.data(t,i,n)}else n=e}return n}function a(t){var e;for(e in t)if(("data"!==e||!ct.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function l(){return!0}function h(){return!1}function c(){try{return K.activeElement}catch(t){}}function u(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function d(t,e,i){if(ct.isFunction(e))return ct.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return ct.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(Bt.test(e))return ct.filter(e,t,i);e=ct.filter(e,t)}return ct.grep(t,function(t){return ct.inArray(t,e)>=0!==i})}function p(t){var e=qt.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function f(t,e){return ct.nodeName(t,"table")&&ct.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function m(t){return t.type=(null!==ct.find.attr(t,"type"))+"/"+t.type,t}function g(t){var e=oe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var i,n=0;null!=(i=t[n]);n++)ct._data(i,"globalEval",!e||ct._data(e[n],"globalEval"))}function y(t,e){if(1===e.nodeType&&ct.hasData(t)){var i,n,o,s=ct._data(t),r=ct._data(e,s),a=s.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,o=a[i].length;o>n;n++)ct.event.add(e,i,a[i][n])}r.data&&(r.data=ct.extend({},r.data))}}function w(t,e){var i,n,o;if(1===e.nodeType){if(i=e.nodeName.toLowerCase(),!ct.support.noCloneEvent&&e[ct.expando]){o=ct._data(e);for(n in o.events)ct.removeEvent(e,n,o.handle);e.removeAttribute(ct.expando)}"script"===i&&e.text!==t.text?(m(e).text=t.text,g(e)):"object"===i?(e.parentNode&&(e.outerHTML=t.outerHTML),ct.support.html5Clone&&t.innerHTML&&!ct.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===i&&ee.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===i?e.defaultSelected=e.selected=t.defaultSelected:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}}function b(t,i){var n,o,s=0,r=typeof t.getElementsByTagName!==G?t.getElementsByTagName(i||"*"):typeof t.querySelectorAll!==G?t.querySelectorAll(i||"*"):e;if(!r)for(r=[],n=t.childNodes||t;null!=(o=n[s]);s++)!i||ct.nodeName(o,i)?r.push(o):ct.merge(r,b(o,i));return i===e||i&&ct.nodeName(t,i)?ct.merge([t],r):r}function C(t){ee.test(t.type)&&(t.defaultChecked=t.checked)}function _(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,o=ke.length;o--;)if(e=ke[o]+i,e in t)return e;return n}function x(t,e){return t=e||t,"none"===ct.css(t,"display")||!ct.contains(t.ownerDocument,t)}function k(t,e){for(var i,n,o,s=[],r=0,a=t.length;a>r;r++)n=t[r],n.style&&(s[r]=ct._data(n,"olddisplay"),i=n.style.display,e?(s[r]||"none"!==i||(n.style.display=""),""===n.style.display&&x(n)&&(s[r]=ct._data(n,"olddisplay",E(n.nodeName)))):s[r]||(o=x(n),(i&&"none"!==i||!o)&&ct._data(n,"olddisplay",o?i:ct.css(n,"display"))));for(r=0;a>r;r++)n=t[r],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?s[r]||"":"none"));return t}function S(t,e,i){var n=ve.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function T(t,e,i,n,o){for(var s=i===(n?"border":"content")?4:"width"===e?1:0,r=0;4>s;s+=2)"margin"===i&&(r+=ct.css(t,i+xe[s],!0,o)),n?("content"===i&&(r-=ct.css(t,"padding"+xe[s],!0,o)),"margin"!==i&&(r-=ct.css(t,"border"+xe[s]+"Width",!0,o))):(r+=ct.css(t,"padding"+xe[s],!0,o),"padding"!==i&&(r+=ct.css(t,"border"+xe[s]+"Width",!0,o)));return r}function D(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,s=ce(t),r=ct.support.boxSizing&&"border-box"===ct.css(t,"boxSizing",!1,s);if(0>=o||null==o){if(o=ue(t,e,s),(0>o||null==o)&&(o=t.style[e]),ye.test(o))return o;n=r&&(ct.support.boxSizingReliable||o===t.style[e]),o=parseFloat(o)||0}return o+T(t,e,i||(r?"border":"content"),n,s)+"px"}function E(t){var e=K,i=be[t];return i||(i=R(t,e),"none"!==i&&i||(he=(he||ct("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(he[0].contentWindow||he[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=R(t,e),he.detach()),be[t]=i),i}function R(t,e){var i=ct(e.createElement(t)).appendTo(e.body),n=ct.css(i[0],"display");return i.remove(),n}function A(t,e,i,n){var o;if(ct.isArray(e))ct.each(e,function(e,o){i||Te.test(t)?n(t,o):A(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==ct.type(e))n(t,e);else for(o in e)A(t+"["+o+"]",e[o],i,n)}function M(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,s=e.toLowerCase().match(dt)||[];if(ct.isFunction(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function P(t,e,i,n){function o(a){var l;return s[a]=!0,ct.each(t[a]||[],function(t,a){var h=a(e,i,n);return"string"!=typeof h||r||s[h]?r?!(l=h):void 0:(e.dataTypes.unshift(h),o(h),!1)}),l}var s={},r=t===$e;return o(e.dataTypes[0])||!s["*"]&&o("*")}function H(t,i){var n,o,s=ct.ajaxSettings.flatOptions||{};for(o in i)i[o]!==e&&((s[o]?t:n||(n={}))[o]=i[o]);return n&&ct.extend(!0,t,n),t}function I(t,i,n){for(var o,s,r,a,l=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),s===e&&(s=t.mimeType||i.getResponseHeader("Content-Type"));if(s)for(a in l)if(l[a]&&l[a].test(s)){h.unshift(a);break}if(h[0]in n)r=h[0];else{for(a in n){if(!h[0]||t.converters[a+" "+h[0]]){r=a;break}o||(o=a)}r=r||o}return r?(r!==h[0]&&h.unshift(r),n[r]):void 0}function O(t,e,i,n){var o,s,r,a,l,h={},c=t.dataTypes.slice();if(c[1])for(r in t.converters)h[r.toLowerCase()]=t.converters[r];for(s=c.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(r=h[l+" "+s]||h["* "+s],!r)for(o in h)if(a=o.split(" "),a[1]===s&&(r=h[l+" "+a[0]]||h["* "+a[0]])){r===!0?r=h[o]:h[o]!==!0&&(s=a[0],c.unshift(a[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}function N(){try{return new t.XMLHttpRequest}catch(e){}}function L(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function z(){return setTimeout(function(){Qe=e}),Qe=ct.now()}function F(t,e,i){for(var n,o=(oi[e]||[]).concat(oi["*"]),s=0,r=o.length;r>s;s++)if(n=o[s].call(i,e,t))return n}function W(t,e,i){var n,o,s=0,r=ni.length,a=ct.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Qe||z(),i=Math.max(0,h.startTime+h.duration-e),n=i/h.duration||0,s=1-n,r=0,l=h.tweens.length;l>r;r++)h.tweens[r].run(s);return a.notifyWith(t,[h,s,i]),1>s&&l?i:(a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:ct.extend({},e),opts:ct.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Qe||z(),duration:i.duration,tweens:[],createTween:function(e,i){var n=ct.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)h.tweens[i].run(1);return e?a.resolveWith(t,[h,e]):a.rejectWith(t,[h,e]),this}}),c=h.props;for(j(c,h.opts.specialEasing);r>s;s++)if(n=ni[s].call(h,t,c,h.opts))return n;return ct.map(c,F,h),ct.isFunction(h.opts.start)&&h.opts.start.call(t,h),ct.fx.timer(ct.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function j(t,e){var i,n,o,s,r;for(i in t)if(n=ct.camelCase(i),o=e[n],s=t[i],ct.isArray(s)&&(o=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),r=ct.cssHooks[n],r&&"expand"in r){s=r.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=o)}else e[n]=o}function B(t,e,i){var n,o,s,r,a,l,h=this,c={},u=t.style,d=t.nodeType&&x(t),p=ct._data(t,"fxshow");i.queue||(a=ct._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,ct.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===ct.css(t,"display")&&"none"===ct.css(t,"float")&&(ct.support.inlineBlockNeedsLayout&&"inline"!==E(t.nodeName)?u.zoom=1:u.display="inline-block")),i.overflow&&(u.overflow="hidden",ct.support.shrinkWrapBlocks||h.always(function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],ti.exec(o)){if(delete e[n],s=s||"toggle"===o,o===(d?"hide":"show"))continue;c[n]=p&&p[n]||ct.style(t,n)}if(!ct.isEmptyObject(c)){p?"hidden"in p&&(d=p.hidden):p=ct._data(t,"fxshow",{}),s&&(p.hidden=!d),d?ct(t).show():h.done(function(){ct(t).hide()}),h.done(function(){var e;ct._removeData(t,"fxshow");for(e in c)ct.style(t,e,c[e])});for(n in c)r=F(d?p[n]:0,n,h),n in p||(p[n]=r.start,d&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function $(t,e,i,n,o){return new $.prototype.init(t,e,i,n,o)}function Y(t,e){var i,n={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)i=xe[o],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function V(t){return ct.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var q,U,G=typeof e,X=t.location,K=t.document,Z=K.documentElement,Q=t.jQuery,J=t.$,tt={},et=[],it="1.10.0",nt=et.concat,ot=et.push,st=et.slice,rt=et.indexOf,at=tt.toString,lt=tt.hasOwnProperty,ht=it.trim,ct=function(t,e){return new ct.fn.init(t,e,U)},ut=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=/\S+/g,pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,mt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,gt=/^[\],:{}\s]*$/,vt=/(?:^|:|,)(?:\s*\[)+/g,yt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,wt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,bt=/^-ms-/,Ct=/-([\da-z])/gi,_t=function(t,e){return e.toUpperCase()},xt=function(t){(K.addEventListener||"load"===t.type||"complete"===K.readyState)&&(kt(),ct.ready())},kt=function(){K.addEventListener?(K.removeEventListener("DOMContentLoaded",xt,!1),t.removeEventListener("load",xt,!1)):(K.detachEvent("onreadystatechange",xt),t.detachEvent("onload",xt))};ct.fn=ct.prototype={jquery:it,constructor:ct,init:function(t,i,n){var o,s;if(!t)return this;if("string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:ft.exec(t),!o||!o[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(o[1]){if(i=i instanceof ct?i[0]:i,ct.merge(this,ct.parseHTML(o[1],i&&i.nodeType?i.ownerDocument||i:K,!0)),mt.test(o[1])&&ct.isPlainObject(i))for(o in i)ct.isFunction(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}if(s=K.getElementById(o[2]),s&&s.parentNode){if(s.id!==o[2])return n.find(t);this.length=1,this[0]=s}return this.context=K,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):ct.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),ct.makeArray(t,this))},selector:"",length:0,toArray:function(){return st.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=ct.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return ct.each(this,t,e)},ready:function(t){return ct.ready.promise().done(t),this},slice:function(){return this.pushStack(st.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(ct.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:ot,sort:[].sort,splice:[].splice},ct.fn.init.prototype=ct.fn,ct.extend=ct.fn.extend=function(){var t,i,n,o,s,r,a=arguments[0]||{},l=1,h=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||ct.isFunction(a)||(a={}),h===l&&(a=this,--l);h>l;l++)if(null!=(s=arguments[l]))for(o in s)t=a[o],n=s[o],a!==n&&(c&&n&&(ct.isPlainObject(n)||(i=ct.isArray(n)))?(i?(i=!1,r=t&&ct.isArray(t)?t:[]):r=t&&ct.isPlainObject(t)?t:{},a[o]=ct.extend(c,r,n)):n!==e&&(a[o]=n));return a},ct.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===ct&&(t.$=J),e&&t.jQuery===ct&&(t.jQuery=Q),ct},isReady:!1,readyWait:1,holdReady:function(t){t?ct.readyWait++:ct.ready(!0)},ready:function(t){if(t===!0?!--ct.readyWait:!ct.isReady){if(!K.body)return setTimeout(ct.ready);ct.isReady=!0,t!==!0&&--ct.readyWait>0||(q.resolveWith(K,[ct]),ct.fn.trigger&&ct(K).trigger("ready").off("ready"))}},isFunction:function(t){return"function"===ct.type(t)},isArray:Array.isArray||function(t){return"array"===ct.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):"object"==typeof t||"function"==typeof t?tt[at.call(t)]||"object":typeof t},isPlainObject:function(t){var i;if(!t||"object"!==ct.type(t)||t.nodeType||ct.isWindow(t))return!1;try{if(t.constructor&&!lt.call(t,"constructor")&&!lt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ct.support.ownLast)for(i in t)return lt.call(t,i);for(i in t);return i===e||lt.call(t,i)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw new Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||K;var n=mt.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=ct.buildFragment([t],e,o),o&&ct(o).remove(),ct.merge([],n.childNodes))},parseJSON:function(e){return t.JSON&&t.JSON.parse?t.JSON.parse(e):null===e?e:"string"==typeof e&&(e=ct.trim(e),e&&gt.test(e.replace(yt,"@").replace(wt,"]").replace(vt,"")))?new Function("return "+e)():void ct.error("Invalid JSON: "+e)},parseXML:function(i){var n,o;if(!i||"string"!=typeof i)return null;try{t.DOMParser?(o=new DOMParser,n=o.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(s){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ct.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&ct.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(bt,"ms-").replace(Ct,_t)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o,s=0,r=t.length,a=i(t);if(n){if(a)for(;r>s&&(o=e.apply(t[s],n),o!==!1);s++);else for(s in t)if(o=e.apply(t[s],n),o===!1)break}else if(a)for(;r>s&&(o=e.call(t[s],s,t[s]),o!==!1);s++);else for(s in t)if(o=e.call(t[s],s,t[s]),o===!1)break;return t},trim:ht&&!ht.call("\ufeff\xa0")?function(t){return null==t?"":ht.call(t)}:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ct.merge(n,"string"==typeof t?[t]:t):ot.call(n,t)),n},inArray:function(t,e,i){var n;if(e){if(rt)return rt.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=i.length,o=t.length,s=0;if("number"==typeof n)for(;n>s;s++)t[o++]=i[s];else for(;i[s]!==e;)t[o++]=i[s++];return t.length=o,t},grep:function(t,e,i){var n,o=[],s=0,r=t.length;for(i=!!i;r>s;s++)n=!!e(t[s],s),i!==n&&o.push(t[s]);return o},map:function(t,e,n){var o,s=0,r=t.length,a=i(t),l=[];if(a)for(;r>s;s++)o=e(t[s],s,n),null!=o&&(l[l.length]=o);else for(s in t)o=e(t[s],s,n),null!=o&&(l[l.length]=o);return nt.apply([],l)},guid:1,proxy:function(t,i){var n,o,s;return"string"==typeof i&&(s=t[i],i=t,t=s),ct.isFunction(t)?(n=st.call(arguments,2),o=function(){return t.apply(i||this,n.concat(st.call(arguments)))},o.guid=t.guid=t.guid||ct.guid++,o):e},access:function(t,i,n,o,s,r,a){var l=0,h=t.length,c=null==n;if("object"===ct.type(n)){s=!0;for(l in n)ct.access(t,i,l,n[l],!0,r,a)}else if(o!==e&&(s=!0,ct.isFunction(o)||(a=!0),c&&(a?(i.call(t,o),i=null):(c=i,i=function(t,e,i){return c.call(ct(t),i)})),i))for(;h>l;l++)i(t[l],n,a?o:o.call(t[l],l,i(t[l],n)));return s?t:c?i.call(t):h?i(t[0],n):r},now:function(){return(new Date).getTime()},swap:function(t,e,i,n){var o,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];o=i.apply(t,n||[]);for(s in e)t.style[s]=r[s];return o}}),ct.ready.promise=function(e){if(!q)if(q=ct.Deferred(),"complete"===K.readyState)setTimeout(ct.ready);else if(K.addEventListener)K.addEventListener("DOMContentLoaded",xt,!1),t.addEventListener("load",xt,!1);else{K.attachEvent("onreadystatechange",xt),t.attachEvent("onload",xt);var i=!1;try{i=null==t.frameElement&&K.documentElement}catch(n){}i&&i.doScroll&&!function o(){if(!ct.isReady){try{i.doScroll("left")}catch(t){return setTimeout(o,50)}kt(),ct.ready()}}()}return q.promise(e)},ct.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){tt["[object "+e+"]"]=e.toLowerCase()}),U=ct(K),/*!
 * Sizzle CSS Selector Engine v1.9.4-pre
 * http://sizzlejs.com/
 *
 * Copyright 2013 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2013-05-15
 */
function(t,e){function i(t,e,i,n){var o,s,r,a,l,h,c,u,d,p;if((e?e.ownerDocument||e:Y)!==N&&O(e),e=e||N,i=i||[],!t||"string"!=typeof t)return i;if(1!==(a=e.nodeType)&&9!==a)return[];if(z&&!n){if(o=xt.exec(t))if(r=o[1]){if(9===a){if(s=e.getElementById(r),!s||!s.parentNode)return i;if(s.id===r)return i.push(s),i}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(r))&&B(e,s)&&s.id===r)return i.push(s),i}else{if(o[2])return ot.apply(i,e.getElementsByTagName(t)),i;if((r=o[3])&&D.getElementsByClassName&&e.getElementsByClassName)return ot.apply(i,e.getElementsByClassName(r)),i}if(D.qsa&&(!F||!F.test(t))){if(u=c=$,d=e,p=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(h=m(t),(c=e.getAttribute("id"))?u=c.replace(Tt,"\\$&"):e.setAttribute("id",u),u="[id='"+u+"'] ",l=h.length;l--;)h[l]=u+g(h[l]);d=vt.test(t)&&e.parentNode||e,p=h.join(",")}if(p)try{return ot.apply(i,d.querySelectorAll(p)),i}catch(f){}finally{c||e.removeAttribute("id")}}}return k(t.replace(ft,"$1"),e,i,n)}function n(t){return _t.test(t+"")}function o(){function t(i,n){return e.push(i+=" ")>R.cacheLength&&delete t[e.shift()],t[i]=n}var e=[];return t}function s(t){return t[$]=!0,t}function r(t){var e=N.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e,i){t=t.split("|");for(var n,o=t.length,s=i?null:e;o--;)(n=R.attrHandle[t[o]])&&n!==e||(R.attrHandle[t[o]]=s)}function l(t,e){var i=t.getAttributeNode(e);return i&&i.specified?i.value:t[e]===!0?e.toLowerCase():null}function h(t,e){return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}function c(t){return"input"===t.nodeName.toLowerCase()?t.defaultValue:void 0}function u(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||J)-(~t.sourceIndex||J);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function d(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function p(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function f(t){return s(function(e){return e=+e,s(function(i,n){for(var o,s=t([],i.length,e),r=s.length;r--;)i[o=s[r]]&&(i[o]=!(n[o]=i[o]))})})}function m(t,e){var n,o,s,r,a,l,h,c=G[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],h=R.preFilter;a;){(!n||(o=mt.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),n=!1,(o=gt.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(ft," ")}),a=a.slice(n.length));for(r in R.filter)!(o=Ct[r].exec(a))||h[r]&&!(o=h[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?i.error(t):G(t,l).slice(0)}function g(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function v(t,e,i){var n=e.dir,o=i&&"parentNode"===n,s=q++;return e.first?function(e,i,s){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,s)}:function(e,i,r){var a,l,h,c=V+" "+s;if(r){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,r))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(h=e[$]||(e[$]={}),(l=h[n])&&l[0]===c){if((a=l[1])===!0||a===E)return a===!0}else if(l=h[n]=[c],l[1]=t(e,i,r)||E,l[1]===!0)return!0}}function y(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function w(t,e,i,n,o){for(var s,r=[],a=0,l=t.length,h=null!=e;l>a;a++)(s=t[a])&&(!i||i(s,n,o))&&(r.push(s),h&&e.push(a));return r}function b(t,e,i,n,o,r){return n&&!n[$]&&(n=b(n)),o&&!o[$]&&(o=b(o,r)),s(function(s,r,a,l){var h,c,u,d=[],p=[],f=r.length,m=s||x(e||"*",a.nodeType?[a]:a,[]),g=!t||!s&&e?m:w(m,d,t,a,l),v=i?o||(s?t:f||n)?[]:r:g;if(i&&i(g,v,a,l),n)for(h=w(v,p),n(h,[],a,l),c=h.length;c--;)(u=h[c])&&(v[p[c]]=!(g[p[c]]=u));if(s){if(o||t){if(o){for(h=[],c=v.length;c--;)(u=v[c])&&h.push(g[c]=u);o(null,v=[],h,l)}for(c=v.length;c--;)(u=v[c])&&(h=o?rt.call(s,u):d[c])>-1&&(s[h]=!(r[h]=u))}}else v=w(v===r?v.splice(f,v.length):v),o?o(null,r,v,l):ot.apply(r,v)})}function C(t){for(var e,i,n,o=t.length,s=R.relative[t[0].type],r=s||R.relative[" "],a=s?1:0,l=v(function(t){return t===e},r,!0),h=v(function(t){return rt.call(e,t)>-1},r,!0),c=[function(t,i,n){return!s&&(n||i!==H)||((e=i).nodeType?l(t,i,n):h(t,i,n))}];o>a;a++)if(i=R.relative[t[a].type])c=[v(y(c),i)];else{if(i=R.filter[t[a].type].apply(null,t[a].matches),i[$]){for(n=++a;o>n&&!R.relative[t[n].type];n++);return b(a>1&&y(c),a>1&&g(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ft,"$1"),i,n>a&&C(t.slice(a,n)),o>n&&C(t=t.slice(n)),o>n&&g(t))}c.push(i)}return y(c)}function _(t,e){var n=0,o=e.length>0,r=t.length>0,a=function(s,a,l,h,c){var u,d,p,f=[],m=0,g="0",v=s&&[],y=null!=c,b=H,C=s||r&&R.find.TAG("*",c&&a.parentNode||a),_=V+=null==b?1:Math.random()||.1;for(y&&(H=a!==N&&a,E=n);null!=(u=C[g]);g++){if(r&&u){for(d=0;p=t[d++];)if(p(u,a,l)){h.push(u);break}y&&(V=_,E=++n)}o&&((u=!p&&u)&&m--,s&&v.push(u))}if(m+=g,o&&g!==m){for(d=0;p=e[d++];)p(v,f,a,l);if(s){if(m>0)for(;g--;)v[g]||f[g]||(f[g]=it.call(h));f=w(f)}ot.apply(h,f),y&&!s&&f.length>0&&m+e.length>1&&i.uniqueSort(h)}return y&&(V=_,H=b),v};return o?s(a):a}function x(t,e,n){for(var o=0,s=e.length;s>o;o++)i(t,e[o],n);return n}function k(t,e,i,n){var o,s,r,a,l,h=m(t);if(!n&&1===h.length){if(s=h[0]=h[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&D.getById&&9===e.nodeType&&z&&R.relative[s[1].type]){if(e=(R.find.ID(r.matches[0].replace(Dt,Et),e)||[])[0],!e)return i;t=t.slice(s.shift().value.length)}for(o=Ct.needsContext.test(t)?0:s.length;o--&&(r=s[o],!R.relative[a=r.type]);)if((l=R.find[a])&&(n=l(r.matches[0].replace(Dt,Et),vt.test(s[0].type)&&e.parentNode||e))){if(s.splice(o,1),t=n.length&&g(s),!t)return ot.apply(i,n),i;break}}return P(t,h)(n,e,!z,i,vt.test(t)),i}function S(){}var T,D,E,R,A,M,P,H,I,O,N,L,z,F,W,j,B,$="sizzle"+-new Date,Y=t.document,V=0,q=0,U=o(),G=o(),X=o(),K=!1,Z=function(){return 0},Q=typeof e,J=1<<31,tt={}.hasOwnProperty,et=[],it=et.pop,nt=et.push,ot=et.push,st=et.slice,rt=et.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},at="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",lt="[\\x20\\t\\r\\n\\f]",ht="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ut=ht.replace("w","w#"),dt="\\["+lt+"*("+ht+")"+lt+"*(?:([*^$|!~]?=)"+lt+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ut+")|)|)"+lt+"*\\]",pt=":("+ht+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+dt.replace(3,8)+")*)|.*)\\)|)",ft=new RegExp("^"+lt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+lt+"+$","g"),mt=new RegExp("^"+lt+"*,"+lt+"*"),gt=new RegExp("^"+lt+"*([>+~]|"+lt+")"+lt+"*"),vt=new RegExp(lt+"*[+~]"),yt=new RegExp("="+lt+"*([^\\]'\"]*)"+lt+"*\\]","g"),wt=new RegExp(pt),bt=new RegExp("^"+ut+"$"),Ct={ID:new RegExp("^#("+ht+")"),CLASS:new RegExp("^\\.("+ht+")"),TAG:new RegExp("^("+ht.replace("w","w*")+")"),ATTR:new RegExp("^"+dt),PSEUDO:new RegExp("^"+pt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+lt+"*(even|odd|(([+-]|)(\\d*)n|)"+lt+"*(?:([+-]|)"+lt+"*(\\d+)|))"+lt+"*\\)|)","i"),bool:new RegExp("^(?:"+at+")$","i"),needsContext:new RegExp("^"+lt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+lt+"*((?:-\\d)?\\d*)"+lt+"*\\)|)(?=[^-]|$)","i")},_t=/^[^{]+\{\s*\[native \w/,xt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,kt=/^(?:input|select|textarea|button)$/i,St=/^h\d$/i,Tt=/'|\\/g,Dt=new RegExp("\\\\([\\da-f]{1,6}"+lt+"?|("+lt+")|.)","ig"),Et=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{ot.apply(et=st.call(Y.childNodes),Y.childNodes),et[Y.childNodes.length].nodeType}catch(Rt){ot={apply:et.length?function(t,e){nt.apply(t,st.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}M=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},D=i.support={},O=i.setDocument=function(t){var e=t?t.ownerDocument||t:Y;return e!==N&&9===e.nodeType&&e.documentElement?(N=e,L=e.documentElement,z=!M(e),D.attributes=r(function(t){return t.innerHTML="<a href='#'></a>",a("type|href|height|width",h,"#"===t.firstChild.getAttribute("href")),a(at,l,null==t.getAttribute("disabled")),t.className="i",!t.getAttribute("className")}),D.input=r(function(t){return t.innerHTML="<input>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}),a("value",c,D.attributes&&D.input),D.getElementsByTagName=r(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),D.getElementsByClassName=r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),D.getById=r(function(t){return L.appendChild(t).id=$,!e.getElementsByName||!e.getElementsByName($).length}),D.getById?(R.find.ID=function(t,e){if(typeof e.getElementById!==Q&&z){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},R.filter.ID=function(t){var e=t.replace(Dt,Et);return function(t){return t.getAttribute("id")===e}}):(delete R.find.ID,R.filter.ID=function(t){var e=t.replace(Dt,Et);return function(t){var i=typeof t.getAttributeNode!==Q&&t.getAttributeNode("id");return i&&i.value===e}}),R.find.TAG=D.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==Q?e.getElementsByTagName(t):void 0}:function(t,e){var i,n=[],o=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},R.find.CLASS=D.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==Q&&z?e.getElementsByClassName(t):void 0},W=[],F=[],(D.qsa=n(e.querySelectorAll))&&(r(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||F.push("\\["+lt+"*(?:value|"+at+")"),t.querySelectorAll(":checked").length||F.push(":checked")}),r(function(t){var i=e.createElement("input");i.setAttribute("type","hidden"),t.appendChild(i).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&F.push("[*^$]="+lt+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||F.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),F.push(",.*:")})),(D.matchesSelector=n(j=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&r(function(t){D.disconnectedMatch=j.call(t,"div"),j.call(t,"[s!='']:x"),W.push("!=",pt)}),F=F.length&&new RegExp(F.join("|")),W=W.length&&new RegExp(W.join("|")),B=n(L.contains)||L.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},D.sortDetached=r(function(t){return 1&t.compareDocumentPosition(e.createElement("div"))}),Z=L.compareDocumentPosition?function(t,i){if(t===i)return K=!0,0;var n=i.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(i);return n?1&n||!D.sortDetached&&i.compareDocumentPosition(t)===n?t===e||B(Y,t)?-1:i===e||B(Y,i)?1:I?rt.call(I,t)-rt.call(I,i):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,i){var n,o=0,s=t.parentNode,r=i.parentNode,a=[t],l=[i];if(t===i)return K=!0,0;if(!s||!r)return t===e?-1:i===e?1:s?-1:r?1:I?rt.call(I,t)-rt.call(I,i):0;if(s===r)return u(t,i);for(n=t;n=n.parentNode;)a.unshift(n);for(n=i;n=n.parentNode;)l.unshift(n);for(;a[o]===l[o];)o++;return o?u(a[o],l[o]):a[o]===Y?-1:l[o]===Y?1:0},e):N},i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){if((t.ownerDocument||t)!==N&&O(t),e=e.replace(yt,"='$1']"),D.matchesSelector&&z&&(!W||!W.test(e))&&(!F||!F.test(e)))try{var n=j.call(t,e);if(n||D.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return i(e,N,null,[t]).length>0},i.contains=function(t,e){return(t.ownerDocument||t)!==N&&O(t),B(t,e)},i.attr=function(t,i){(t.ownerDocument||t)!==N&&O(t);var n=R.attrHandle[i.toLowerCase()],o=n&&tt.call(R.attrHandle,i.toLowerCase())?n(t,i,!z):e;return o===e?D.attributes||!z?t.getAttribute(i):(o=t.getAttributeNode(i))&&o.specified?o.value:null:o},i.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},i.uniqueSort=function(t){var e,i=[],n=0,o=0;if(K=!D.detectDuplicates,I=!D.sortStable&&t.slice(0),t.sort(Z),K){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return t},A=i.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=A(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n];n++)i+=A(e);return i},R=i.selectors={cacheLength:50,createPseudo:s,match:Ct,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Dt,Et),t[3]=(t[4]||t[5]||"").replace(Dt,Et),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||i.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&i.error(t[0]),t},PSEUDO:function(t){var i,n=!t[5]&&t[2];return Ct.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:n&&wt.test(n)&&(i=m(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(t[0]=t[0].slice(0,i),t[2]=n.slice(0,i)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Dt,Et).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=U[t+" "];return e||(e=new RegExp("(^|"+lt+")"+t+"("+lt+"|$)"))&&U(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==Q&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(o){var s=i.attr(o,t);return null==s?"!="===e:e?(s+="","="===e?s===n:"!="===e?s!==n:"^="===e?n&&0===s.indexOf(n):"*="===e?n&&s.indexOf(n)>-1:"$="===e?n&&s.slice(-n.length)===n:"~="===e?(" "+s+" ").indexOf(n)>-1:"|="===e?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var s="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var h,c,u,d,p,f,m=s!==r?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(s){for(;m;){for(u=e;u=u[m];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&y){for(c=g[$]||(g[$]={}),h=c[t]||[],p=h[0]===V&&h[1],d=h[0]===V&&h[2],u=p&&g.childNodes[p];u=++p&&u&&u[m]||(d=p=0)||f.pop();)if(1===u.nodeType&&++d&&u===e){c[t]=[V,p,d];break}}else if(y&&(h=(e[$]||(e[$]={}))[t])&&h[0]===V)d=h[1];else for(;(u=++p&&u&&u[m]||(d=p=0)||f.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++d||(y&&((u[$]||(u[$]={}))[t]=[V,d]),u!==e)););return d-=o,d===n||d%n===0&&d/n>=0}}},PSEUDO:function(t,e){var n,o=R.pseudos[t]||R.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return o[$]?o(e):o.length>1?(n=[t,t,"",e],R.setFilters.hasOwnProperty(t.toLowerCase())?s(function(t,i){for(var n,s=o(t,e),r=s.length;r--;)n=rt.call(t,s[r]),t[n]=!(i[n]=s[r])}):function(t){return o(t,0,n)}):o}},pseudos:{not:s(function(t){var e=[],i=[],n=P(t.replace(ft,"$1"));return n[$]?s(function(t,e,i,o){for(var s,r=n(t,null,o,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))}):function(t,o,s){return e[0]=t,n(e,null,s,i),!i.pop()}}),has:s(function(t){return function(e){return i(t,e).length>0}}),contains:s(function(t){return function(e){return(e.textContent||e.innerText||A(e)).indexOf(t)>-1}}),lang:s(function(t){return bt.test(t||"")||i.error("unsupported lang: "+t),t=t.replace(Dt,Et).toLowerCase(),function(e){var i;do if(i=z?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!R.pseudos.empty(t)},header:function(t){return St.test(t.nodeName)},input:function(t){return kt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:f(function(){return[0]}),last:f(function(t,e){return[e-1]}),eq:f(function(t,e,i){return[0>i?i+e:i]}),even:f(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:f(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:f(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:f(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}};for(T in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})R.pseudos[T]=d(T);for(T in{submit:!0,reset:!0})R.pseudos[T]=p(T);P=i.compile=function(t,e){var i,n=[],o=[],s=X[t+" "];if(!s){for(e||(e=m(t)),i=e.length;i--;)s=C(e[i]),s[$]?n.push(s):o.push(s);s=X(t,_(o,n))}return s},R.pseudos.nth=R.pseudos.eq,S.prototype=R.filters=R.pseudos,R.setFilters=new S,D.sortStable=$.split("").sort(Z).join("")===$,O(),[0,0].sort(Z),D.detectDuplicates=K,ct.find=i,ct.expr=i.selectors,ct.expr[":"]=ct.expr.pseudos,ct.unique=i.uniqueSort,ct.text=i.getText,ct.isXMLDoc=i.isXML,ct.contains=i.contains}(t);var St={};ct.Callbacks=function(t){t="string"==typeof t?St[t]||n(t):ct.extend({},t);var i,o,s,r,a,l,h=[],c=!t.once&&[],u=function(e){for(o=t.memory&&e,s=!0,a=l||0,l=0,r=h.length,i=!0;h&&r>a;a++)if(h[a].apply(e[0],e[1])===!1&&t.stopOnFalse){o=!1;break}i=!1,h&&(c?c.length&&u(c.shift()):o?h=[]:d.disable())},d={add:function(){if(h){var e=h.length;!function n(e){ct.each(e,function(e,i){var o=ct.type(i);"function"===o?t.unique&&d.has(i)||h.push(i):i&&i.length&&"string"!==o&&n(i)})}(arguments),i?r=h.length:o&&(l=e,u(o))}return this},remove:function(){return h&&ct.each(arguments,function(t,e){for(var n;(n=ct.inArray(e,h,n))>-1;)h.splice(n,1),i&&(r>=n&&r--,a>=n&&a--)}),this},has:function(t){return t?ct.inArray(t,h)>-1:!(!h||!h.length)},empty:function(){return h=[],r=0,this},disable:function(){return h=c=o=e,this},disabled:function(){return!h},lock:function(){return c=e,o||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return e=e||[],e=[t,e.slice?e.slice():e],!h||s&&!c||(i?c.push(e):u(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!s}};return d},ct.extend({Deferred:function(t){var e=[["resolve","done",ct.Callbacks("once memory"),"resolved"],["reject","fail",ct.Callbacks("once memory"),"rejected"],["notify","progress",ct.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return ct.Deferred(function(i){ct.each(e,function(e,s){var r=s[0],a=ct.isFunction(t[e])&&t[e];o[s[1]](function(){var t=a&&a.apply(this,arguments);t&&ct.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?ct.extend(t,n):n}},o={};return n.pipe=n.then,ct.each(e,function(t,s){var r=s[2],a=s[3];n[s[1]]=r.add,a&&r.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?n:this,arguments),this},o[s[0]+"With"]=r.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,s=st.call(arguments),r=s.length,a=1!==r||t&&ct.isFunction(t.promise)?r:0,l=1===a?t:ct.Deferred(),h=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?st.call(arguments):o,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(e=new Array(r),i=new Array(r),n=new Array(r);r>o;o++)s[o]&&ct.isFunction(s[o].promise)?s[o].promise().done(h(o,n,s)).fail(l.reject).progress(h(o,i,e)):--a;return a||l.resolveWith(n,s),l.promise()}}),ct.support=function(e){var i,n,o,s,r,a,l,h,c,u=K.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=u.getElementsByTagName("*")||[],n=u.getElementsByTagName("a")[0],!n||!n.style||!i.length)return e;s=K.createElement("select"),a=s.appendChild(K.createElement("option")),o=u.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",e.getSetAttribute="t"!==u.className,e.leadingWhitespace=3===u.firstChild.nodeType,e.tbody=!u.getElementsByTagName("tbody").length,e.htmlSerialize=!!u.getElementsByTagName("link").length,e.style=/top/.test(n.getAttribute("style")),e.hrefNormalized="/a"===n.getAttribute("href"),e.opacity=/^0.5/.test(n.style.opacity),e.cssFloat=!!n.style.cssFloat,e.checkOn=!!o.value,e.optSelected=a.selected,e.enctype=!!K.createElement("form").enctype,e.html5Clone="<:nav></:nav>"!==K.createElement("nav").cloneNode(!0).outerHTML,e.inlineBlockNeedsLayout=!1,e.shrinkWrapBlocks=!1,e.pixelPosition=!1,e.deleteExpando=!0,e.noCloneEvent=!0,e.reliableMarginRight=!0,e.boxSizingReliable=!0,o.checked=!0,e.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,e.optDisabled=!a.disabled;try{delete u.test}catch(d){e.deleteExpando=!1}o=K.createElement("input"),o.setAttribute("value",""),e.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),e.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),r=K.createDocumentFragment(),r.appendChild(o),e.appendChecked=o.checked,e.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){e.noCloneEvent=!1}),u.cloneNode(!0).click());for(c in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+c,"t"),e[c+"Bubbles"]=l in t||u.attributes[l].expando===!1;u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===u.style.backgroundClip;for(c in ct(e))break;return e.ownLast="0"!==c,ct(function(){var i,n,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=K.getElementsByTagName("body")[0];r&&(i=K.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(i).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=u.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",h=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",e.reliableHiddenOffsets=h&&0===o[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ct.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===u.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(u,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(u,null)||{width:"4px"}).width,n=u.appendChild(K.createElement("div")),n.style.cssText=u.style.cssText=s,n.style.marginRight=n.style.width="0",u.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(n,null)||{}).marginRight)),typeof u.style.zoom!==G&&(u.innerHTML="",u.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",e.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",e.shrinkWrapBlocks=3!==u.offsetWidth,e.inlineBlockNeedsLayout&&(r.style.zoom=1)),r.removeChild(i),i=u=o=n=null)}),i=s=r=a=n=o=null,e}({});var Tt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Dt=/([A-Z])/g;ct.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?ct.cache[t[ct.expando]]:t[ct.expando],!!t&&!a(t)},data:function(t,e,i){return o(t,e,i)},removeData:function(t,e){return s(t,e)},_data:function(t,e,i){return o(t,e,i,!0)},_removeData:function(t,e){return s(t,e,!0)},acceptData:function(t){if(t.nodeType&&1!==t.nodeType&&9!==t.nodeType)return!1;var e=t.nodeName&&ct.noData[t.nodeName.toLowerCase()];return!e||e!==!0&&t.getAttribute("classid")===e}}),ct.fn.extend({data:function(t,i){var n,o,s=null,a=0,l=this[0];if(t===e){if(this.length&&(s=ct.data(l),1===l.nodeType&&!ct._data(l,"parsedAttrs"))){for(n=l.attributes;a<n.length;a++)o=n[a].name,0===o.indexOf("data-")&&(o=ct.camelCase(o.slice(5)),r(l,o,s[o]));ct._data(l,"parsedAttrs",!0)}return s}return"object"==typeof t?this.each(function(){ct.data(this,t)}):arguments.length>1?this.each(function(){ct.data(this,t,i)}):l?r(l,t,ct.data(l,t)):null},removeData:function(t){return this.each(function(){ct.removeData(this,t)})}}),ct.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=ct._data(t,e),i&&(!n||ct.isArray(i)?n=ct._data(t,e,ct.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=ct.queue(t,e),n=i.length,o=i.shift(),s=ct._queueHooks(t,e),r=function(){ct.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),s.cur=o,o&&("fx"===e&&i.unshift("inprogress"),delete s.stop,o.call(t,r,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return ct._data(t,i)||ct._data(t,i,{empty:ct.Callbacks("once memory").add(function(){ct._removeData(t,e+"queue"),ct._removeData(t,i)})})}}),ct.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?ct.queue(this[0],t):i===e?this:this.each(function(){var e=ct.queue(this,t,i);ct._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&ct.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ct.dequeue(this,t)})},delay:function(t,e){return t=ct.fx?ct.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,o=1,s=ct.Deferred(),r=this,a=this.length,l=function(){--o||s.resolveWith(r,[r])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";a--;)n=ct._data(r[a],t+"queueHooks"),n&&n.empty&&(o++,n.empty.add(l));return l(),s.promise(i)}});var Et,Rt,At=/[\t\r\n\f]/g,Mt=/\r/g,Pt=/^(?:input|select|textarea|button|object)$/i,Ht=/^(?:a|area)$/i,It=/^(?:checked|selected)$/i,Ot=ct.support.getSetAttribute,Nt=ct.support.input;ct.fn.extend({attr:function(t,e){return ct.access(this,ct.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ct.removeAttr(this,t)})},prop:function(t,e){return ct.access(this,ct.prop,t,e,arguments.length>1)},removeProp:function(t){return t=ct.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,o,s,r=0,a=this.length,l="string"==typeof t&&t;if(ct.isFunction(t))return this.each(function(e){ct(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(dt)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(At," "):" ")){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");i.className=ct.trim(n)}return this},removeClass:function(t){var e,i,n,o,s,r=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(ct.isFunction(t))return this.each(function(e){ct(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(dt)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(At," "):"")){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");i.className=t?ct.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return ct.isFunction(t)?this.each(function(i){ct(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var o,s=0,r=ct(this),a=e,l=t.match(dt)||[];o=l[s++];)a=n?a:!r.hasClass(o),r[a?"addClass":"removeClass"](o);else(i===G||"boolean"===i)&&(this.className&&ct._data(this,"__className__",this.className),this.className=this.className||t===!1?"":ct._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(At," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,o,s=this[0];{if(arguments.length)return o=ct.isFunction(t),this.each(function(i){var s;1===this.nodeType&&(s=o?t.call(this,i,ct(this).val()):t,null==s?s="":"number"==typeof s?s+="":ct.isArray(s)&&(s=ct.map(s,function(t){return null==t?"":t+""})),n=ct.valHooks[this.type]||ct.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,s,"value")!==e||(this.value=s))});if(s)return n=ct.valHooks[s.type]||ct.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(s,"value"))!==e?i:(i=s.value,"string"==typeof i?i.replace(Mt,""):null==i?"":i)}}}),ct.extend({valHooks:{option:{get:function(t){var e=ct.find.attr(t,"value");return null!=e?e:t.text}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,s="select-one"===t.type||0>o,r=s?null:[],a=s?o+1:n.length,l=0>o?a:s?o:0;a>l;l++)if(i=n[l],(i.selected||l===o)&&(ct.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!ct.nodeName(i.parentNode,"optgroup"))){if(e=ct(i).val(),s)return e;r.push(e)}return r},set:function(t,e){for(var i,n,o=t.options,s=ct.makeArray(e),r=o.length;r--;)n=o[r],(n.selected=ct.inArray(ct(n).val(),s)>=0)&&(i=!0);return i||(t.selectedIndex=-1),s}}},attr:function(t,i,n){var o,s,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return typeof t.getAttribute===G?ct.prop(t,i,n):(1===r&&ct.isXMLDoc(t)||(i=i.toLowerCase(),o=ct.attrHooks[i]||(ct.expr.match.bool.test(i)?Rt:Et)),n===e?o&&"get"in o&&null!==(s=o.get(t,i))?s:(s=ct.find.attr(t,i),null==s?e:s):null!==n?o&&"set"in o&&(s=o.set(t,n,i))!==e?s:(t.setAttribute(i,n+""),n):void ct.removeAttr(t,i))},removeAttr:function(t,e){var i,n,o=0,s=e&&e.match(dt);if(s&&1===t.nodeType)for(;i=s[o++];)n=ct.propFix[i]||i,ct.expr.match.bool.test(i)?Nt&&Ot||!It.test(i)?t[n]=!1:t[ct.camelCase("default-"+i)]=t[n]=!1:ct.attr(t,i,""),t.removeAttribute(Ot?i:n)},attrHooks:{type:{set:function(t,e){if(!ct.support.radioValue&&"radio"===e&&ct.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,i,n){var o,s,r,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return r=1!==a||!ct.isXMLDoc(t),r&&(i=ct.propFix[i]||i,s=ct.propHooks[i]),n!==e?s&&"set"in s&&(o=s.set(t,n,i))!==e?o:t[i]=n:s&&"get"in s&&null!==(o=s.get(t,i))?o:t[i]},propHooks:{tabIndex:{get:function(t){var e=ct.find.attr(t,"tabindex");return e?parseInt(e,10):Pt.test(t.nodeName)||Ht.test(t.nodeName)&&t.href?0:-1}}}}),Rt={set:function(t,e,i){return e===!1?ct.removeAttr(t,i):Nt&&Ot||!It.test(i)?t.setAttribute(!Ot&&ct.propFix[i]||i,i):t[ct.camelCase("default-"+i)]=t[i]=!0,i}},ct.each(ct.expr.match.bool.source.match(/\w+/g),function(t,i){var n=ct.expr.attrHandle[i]||ct.find.attr;ct.expr.attrHandle[i]=Nt&&Ot||!It.test(i)?function(t,i,o){var s=ct.expr.attrHandle[i],r=o?e:(ct.expr.attrHandle[i]=e)!=n(t,i,o)?i.toLowerCase():null;return ct.expr.attrHandle[i]=s,r}:function(t,i,n){return n?e:t[ct.camelCase("default-"+i)]?i.toLowerCase():null}}),Nt&&Ot||(ct.attrHooks.value={set:function(t,e,i){return ct.nodeName(t,"input")?void(t.defaultValue=e):Et&&Et.set(t,e,i)}}),Ot||(Et={set:function(t,i,n){var o=t.getAttributeNode(n);return o||t.setAttributeNode(o=t.ownerDocument.createAttribute(n)),o.value=i+="","value"===n||i===t.getAttribute(n)?i:e}},ct.expr.attrHandle.id=ct.expr.attrHandle.name=ct.expr.attrHandle.coords=function(t,i,n){var o;return n?e:(o=t.getAttributeNode(i))&&""!==o.value?o.value:null},ct.valHooks.button={get:function(t,i){var n=t.getAttributeNode(i);return n&&n.specified?n.value:e},set:Et.set},ct.attrHooks.contenteditable={set:function(t,e,i){Et.set(t,""===e?!1:e,i)}},ct.each(["width","height"],function(t,e){ct.attrHooks[e]={set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}}})),ct.support.hrefNormalized||ct.each(["href","src"],function(t,e){ct.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ct.support.style||(ct.attrHooks.style={get:function(t){return t.style.cssText||e},set:function(t,e){return t.style.cssText=e+""}}),ct.support.optSelected||(ct.propHooks.selected={get:function(t){var e=t.parentNode;
return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),ct.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ct.propFix[this.toLowerCase()]=this}),ct.support.enctype||(ct.propFix.enctype="encoding"),ct.each(["radio","checkbox"],function(){ct.valHooks[this]={set:function(t,e){return ct.isArray(e)?t.checked=ct.inArray(ct(t).val(),e)>=0:void 0}},ct.support.checkOn||(ct.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Lt=/^(?:input|select|textarea)$/i,zt=/^key/,Ft=/^(?:mouse|contextmenu)|click/,Wt=/^(?:focusinfocus|focusoutblur)$/,jt=/^([^.]*)(?:\.(.+)|)$/;ct.event={global:{},add:function(t,i,n,o,s){var r,a,l,h,c,u,d,p,f,m,g,v=ct._data(t);if(v){for(n.handler&&(h=n,n=h.handler,s=h.selector),n.guid||(n.guid=ct.guid++),(a=v.events)||(a=v.events={}),(u=v.handle)||(u=v.handle=function(t){return typeof ct===G||t&&ct.event.triggered===t.type?e:ct.event.dispatch.apply(u.elem,arguments)},u.elem=t),i=(i||"").match(dt)||[""],l=i.length;l--;)r=jt.exec(i[l])||[],f=g=r[1],m=(r[2]||"").split(".").sort(),f&&(c=ct.event.special[f]||{},f=(s?c.delegateType:c.bindType)||f,c=ct.event.special[f]||{},d=ct.extend({type:f,origType:g,data:o,handler:n,guid:n.guid,selector:s,needsContext:s&&ct.expr.match.needsContext.test(s),namespace:m.join(".")},h),(p=a[f])||(p=a[f]=[],p.delegateCount=0,c.setup&&c.setup.call(t,o,m,u)!==!1||(t.addEventListener?t.addEventListener(f,u,!1):t.attachEvent&&t.attachEvent("on"+f,u))),c.add&&(c.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),s?p.splice(p.delegateCount++,0,d):p.push(d),ct.event.global[f]=!0);t=null}},remove:function(t,e,i,n,o){var s,r,a,l,h,c,u,d,p,f,m,g=ct.hasData(t)&&ct._data(t);if(g&&(c=g.events)){for(e=(e||"").match(dt)||[""],h=e.length;h--;)if(a=jt.exec(e[h])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(u=ct.event.special[p]||{},p=(n?u.delegateType:u.bindType)||p,d=c[p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=d.length;s--;)r=d[s],!o&&m!==r.origType||i&&i.guid!==r.guid||a&&!a.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(d.splice(s,1),r.selector&&d.delegateCount--,u.remove&&u.remove.call(t,r));l&&!d.length&&(u.teardown&&u.teardown.call(t,f,g.handle)!==!1||ct.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)ct.event.remove(t,p+e[h],i,n,!0);ct.isEmptyObject(c)&&(delete g.handle,ct._removeData(t,"events"))}},trigger:function(i,n,o,s){var r,a,l,h,c,u,d,p=[o||K],f=lt.call(i,"type")?i.type:i,m=lt.call(i,"namespace")?i.namespace.split("."):[];if(l=u=o=o||K,3!==o.nodeType&&8!==o.nodeType&&!Wt.test(f+ct.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=f.indexOf(":")<0&&"on"+f,i=i[ct.expando]?i:new ct.Event(f,"object"==typeof i&&i),i.isTrigger=s?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=o),n=null==n?[i]:ct.makeArray(n,[i]),c=ct.event.special[f]||{},s||!c.trigger||c.trigger.apply(o,n)!==!1)){if(!s&&!c.noBubble&&!ct.isWindow(o)){for(h=c.delegateType||f,Wt.test(h+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),u=l;u===(o.ownerDocument||K)&&p.push(u.defaultView||u.parentWindow||t)}for(d=0;(l=p[d++])&&!i.isPropagationStopped();)i.type=d>1?h:c.bindType||f,r=(ct._data(l,"events")||{})[i.type]&&ct._data(l,"handle"),r&&r.apply(l,n),r=a&&l[a],r&&ct.acceptData(l)&&r.apply&&r.apply(l,n)===!1&&i.preventDefault();if(i.type=f,!s&&!i.isDefaultPrevented()&&(!c._default||c._default.apply(p.pop(),n)===!1)&&ct.acceptData(o)&&a&&o[f]&&!ct.isWindow(o)){u=o[a],u&&(o[a]=null),ct.event.triggered=f;try{o[f]()}catch(g){}ct.event.triggered=e,u&&(o[a]=u)}return i.result}},dispatch:function(t){t=ct.event.fix(t);var i,n,o,s,r,a=[],l=st.call(arguments),h=(ct._data(this,"events")||{})[t.type]||[],c=ct.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=ct.event.handlers.call(this,t,h),i=0;(s=a[i++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,r=0;(o=s.handlers[r++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,n=((ct.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,l),n!==e&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,i){var n,o,s,r,a=[],l=i.delegateCount,h=t.target;if(l&&h.nodeType&&(!t.button||"click"!==t.type))for(;h!=this;h=h.parentNode||this)if(1===h.nodeType&&(h.disabled!==!0||"click"!==t.type)){for(s=[],r=0;l>r;r++)o=i[r],n=o.selector+" ",s[n]===e&&(s[n]=o.needsContext?ct(n,this).index(h)>=0:ct.find(n,this,null,[h]).length),s[n]&&s.push(o);s.length&&a.push({elem:h,handlers:s})}return l<i.length&&a.push({elem:this,handlers:i.slice(l)}),a},fix:function(t){if(t[ct.expando])return t;var e,i,n,o=t.type,s=t,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Ft.test(o)?this.mouseHooks:zt.test(o)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,t=new ct.Event(s),e=n.length;e--;)i=n[e],t[i]=s[i];return t.target||(t.target=s.srcElement||K),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,s):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,o,s,r=i.button,a=i.fromElement;return null==t.pageX&&null!=i.clientX&&(o=t.target.ownerDocument||K,s=o.documentElement,n=o.body,t.pageX=i.clientX+(s&&s.scrollLeft||n&&n.scrollLeft||0)-(s&&s.clientLeft||n&&n.clientLeft||0),t.pageY=i.clientY+(s&&s.scrollTop||n&&n.scrollTop||0)-(s&&s.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&a&&(t.relatedTarget=a===t.target?i.toElement:a),t.which||r===e||(t.which=1&r?1:2&r?3:4&r?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return ct.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return ct.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=ct.extend(new ct.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?ct.event.trigger(o,null,e):ct.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},ct.removeEvent=K.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){var n="on"+e;t.detachEvent&&(typeof t[n]===G&&(t[n]=null),t.detachEvent(n,i))},ct.Event=function(t,e){return this instanceof ct.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?l:h):this.type=t,e&&ct.extend(this,e),this.timeStamp=t&&t.timeStamp||ct.now(),void(this[ct.expando]=!0)):new ct.Event(t,e)},ct.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ct.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){ct.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,s=t.handleObj;return(!o||o!==n&&!ct.contains(n,o))&&(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),ct.support.submitBubbles||(ct.event.special.submit={setup:function(){return ct.nodeName(this,"form")?!1:void ct.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=ct.nodeName(i,"input")||ct.nodeName(i,"button")?i.form:e;n&&!ct._data(n,"submitBubbles")&&(ct.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),ct._data(n,"submitBubbles",!0))})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&ct.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return ct.nodeName(this,"form")?!1:void ct.event.remove(this,"._submit")}}),ct.support.changeBubbles||(ct.event.special.change={setup:function(){return Lt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ct.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),ct.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),ct.event.simulate("change",this,t,!0)})),!1):void ct.event.add(this,"beforeactivate._change",function(t){var e=t.target;Lt.test(e.nodeName)&&!ct._data(e,"changeBubbles")&&(ct.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||ct.event.simulate("change",this.parentNode,t,!0)}),ct._data(e,"changeBubbles",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return ct.event.remove(this,"._change"),!Lt.test(this.nodeName)}}),ct.support.focusinBubbles||ct.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){ct.event.simulate(e,t.target,ct.event.fix(t),!0)};ct.event.special[e]={setup:function(){0===i++&&K.addEventListener(t,n,!0)},teardown:function(){0===--i&&K.removeEventListener(t,n,!0)}}}),ct.fn.extend({on:function(t,i,n,o,s){var r,a;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(r in t)this.on(r,i,n,t[r],s);return this}if(null==n&&null==o?(o=i,n=i=e):null==o&&("string"==typeof i?(o=n,n=e):(o=n,n=i,i=e)),o===!1)o=h;else if(!o)return this;return 1===s&&(a=o,o=function(t){return ct().off(t),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ct.guid++)),this.each(function(){ct.event.add(this,t,o,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var o,s;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,ct(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(s in t)this.off(s,i,t[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=h),this.each(function(){ct.event.remove(this,t,n,i)})},trigger:function(t,e){return this.each(function(){ct.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?ct.event.trigger(t,e,i,!0):void 0}});var Bt=/^.[^:#\[\.,]*$/,$t=/^(?:parents|prev(?:Until|All))/,Yt=ct.expr.match.needsContext,Vt={children:!0,contents:!0,next:!0,prev:!0};ct.fn.extend({find:function(t){var e,i=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(ct(t).filter(function(){for(e=0;o>e;e++)if(ct.contains(n[e],this))return!0}));for(e=0;o>e;e++)ct.find(t,n[e],i);return i=this.pushStack(o>1?ct.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},has:function(t){var e,i=ct(t,this),n=i.length;return this.filter(function(){for(e=0;n>e;e++)if(ct.contains(this,i[e]))return!0})},not:function(t){return this.pushStack(d(this,t||[],!0))},filter:function(t){return this.pushStack(d(this,t||[],!1))},is:function(t){return!!d(this,"string"==typeof t&&Yt.test(t)?ct(t):t||[],!1).length},closest:function(t,e){for(var i,n=0,o=this.length,s=[],r=Yt.test(t)||"string"!=typeof t?ct(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&ct.find.matchesSelector(i,t))){i=s.push(i);break}return this.pushStack(s.length>1?ct.unique(s):s)},index:function(t){return t?"string"==typeof t?ct.inArray(this[0],ct(t)):ct.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?ct(t,e):ct.makeArray(t&&t.nodeType?[t]:t),n=ct.merge(this.get(),i);return this.pushStack(ct.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ct.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return ct.dir(t,"parentNode")},parentsUntil:function(t,e,i){return ct.dir(t,"parentNode",i)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return ct.dir(t,"nextSibling")},prevAll:function(t){return ct.dir(t,"previousSibling")},nextUntil:function(t,e,i){return ct.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return ct.dir(t,"previousSibling",i)},siblings:function(t){return ct.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return ct.sibling(t.firstChild)},contents:function(t){return ct.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:ct.merge([],t.childNodes)}},function(t,e){ct.fn[t]=function(i,n){var o=ct.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=ct.filter(n,o)),this.length>1&&(Vt[t]||(o=ct.unique(o)),$t.test(t)&&(o=o.reverse())),this.pushStack(o)}}),ct.extend({filter:function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?ct.find.matchesSelector(n,t)?[n]:[]:ct.find.matches(t,ct.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,i,n){for(var o=[],s=t[i];s&&9!==s.nodeType&&(n===e||1!==s.nodeType||!ct(s).is(n));)1===s.nodeType&&o.push(s),s=s[i];return o},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var qt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ut=/ jQuery\d+="(?:null|\d+)"/g,Gt=new RegExp("<(?:"+qt+")[\\s/>]","i"),Xt=/^\s+/,Kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Zt=/<([\w:]+)/,Qt=/<tbody/i,Jt=/<|&#?\w+;/,te=/<(?:script|style|link)/i,ee=/^(?:checkbox|radio)$/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,ne=/^$|\/(?:java|ecma)script/i,oe=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,re={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ct.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ae=p(K),le=ae.appendChild(K.createElement("div"));re.optgroup=re.option,re.tbody=re.tfoot=re.colgroup=re.caption=re.thead,re.th=re.td,ct.fn.extend({text:function(t){return ct.access(this,function(t){return t===e?ct.text(this):this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?ct.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||ct.cleanData(b(i)),i.parentNode&&(e&&ct.contains(i.ownerDocument,i)&&v(b(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&ct.cleanData(b(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&ct.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return ct.clone(this,t,e)})},html:function(t){return ct.access(this,function(t){var i=this[0]||{},n=0,o=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(Ut,""):e;if("string"==typeof t&&!te.test(t)&&(ct.support.htmlSerialize||!Gt.test(t))&&(ct.support.leadingWhitespace||!Xt.test(t))&&!re[(Zt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Kt,"<$1></$2>");try{for(;o>n;n++)i=this[n]||{},1===i.nodeType&&(ct.cleanData(b(i,!1)),i.innerHTML=t);i=0}catch(s){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=ct.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(i){var n=t[e++],o=t[e++];o&&(n&&n.parentNode!==o&&(n=this.nextSibling),ct(this).remove(),o.insertBefore(i,n))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,i){t=nt.apply([],t);var n,o,s,r,a,l,h=0,c=this.length,u=this,d=c-1,p=t[0],f=ct.isFunction(p);if(f||!(1>=c||"string"!=typeof p||ct.support.checkClone)&&ie.test(p))return this.each(function(n){var o=u.eq(n);f&&(t[0]=p.call(this,n,o.html())),o.domManip(t,e,i)});if(c&&(l=ct.buildFragment(t,this[0].ownerDocument,!1,!i&&this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(r=ct.map(b(l,"script"),m),s=r.length;c>h;h++)o=l,h!==d&&(o=ct.clone(o,!0,!0),s&&ct.merge(r,b(o,"script"))),e.call(this[h],o,h);if(s)for(a=r[r.length-1].ownerDocument,ct.map(r,g),h=0;s>h;h++)o=r[h],ne.test(o.type||"")&&!ct._data(o,"globalEval")&&ct.contains(a,o)&&(o.src?ct._evalUrl(o.src):ct.globalEval((o.text||o.textContent||o.innerHTML||"").replace(se,"")));l=n=null}return this}}),ct.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ct.fn[t]=function(t){for(var i,n=0,o=[],s=ct(t),r=s.length-1;r>=n;n++)i=n===r?this:this.clone(!0),ct(s[n])[e](i),ot.apply(o,i.get());return this.pushStack(o)}}),ct.extend({clone:function(t,e,i){var n,o,s,r,a,l=ct.contains(t.ownerDocument,t);if(ct.support.html5Clone||ct.isXMLDoc(t)||!Gt.test("<"+t.nodeName+">")?s=t.cloneNode(!0):(le.innerHTML=t.outerHTML,le.removeChild(s=le.firstChild)),!(ct.support.noCloneEvent&&ct.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ct.isXMLDoc(t)))for(n=b(s),a=b(t),r=0;null!=(o=a[r]);++r)n[r]&&w(o,n[r]);if(e)if(i)for(a=a||b(t),n=n||b(s),r=0;null!=(o=a[r]);r++)y(o,n[r]);else y(t,s);return n=b(s,"script"),n.length>0&&v(n,!l&&b(t,"script")),n=a=o=null,s},buildFragment:function(t,e,i,n){for(var o,s,r,a,l,h,c,u=t.length,d=p(e),f=[],m=0;u>m;m++)if(s=t[m],s||0===s)if("object"===ct.type(s))ct.merge(f,s.nodeType?[s]:s);else if(Jt.test(s)){for(a=a||d.appendChild(e.createElement("div")),l=(Zt.exec(s)||["",""])[1].toLowerCase(),c=re[l]||re._default,a.innerHTML=c[1]+s.replace(Kt,"<$1></$2>")+c[2],o=c[0];o--;)a=a.lastChild;if(!ct.support.leadingWhitespace&&Xt.test(s)&&f.push(e.createTextNode(Xt.exec(s)[0])),!ct.support.tbody)for(s="table"!==l||Qt.test(s)?"<table>"!==c[1]||Qt.test(s)?0:a:a.firstChild,o=s&&s.childNodes.length;o--;)ct.nodeName(h=s.childNodes[o],"tbody")&&!h.childNodes.length&&s.removeChild(h);for(ct.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else f.push(e.createTextNode(s));for(a&&d.removeChild(a),ct.support.appendChecked||ct.grep(b(f,"input"),C),m=0;s=f[m++];)if((!n||-1===ct.inArray(s,n))&&(r=ct.contains(s.ownerDocument,s),a=b(d.appendChild(s),"script"),r&&v(a),i))for(o=0;s=a[o++];)ne.test(s.type||"")&&i.push(s);return a=null,d},cleanData:function(t,e){for(var i,n,o,s,r=0,a=ct.expando,l=ct.cache,h=ct.support.deleteExpando,c=ct.event.special;null!=(i=t[r]);r++)if((e||ct.acceptData(i))&&(o=i[a],s=o&&l[o])){if(s.events)for(n in s.events)c[n]?ct.event.remove(i,n):ct.removeEvent(i,n,s.handle);l[o]&&(delete l[o],h?delete i[a]:typeof i.removeAttribute!==G?i.removeAttribute(a):i[a]=null,et.push(o))}},_evalUrl:function(t){return ct.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ct.fn.extend({wrapAll:function(t){if(ct.isFunction(t))return this.each(function(e){ct(this).wrapAll(t.call(this,e))});if(this[0]){var e=ct(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return ct.isFunction(t)?this.each(function(e){ct(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ct(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=ct.isFunction(t);return this.each(function(i){ct(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){ct.nodeName(this,"body")||ct(this).replaceWith(this.childNodes)}).end()}});var he,ce,ue,de=/alpha\([^)]*\)/i,pe=/opacity\s*=\s*([^)]*)/,fe=/^(top|right|bottom|left)$/,me=/^(none|table(?!-c[ea]).+)/,ge=/^margin/,ve=new RegExp("^("+ut+")(.*)$","i"),ye=new RegExp("^("+ut+")(?!px)[a-z%]+$","i"),we=new RegExp("^([+-])=("+ut+")","i"),be={BODY:"block"},Ce={position:"absolute",visibility:"hidden",display:"block"},_e={letterSpacing:0,fontWeight:400},xe=["Top","Right","Bottom","Left"],ke=["Webkit","O","Moz","ms"];ct.fn.extend({css:function(t,i){return ct.access(this,function(t,i,n){var o,s,r={},a=0;if(ct.isArray(i)){for(s=ce(t),o=i.length;o>a;a++)r[i[a]]=ct.css(t,i[a],!1,s);return r}return n!==e?ct.style(t,i,n):ct.css(t,i)},t,i,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(t){var e="boolean"==typeof t;return this.each(function(){(e?t:x(this))?ct(this).show():ct(this).hide()})}}),ct.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=ue(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ct.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,r,a,l=ct.camelCase(i),h=t.style;if(i=ct.cssProps[l]||(ct.cssProps[l]=_(h,l)),a=ct.cssHooks[i]||ct.cssHooks[l],n===e)return a&&"get"in a&&(s=a.get(t,!1,o))!==e?s:h[i];if(r=typeof n,"string"===r&&(s=we.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(ct.css(t,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||ct.cssNumber[l]||(n+="px"),ct.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(h[i]="inherit"),a&&"set"in a&&(n=a.set(t,n,o))===e)))try{h[i]=n}catch(c){}}},css:function(t,i,n,o){var s,r,a,l=ct.camelCase(i);return i=ct.cssProps[l]||(ct.cssProps[l]=_(t.style,l)),a=ct.cssHooks[i]||ct.cssHooks[l],a&&"get"in a&&(r=a.get(t,!0,n)),r===e&&(r=ue(t,i,o)),"normal"===r&&i in _e&&(r=_e[i]),""===n||n?(s=parseFloat(r),n===!0||ct.isNumeric(s)?s||0:r):r}}),t.getComputedStyle?(ce=function(e){return t.getComputedStyle(e,null)},ue=function(t,i,n){var o,s,r,a=n||ce(t),l=a?a.getPropertyValue(i)||a[i]:e,h=t.style;return a&&(""!==l||ct.contains(t.ownerDocument,t)||(l=ct.style(t,i)),ye.test(l)&&ge.test(i)&&(o=h.width,s=h.minWidth,r=h.maxWidth,h.minWidth=h.maxWidth=h.width=l,l=a.width,h.width=o,h.minWidth=s,h.maxWidth=r)),l}):K.documentElement.currentStyle&&(ce=function(t){return t.currentStyle},ue=function(t,i,n){var o,s,r,a=n||ce(t),l=a?a[i]:e,h=t.style;return null==l&&h&&h[i]&&(l=h[i]),ye.test(l)&&!fe.test(i)&&(o=h.left,s=t.runtimeStyle,r=s&&s.left,r&&(s.left=t.currentStyle.left),h.left="fontSize"===i?"1em":l,l=h.pixelLeft+"px",h.left=o,r&&(s.left=r)),""===l?"auto":l}),ct.each(["height","width"],function(t,e){ct.cssHooks[e]={get:function(t,i,n){return i?0===t.offsetWidth&&me.test(ct.css(t,"display"))?ct.swap(t,Ce,function(){return D(t,e,n)}):D(t,e,n):void 0},set:function(t,i,n){var o=n&&ce(t);return S(t,i,n?T(t,e,n,ct.support.boxSizing&&"border-box"===ct.css(t,"boxSizing",!1,o),o):0)}}}),ct.support.opacity||(ct.cssHooks.opacity={get:function(t,e){return pe.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,o=ct.isNumeric(e)?"alpha(opacity="+100*e+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,(e>=1||""===e)&&""===ct.trim(s.replace(de,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===e||n&&!n.filter)||(i.filter=de.test(s)?s.replace(de,o):s+" "+o)}}),ct(function(){ct.support.reliableMarginRight||(ct.cssHooks.marginRight={get:function(t,e){return e?ct.swap(t,{display:"inline-block"},ue,[t,"marginRight"]):void 0}}),!ct.support.pixelPosition&&ct.fn.position&&ct.each(["top","left"],function(t,e){ct.cssHooks[e]={get:function(t,i){return i?(i=ue(t,e),ye.test(i)?ct(t).position()[e]+"px":i):void 0}}})}),ct.expr&&ct.expr.filters&&(ct.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ct.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||ct.css(t,"display"))},ct.expr.filters.visible=function(t){return!ct.expr.filters.hidden(t)}),ct.each({margin:"",padding:"",border:"Width"},function(t,e){ct.cssHooks[t+e]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+xe[n]+e]=s[n]||s[n-2]||s[0];return o}},ge.test(t)||(ct.cssHooks[t+e].set=S)});var Se=/%20/g,Te=/\[\]$/,De=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,Re=/^(?:input|select|textarea|keygen)/i;ct.fn.extend({serialize:function(){return ct.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ct.prop(this,"elements");return t?ct.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ct(this).is(":disabled")&&Re.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!ee.test(t))}).map(function(t,e){var i=ct(this).val();return null==i?null:ct.isArray(i)?ct.map(i,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:i.replace(De,"\r\n")}}).get()}}),ct.param=function(t,i){var n,o=[],s=function(t,e){e=ct.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=ct.ajaxSettings&&ct.ajaxSettings.traditional),ct.isArray(t)||t.jquery&&!ct.isPlainObject(t))ct.each(t,function(){s(this.name,this.value)});else for(n in t)A(n,t[n],i,s);return o.join("&").replace(Se,"+")},ct.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){ct.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),ct.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var Ae,Me,Pe=ct.now(),He=/\?/,Ie=/#.*$/,Oe=/([?&])_=[^&]*/,Ne=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Le=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ze=/^(?:GET|HEAD)$/,Fe=/^\/\//,We=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,je=ct.fn.load,Be={},$e={},Ye="*/".concat("*");try{Me=X.href}catch(Ve){Me=K.createElement("a"),Me.href="",Me=Me.href}Ae=We.exec(Me.toLowerCase())||[],ct.fn.load=function(t,i,n){if("string"!=typeof t&&je)return je.apply(this,arguments);var o,s,r,a=this,l=t.indexOf(" ");return l>=0&&(o=t.slice(l,t.length),t=t.slice(0,l)),ct.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(r="POST"),a.length>0&&ct.ajax({url:t,type:r,dataType:"html",data:i}).done(function(t){s=arguments,a.html(o?ct("<div>").append(ct.parseHTML(t)).find(o):t)}).complete(n&&function(t,e){a.each(n,s||[t.responseText,e,t])}),this},ct.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ct.fn[e]=function(t){return this.on(e,t)}}),ct.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Me,type:"GET",isLocal:Le.test(Ae[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ct.parseJSON,"text xml":ct.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?H(H(t,ct.ajaxSettings),e):H(ct.ajaxSettings,t)},ajaxPrefilter:M(Be),ajaxTransport:M($e),ajax:function(t,i){function n(t,i,n,o){var s,u,y,w,C,x=i;2!==b&&(b=2,l&&clearTimeout(l),c=e,a=o||"",_.readyState=t>0?4:0,s=t>=200&&300>t||304===t,n&&(w=I(d,_,n)),w=O(d,w,_,s),s?(d.ifModified&&(C=_.getResponseHeader("Last-Modified"),C&&(ct.lastModified[r]=C),C=_.getResponseHeader("etag"),C&&(ct.etag[r]=C)),204===t||"HEAD"===d.type?x="nocontent":304===t?x="notmodified":(x=w.state,u=w.data,y=w.error,s=!y)):(y=x,(t||!x)&&(x="error",0>t&&(t=0))),_.status=t,_.statusText=(i||x)+"",s?m.resolveWith(p,[u,x,_]):m.rejectWith(p,[_,x,y]),_.statusCode(v),v=e,h&&f.trigger(s?"ajaxSuccess":"ajaxError",[_,d,s?u:y]),g.fireWith(p,[_,x]),h&&(f.trigger("ajaxComplete",[_,d]),--ct.active||ct.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var o,s,r,a,l,h,c,u,d=ct.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?ct(p):ct.event,m=ct.Deferred(),g=ct.Callbacks("once memory"),v=d.statusCode||{},y={},w={},b=0,C="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!u)for(u={};e=Ne.exec(a);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=w[i]=w[i]||t,y[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)v[e]=[v[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){var e=t||C;return c&&c.abort(e),n(0,e),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,d.url=((t||d.url||Me)+"").replace(Ie,"").replace(Fe,Ae[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=ct.trim(d.dataType||"*").toLowerCase().match(dt)||[""],null==d.crossDomain&&(o=We.exec(d.url.toLowerCase()),d.crossDomain=!(!o||o[1]===Ae[1]&&o[2]===Ae[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(Ae[3]||("http:"===Ae[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=ct.param(d.data,d.traditional)),P(Be,d,i,_),2===b)return _;h=d.global,h&&0===ct.active++&&ct.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!ze.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(He.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Oe.test(r)?r.replace(Oe,"$1_="+Pe++):r+(He.test(r)?"&":"?")+"_="+Pe++)),d.ifModified&&(ct.lastModified[r]&&_.setRequestHeader("If-Modified-Since",ct.lastModified[r]),ct.etag[r]&&_.setRequestHeader("If-None-Match",ct.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&_.setRequestHeader("Content-Type",d.contentType),_.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ye+"; q=0.01":""):d.accepts["*"]);for(s in d.headers)_.setRequestHeader(s,d.headers[s]);if(d.beforeSend&&(d.beforeSend.call(p,_,d)===!1||2===b))return _.abort();C="abort";for(s in{success:1,error:1,complete:1})_[s](d[s]);if(c=P($e,d,i,_)){_.readyState=1,h&&f.trigger("ajaxSend",[_,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){_.abort("timeout")},d.timeout));try{b=1,c.send(y,n)}catch(x){if(!(2>b))throw x;n(-1,x)}}else n(-1,"No Transport");return _},getJSON:function(t,e,i){return ct.get(t,e,i,"json")},getScript:function(t,i){return ct.get(t,e,i,"script")}}),ct.each(["get","post"],function(t,i){ct[i]=function(t,n,o,s){return ct.isFunction(n)&&(s=s||o,o=n,n=e),ct.ajax({url:t,type:i,dataType:s,data:n,success:o})}}),ct.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return ct.globalEval(t),t}}}),ct.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),ct.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=K.head||ct("head")[0]||K.documentElement;
return{send:function(e,o){i=K.createElement("script"),i.async=!0,t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,e){(e||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,e||o(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(e,!0)}}}});var qe=[],Ue=/(=)\?(?=&|$)|\?\?/;ct.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=qe.pop()||ct.expando+"_"+Pe++;return this[t]=!0,t}}),ct.ajaxPrefilter("json jsonp",function(i,n,o){var s,r,a,l=i.jsonp!==!1&&(Ue.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ue.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(s=i.jsonpCallback=ct.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Ue,"$1"+s):i.jsonp!==!1&&(i.url+=(He.test(i.url)?"&":"?")+i.jsonp+"="+s),i.converters["script json"]=function(){return a||ct.error(s+" was not called"),a[0]},i.dataTypes[0]="json",r=t[s],t[s]=function(){a=arguments},o.always(function(){t[s]=r,i[s]&&(i.jsonpCallback=n.jsonpCallback,qe.push(s)),a&&ct.isFunction(r)&&r(a[0]),a=r=e}),"script"):void 0});var Ge,Xe,Ke=0,Ze=t.ActiveXObject&&function(){var t;for(t in Ge)Ge[t](e,!0)};ct.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&N()||L()}:N,Xe=ct.ajaxSettings.xhr(),ct.support.cors=!!Xe&&"withCredentials"in Xe,Xe=ct.support.ajax=!!Xe,Xe&&ct.ajaxTransport(function(i){if(!i.crossDomain||ct.support.cors){var n;return{send:function(o,s){var r,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(h){}l.send(i.hasContent&&i.data||null),n=function(t,o){var a,h,c,u;try{if(n&&(o||4===l.readyState))if(n=e,r&&(l.onreadystatechange=ct.noop,Ze&&delete Ge[r]),o)4!==l.readyState&&l.abort();else{u={},a=l.status,h=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText);try{c=l.statusText}catch(d){c=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=u.text?200:404}}catch(p){o||s(-1,p)}u&&s(a,c,u,h)},i.async?4===l.readyState?setTimeout(n):(r=++Ke,Ze&&(Ge||(Ge={},ct(t).unload(Ze)),Ge[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(e,!0)}}}});var Qe,Je,ti=/^(?:toggle|show|hide)$/,ei=new RegExp("^(?:([+-])=|)("+ut+")([a-z%]*)$","i"),ii=/queueHooks$/,ni=[B],oi={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=ei.exec(e),s=o&&o[3]||(ct.cssNumber[t]?"":"px"),r=(ct.cssNumber[t]||"px"!==s&&+n)&&ei.exec(ct.css(i.elem,t)),a=1,l=20;if(r&&r[3]!==s){s=s||r[3],o=o||[],r=+n||1;do a=a||".5",r/=a,ct.style(i.elem,t,r+s);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return o&&(i.unit=s,i.start=+r||+n||0,i.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),i}]};ct.Animation=ct.extend(W,{tweener:function(t,e){ct.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,o=t.length;o>n;n++)i=t[n],oi[i]=oi[i]||[],oi[i].unshift(e)},prefilter:function(t,e){e?ni.unshift(t):ni.push(t)}}),ct.Tween=$,$.prototype={constructor:$,init:function(t,e,i,n,o,s){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(ct.cssNumber[i]?"":"px")},cur:function(){var t=$.propHooks[this.prop];return t&&t.get?t.get(this):$.propHooks._default.get(this)},run:function(t){var e,i=$.propHooks[this.prop];return this.options.duration?this.pos=e=ct.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=ct.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){ct.fx.step[t.prop]?ct.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[ct.cssProps[t.prop]]||ct.cssHooks[t.prop])?ct.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ct.each(["toggle","show","hide"],function(t,e){var i=ct.fn[e];ct.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(Y(e,!0),t,n,o)}}),ct.fn.extend({fadeTo:function(t,e,i,n){return this.filter(x).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=ct.isEmptyObject(t),s=ct.speed(e,i,n),r=function(){var e=W(this,ct.extend({},t),s);r.finish=function(){e.stop(!0)},(o||ct._data(this,"finish"))&&e.stop(!0)};return r.finish=r,o||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(t,i,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",s=ct.timers,r=ct._data(this);if(i)r[i]&&r[i].stop&&o(r[i]);else for(i in r)r[i]&&r[i].stop&&ii.test(i)&&o(r[i]);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(s[i].anim.stop(n),e=!1,s.splice(i,1));(e||!n)&&ct.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=ct._data(this),n=i[t+"queue"],o=i[t+"queueHooks"],s=ct.timers,r=n?n.length:0;for(i.finish=!0,ct.queue(this,t,[]),o&&o.cur&&o.cur.finish&&o.cur.finish.call(this),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;r>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),ct.each({slideDown:Y("show"),slideUp:Y("hide"),slideToggle:Y("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ct.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),ct.speed=function(t,e,i){var n=t&&"object"==typeof t?ct.extend({},t):{complete:i||!i&&e||ct.isFunction(t)&&t,duration:t,easing:i&&e||e&&!ct.isFunction(e)&&e};return n.duration=ct.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ct.fx.speeds?ct.fx.speeds[n.duration]:ct.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ct.isFunction(n.old)&&n.old.call(this),n.queue&&ct.dequeue(this,n.queue)},n},ct.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},ct.timers=[],ct.fx=$.prototype.init,ct.fx.tick=function(){var t,i=ct.timers,n=0;for(Qe=ct.now();n<i.length;n++)t=i[n],t()||i[n]!==t||i.splice(n--,1);i.length||ct.fx.stop(),Qe=e},ct.fx.timer=function(t){t()&&ct.timers.push(t)&&ct.fx.start()},ct.fx.interval=13,ct.fx.start=function(){Je||(Je=setInterval(ct.fx.tick,ct.fx.interval))},ct.fx.stop=function(){clearInterval(Je),Je=null},ct.fx.speeds={slow:600,fast:200,_default:400},ct.fx.step={},ct.expr&&ct.expr.filters&&(ct.expr.filters.animated=function(t){return ct.grep(ct.timers,function(e){return t===e.elem}).length}),ct.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){ct.offset.setOffset(this,t,e)});var i,n,o={top:0,left:0},s=this[0],r=s&&s.ownerDocument;if(r)return i=r.documentElement,ct.contains(i,s)?(typeof s.getBoundingClientRect!==G&&(o=s.getBoundingClientRect()),n=V(r),{top:o.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):o},ct.offset={setOffset:function(t,e,i){var n=ct.css(t,"position");"static"===n&&(t.style.position="relative");var o,s,r=ct(t),a=r.offset(),l=ct.css(t,"top"),h=ct.css(t,"left"),c=("absolute"===n||"fixed"===n)&&ct.inArray("auto",[l,h])>-1,u={},d={};c?(d=r.position(),o=d.top,s=d.left):(o=parseFloat(l)||0,s=parseFloat(h)||0),ct.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(u.top=e.top-a.top+o),null!=e.left&&(u.left=e.left-a.left+s),"using"in e?e.using.call(t,u):r.css(u)}},ct.fn.extend({position:function(){if(this[0]){var t,e,i={top:0,left:0},n=this[0];return"fixed"===ct.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ct.nodeName(t[0],"html")||(i=t.offset()),i.top+=ct.css(t[0],"borderTopWidth",!0),i.left+=ct.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-ct.css(n,"marginTop",!0),left:e.left-i.left-ct.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Z;t&&!ct.nodeName(t,"html")&&"static"===ct.css(t,"position");)t=t.offsetParent;return t||Z})}}),ct.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);ct.fn[t]=function(o){return ct.access(this,function(t,o,s){var r=V(t);return s===e?r?i in r?r[i]:r.document.documentElement[o]:t[o]:void(r?r.scrollTo(n?ct(r).scrollLeft():s,n?s:ct(r).scrollTop()):t[o]=s)},t,o,arguments.length,null)}}),ct.each({Height:"height",Width:"width"},function(t,i){ct.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,o){ct.fn[o]=function(o,s){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||s===!0?"margin":"border");return ct.access(this,function(i,n,o){var s;return ct.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(s=i.documentElement,Math.max(i.body["scroll"+t],s["scroll"+t],i.body["offset"+t],s["offset"+t],s["client"+t])):o===e?ct.css(i,n,a):ct.style(i,n,o,a)},i,r?o:e,r,null)}})}),ct.fn.size=function(){return this.length},ct.fn.andSelf=ct.fn.addBack,"object"==typeof module&&"object"==typeof module.exports?module.exports=ct:(t.jQuery=t.$=ct,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ct}))}(window),/*!
 * jQuery Cookie Plugin v1.3.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
function(t,e,i){function n(t){return t}function o(t){return s(decodeURIComponent(t.replace(a," ")))}function s(t){return 0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),t}function r(t){return l.json?JSON.parse(t):t}var a=/\+/g,l=t.cookie=function(s,a,h){if(a!==i){if(h=t.extend({},l.defaults,h),null===a&&(h.expires=-1),"number"==typeof h.expires){var c=h.expires,u=h.expires=new Date;u.setDate(u.getDate()+c)}return a=l.json?JSON.stringify(a):String(a),e.cookie=[encodeURIComponent(s),"=",l.raw?a:encodeURIComponent(a),h.expires?"; expires="+h.expires.toUTCString():"",h.path?"; path="+h.path:"",h.domain?"; domain="+h.domain:"",h.secure?"; secure":""].join("")}for(var d=l.raw?n:o,p=e.cookie.split("; "),f=s?null:{},m=0,g=p.length;g>m;m++){var v=p[m].split("="),y=d(v.shift()),w=d(v.join("="));if(s&&s===y){f=r(w);break}s||(f[y]=r(w))}return f};l.defaults={},t.removeCookie=function(e,i){return null!==t.cookie(e)?(t.cookie(e,null,i),!0):!1}}(jQuery,document),/**
 * jquery.Jcrop.min.js v0.9.10 (build:20130117)
 * jQuery Image Cropping Plugin - released under MIT License
 * Copyright (c) 2008-2012 Tapmodo Interactive LLC
 * https://github.com/tapmodo/Jcrop
 */
function(t){t.Jcrop=function(e,i){function n(t){return Math.round(t)+"px"}function o(t){return O.baseClass+"-"+t}function s(){return t.fx.step.hasOwnProperty("backgroundColor")}function r(e){var i=t(e).offset();return[i.left,i.top]}function a(t){return[t.pageX-I[0],t.pageY-I[1]]}function l(e){"object"!=typeof e&&(e={}),O=t.extend(O,e),t.each(["onChange","onSelect","onRelease","onDblClick"],function(t,e){"function"!=typeof O[e]&&(O[e]=function(){})})}function h(t,e,i){if(I=r($),ft.setCursor("move"===t?t:t+"-resize"),"move"===t)return ft.activateHandlers(u(e),g,i);var n=ut.getFixed(),o=d(t),s=ut.getCorner(d(o));ut.setPressed(ut.getCorner(o)),ut.setCurrent(s),ft.activateHandlers(c(t,n),g,i)}function c(t,e){return function(i){if(O.aspectRatio)switch(t){case"e":i[1]=e.y+1;break;case"w":i[1]=e.y+1;break;case"n":i[0]=e.x+1;break;case"s":i[0]=e.x+1}else switch(t){case"e":i[1]=e.y2;break;case"w":i[1]=e.y2;break;case"n":i[0]=e.x2;break;case"s":i[0]=e.x2}ut.setCurrent(i),pt.update()}}function u(t){var e=t;return mt.watchKeys(),function(t){ut.moveOffset([t[0]-e[0],t[1]-e[1]]),e=t,pt.update()}}function d(t){switch(t){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function p(t){return function(e){return O.disabled?!1:"move"!==t||O.allowMove?(I=r($),nt=!0,h(t,a(e)),e.stopPropagation(),e.preventDefault(),!1):!1}}function f(t,e,i){var n=t.width(),o=t.height();n>e&&e>0&&(n=e,o=e/t.width()*t.height()),o>i&&i>0&&(o=i,n=i/t.height()*t.width()),et=t.width()/n,it=t.height()/o,t.width(n).height(o)}function m(t){return{x:t.x*et,y:t.y*it,x2:t.x2*et,y2:t.y2*it,w:t.w*et,h:t.h*it}}function g(t){var e=ut.getFixed();e.w>O.minSelect[0]&&e.h>O.minSelect[1]?(pt.enableHandles(),pt.done()):pt.release(),ft.setCursor(O.allowSelect?"crosshair":"default")}function v(t){if(O.disabled)return!1;if(!O.allowSelect)return!1;nt=!0,I=r($),pt.disableHandles(),ft.setCursor("crosshair");var e=a(t);return ut.setPressed(e),pt.update(),ft.activateHandlers(y,g,"touch"===t.type.substring(0,5)),mt.watchKeys(),t.stopPropagation(),t.preventDefault(),!1}function y(t){ut.setCurrent(t),pt.update()}function w(){var e=t("<div></div>").addClass(o("tracker"));return L&&e.css({opacity:0,backgroundColor:"white"}),e}function b(t){q.removeClass().addClass(o("holder")).addClass(t)}function C(t,e){function i(){window.setTimeout(y,u)}var n=t[0]/et,o=t[1]/it,s=t[2]/et,r=t[3]/it;if(!ot){var a=ut.flipCoords(n,o,s,r),l=ut.getFixed(),h=[l.x,l.y,l.x2,l.y2],c=h,u=O.animationDelay,d=a[0]-h[0],p=a[1]-h[1],f=a[2]-h[2],m=a[3]-h[3],g=0,v=O.swingSpeed;n=c[0],o=c[1],s=c[2],r=c[3],pt.animMode(!0);var y=function(){return function(){g+=(100-g)/v,c[0]=Math.round(n+g/100*d),c[1]=Math.round(o+g/100*p),c[2]=Math.round(s+g/100*f),c[3]=Math.round(r+g/100*m),g>=99.8&&(g=100),100>g?(x(c),i()):(pt.done(),pt.animMode(!1),"function"==typeof e&&e.call(gt))}}();i()}}function _(t){x([t[0]/et,t[1]/it,t[2]/et,t[3]/it]),O.onSelect.call(gt,m(ut.getFixed())),pt.enableHandles()}function x(t){ut.setPressed([t[0],t[1]]),ut.setCurrent([t[2],t[3]]),pt.update()}function k(){return m(ut.getFixed())}function S(){return ut.getFixed()}function T(t){l(t),H()}function D(){O.disabled=!0,pt.disableHandles(),pt.setCursor("default"),ft.setCursor("default")}function E(){O.disabled=!1,H()}function R(){pt.done(),ft.activateHandlers(null,null)}function A(){q.remove(),W.show(),W.css("visibility","visible"),t(e).removeData("Jcrop")}function M(t,e){pt.release(),D();var i=new Image;i.onload=function(){var n=i.width,o=i.height,s=O.boxWidth,r=O.boxHeight;$.width(n).height(o),$.attr("src",t),U.attr("src",t),f($,s,r),Y=$.width(),V=$.height(),U.width(Y).height(V),at.width(Y+2*rt).height(V+2*rt),q.width(Y).height(V),dt.resize(Y,V),E(),"function"==typeof e&&e.call(gt)},i.src=t}function P(t,e,i){var n=e||O.bgColor;O.bgFade&&s()&&O.fadeTime&&!i?t.animate({backgroundColor:n},{queue:!1,duration:O.fadeTime}):t.css("backgroundColor",n)}function H(t){O.allowResize?t?pt.enableOnly():pt.enableHandles():pt.disableHandles(),ft.setCursor(O.allowSelect?"crosshair":"default"),pt.setCursor(O.allowMove?"move":"default"),O.hasOwnProperty("trueSize")&&(et=O.trueSize[0]/Y,it=O.trueSize[1]/V),O.hasOwnProperty("setSelect")&&(_(O.setSelect),pt.done(),delete O.setSelect),dt.refresh(),O.bgColor!=lt&&(P(O.shade?dt.getShades():q,O.shade?O.shadeColor||O.bgColor:O.bgColor),lt=O.bgColor),ht!=O.bgOpacity&&(ht=O.bgOpacity,O.shade?dt.refresh():pt.setBgOpacity(ht)),Z=O.maxSize[0]||0,Q=O.maxSize[1]||0,J=O.minSize[0]||0,tt=O.minSize[1]||0,O.hasOwnProperty("outerImage")&&($.attr("src",O.outerImage),delete O.outerImage),pt.refresh()}var I,O=t.extend({},t.Jcrop.defaults),N=navigator.userAgent.toLowerCase(),L=/msie/.test(N),z=/msie [1-6]\./.test(N);"object"!=typeof e&&(e=t(e)[0]),"object"!=typeof i&&(i={}),l(i);var F={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},W=t(e),j=!0;if("IMG"==e.tagName){if(0!=W[0].width&&0!=W[0].height)W.width(W[0].width),W.height(W[0].height);else{var B=new Image;B.src=W[0].src,W.width(B.width),W.height(B.height)}var $=W.clone().removeAttr("id").css(F).show();$.width(W.width()),$.height(W.height()),W.after($).hide()}else $=W.css(F).show(),j=!1,null===O.shade&&(O.shade=!0);f($,O.boxWidth,O.boxHeight);var Y=$.width(),V=$.height(),q=t("<div />").width(Y).height(V).addClass(o("holder")).css({position:"relative",backgroundColor:O.bgColor}).insertAfter(W).append($);O.addClass&&q.addClass(O.addClass);var U=t("<div />"),G=t("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),X=t("<div />").width("100%").height("100%").css("zIndex",320),K=t("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var t=ut.getFixed();O.onDblClick.call(gt,t)}).insertBefore($).append(G,X);j&&(U=t("<img />").attr("src",$.attr("src")).css(F).width(Y).height(V),G.append(U)),z&&K.css({overflowY:"hidden"});var Z,Q,J,tt,et,it,nt,ot,st,rt=O.boundary,at=w().width(Y+2*rt).height(V+2*rt).css({position:"absolute",top:n(-rt),left:n(-rt),zIndex:290}).mousedown(v),lt=O.bgColor,ht=O.bgOpacity;I=r($);var ct=function(){function t(){var t,e={},i=["touchstart","touchmove","touchend"],n=document.createElement("div");try{for(t=0;t<i.length;t++){var o=i[t];o="on"+o;var s=o in n;s||(n.setAttribute(o,"return;"),s="function"==typeof n[o]),e[i[t]]=s}return e.touchstart&&e.touchend&&e.touchmove}catch(r){return!1}}function e(){return O.touchSupport===!0||O.touchSupport===!1?O.touchSupport:t()}return{createDragger:function(t){return function(e){return O.disabled?!1:"move"!==t||O.allowMove?(I=r($),nt=!0,h(t,a(ct.cfilter(e)),!0),e.stopPropagation(),e.preventDefault(),!1):!1}},newSelection:function(t){return v(ct.cfilter(t))},cfilter:function(t){return t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t},isSupported:t,support:e()}}(),ut=function(){function t(t){t=r(t),f=d=t[0],m=p=t[1]}function e(t){t=r(t),c=t[0]-f,u=t[1]-m,f=t[0],m=t[1]}function i(){return[c,u]}function n(t){var e=t[0],i=t[1];0>d+e&&(e-=e+d),0>p+i&&(i-=i+p),m+i>V&&(i+=V-(m+i)),f+e>Y&&(e+=Y-(f+e)),d+=e,f+=e,p+=i,m+=i}function o(t){var e=s();switch(t){case"ne":return[e.x2,e.y];case"nw":return[e.x,e.y];case"se":return[e.x2,e.y2];case"sw":return[e.x,e.y2]}}function s(){if(!O.aspectRatio)return l();var t,e,i,n,o=O.aspectRatio,s=O.minSize[0]/et,r=O.maxSize[0]/et,c=O.maxSize[1]/it,u=f-d,g=m-p,v=Math.abs(u),y=Math.abs(g),w=v/y;return 0===r&&(r=10*Y),0===c&&(c=10*V),o>w?(e=m,i=y*o,t=0>u?d-i:i+d,0>t?(t=0,n=Math.abs((t-d)/o),e=0>g?p-n:n+p):t>Y&&(t=Y,n=Math.abs((t-d)/o),e=0>g?p-n:n+p)):(t=f,n=v/o,e=0>g?p-n:p+n,0>e?(e=0,i=Math.abs((e-p)*o),t=0>u?d-i:i+d):e>V&&(e=V,i=Math.abs(e-p)*o,t=0>u?d-i:i+d)),t>d?(s>t-d?t=d+s:t-d>r&&(t=d+r),e=e>p?p+(t-d)/o:p-(t-d)/o):d>t&&(s>d-t?t=d-s:d-t>r&&(t=d-r),e=e>p?p+(d-t)/o:p-(d-t)/o),0>t?(d-=t,t=0):t>Y&&(d-=t-Y,t=Y),0>e?(p-=e,e=0):e>V&&(p-=e-V,e=V),h(a(d,p,t,e))}function r(t){return t[0]<0&&(t[0]=0),t[1]<0&&(t[1]=0),t[0]>Y&&(t[0]=Y),t[1]>V&&(t[1]=V),[Math.round(t[0]),Math.round(t[1])]}function a(t,e,i,n){var o=t,s=i,r=e,a=n;return t>i&&(o=i,s=t),e>n&&(r=n,a=e),[o,r,s,a]}function l(){var t,e=f-d,i=m-p;return Z&&Math.abs(e)>Z&&(f=e>0?d+Z:d-Z),Q&&Math.abs(i)>Q&&(m=i>0?p+Q:p-Q),tt/it&&Math.abs(i)<tt/it&&(m=i>0?p+tt/it:p-tt/it),J/et&&Math.abs(e)<J/et&&(f=e>0?d+J/et:d-J/et),0>d&&(f-=d,d-=d),0>p&&(m-=p,p-=p),0>f&&(d-=f,f-=f),0>m&&(p-=m,m-=m),f>Y&&(t=f-Y,d-=t,f-=t),m>V&&(t=m-V,p-=t,m-=t),d>Y&&(t=d-V,m-=t,p-=t),p>V&&(t=p-V,m-=t,p-=t),h(a(d,p,f,m))}function h(t){return{x:t[0],y:t[1],x2:t[2],y2:t[3],w:t[2]-t[0],h:t[3]-t[1]}}var c,u,d=0,p=0,f=0,m=0;return{flipCoords:a,setPressed:t,setCurrent:e,getOffset:i,moveOffset:n,getCorner:o,getFixed:s}}(),dt=function(){function e(t,e){f.left.css({height:n(e)}),f.right.css({height:n(e)})}function i(){return o(ut.getFixed())}function o(t){f.top.css({left:n(t.x),width:n(t.w),height:n(t.y)}),f.bottom.css({top:n(t.y2),left:n(t.x),width:n(t.w),height:n(V-t.y2)}),f.right.css({left:n(t.x2),width:n(Y-t.x2)}),f.left.css({width:n(t.x)})}function s(){return t("<div />").css({position:"absolute",backgroundColor:O.shadeColor||O.bgColor}).appendTo(p)}function r(){d||(d=!0,p.insertBefore($),i(),pt.setBgOpacity(1,0,1),U.hide(),a(O.shadeColor||O.bgColor,1),pt.isAwake()?h(O.bgOpacity,1):h(1,1))}function a(t,e){P(u(),t,e)}function l(){d&&(p.remove(),U.show(),d=!1,pt.isAwake()?pt.setBgOpacity(O.bgOpacity,1,1):(pt.setBgOpacity(1,1,1),pt.disableHandles()),P(q,0,1))}function h(t,e){d&&(O.bgFade&&!e?p.animate({opacity:1-t},{queue:!1,duration:O.fadeTime}):p.css({opacity:1-t}))}function c(){O.shade?r():l(),pt.isAwake()&&h(O.bgOpacity)}function u(){return p.children()}var d=!1,p=t("<div />").css({position:"absolute",zIndex:240,opacity:0}),f={top:s(),left:s().height(V),right:s().height(V),bottom:s()};return{update:i,updateRaw:o,getShades:u,setBgColor:a,enable:r,disable:l,resize:e,refresh:c,opacity:h}}(),pt=function(){function e(e){var i=t("<div />").css({position:"absolute",opacity:O.borderOpacity}).addClass(o(e));return G.append(i),i}function i(e,i){var n=t("<div />").mousedown(p(e)).css({cursor:e+"-resize",position:"absolute",zIndex:i}).addClass("ord-"+e);return ct.support&&n.bind("touchstart.jcrop",ct.createDragger(e)),X.append(n),n}function s(t){var e=O.handleSize;return i(t,D++).css({opacity:O.handleOpacity}).width(e).height(e).addClass(o("handle"))}function r(t){return i(t,D++).addClass("jcrop-dragbar")}function a(t){var e;for(e=0;e<t.length;e++)A[t[e]]=r(t[e])}function l(t){var i,n;for(n=0;n<t.length;n++){switch(t[n]){case"n":i="hline";break;case"s":i="hline bottom";break;case"e":i="vline right";break;case"w":i="vline"}E[t[n]]=e(i)}}function h(t){var e;for(e=0;e<t.length;e++)R[t[e]]=s(t[e])}function c(t,e){O.shade||U.css({top:n(-e),left:n(-t)}),K.css({top:n(e),left:n(t)})}function u(t,e){K.width(Math.round(t)).height(Math.round(e))}function d(){var t=ut.getFixed();ut.setPressed([t.x,t.y]),ut.setCurrent([t.x2,t.y2]),f()}function f(t){return T?g(t):void 0}function g(t){var e=ut.getFixed();u(e.w,e.h),c(e.x,e.y),O.shade&&dt.updateRaw(e),T||y(),t?O.onSelect.call(gt,m(e)):O.onChange.call(gt,m(e))}function v(t,e,i){(T||e)&&(O.bgFade&&!i?$.animate({opacity:t},{queue:!1,duration:O.fadeTime}):$.css("opacity",t))}function y(){K.show(),O.shade?dt.opacity(ht):v(ht,!0),T=!0}function b(){x(),K.hide(),O.shade?dt.opacity(1):v(1),T=!1,O.onRelease.call(gt)}function C(){M&&X.show()}function _(){return M=!0,O.allowResize?(X.show(),!0):void 0}function x(){M=!1,X.hide()}function k(t){t?(ot=!0,x()):(ot=!1,_())}function S(){k(!1),d()}var T,D=370,E={},R={},A={},M=!1;O.dragEdges&&t.isArray(O.createDragbars)&&a(O.createDragbars),t.isArray(O.createHandles)&&h(O.createHandles),O.drawBorders&&t.isArray(O.createBorders)&&l(O.createBorders),t(document).bind("touchstart.jcrop-ios",function(e){t(e.currentTarget).hasClass("jcrop-tracker")&&e.stopPropagation()});var P=w().mousedown(p("move")).css({cursor:"move",position:"absolute",zIndex:360});return ct.support&&P.bind("touchstart.jcrop",ct.createDragger("move")),G.append(P),x(),{updateVisible:f,update:g,release:b,refresh:d,isAwake:function(){return T},setCursor:function(t){P.css("cursor",t)},enableHandles:_,enableOnly:function(){M=!0},showHandles:C,disableHandles:x,animMode:k,setBgOpacity:v,done:S}}(),ft=function(){function e(e){at.css({zIndex:450}),e?t(document).bind("touchmove.jcrop",r).bind("touchend.jcrop",l):d&&t(document).bind("mousemove.jcrop",n).bind("mouseup.jcrop",o)}function i(){at.css({zIndex:290}),t(document).unbind(".jcrop")}function n(t){return c(a(t)),!1}function o(t){return t.preventDefault(),t.stopPropagation(),nt&&(nt=!1,u(a(t)),pt.isAwake()&&O.onSelect.call(gt,m(ut.getFixed())),i(),c=function(){},u=function(){}),!1}function s(t,i,n){return nt=!0,c=t,u=i,e(n),!1}function r(t){return c(a(ct.cfilter(t))),!1}function l(t){return o(ct.cfilter(t))}function h(t){at.css("cursor",t)}var c=function(){},u=function(){},d=O.trackDocument;return d||at.mousemove(n).mouseup(o).mouseout(o),$.before(at),{activateHandlers:s,setCursor:h}}(),mt=function(){function e(){O.keySupport&&(s.show(),s.focus())}function i(t){s.hide()}function n(t,e,i){O.allowMove&&(ut.moveOffset([e,i]),pt.updateVisible(!0)),t.preventDefault(),t.stopPropagation()}function o(t){if(t.ctrlKey||t.metaKey)return!0;st=t.shiftKey?!0:!1;var e=st?10:1;switch(t.keyCode){case 37:n(t,-e,0);break;case 39:n(t,e,0);break;case 38:n(t,0,-e);break;case 40:n(t,0,e);break;case 27:O.allowSelect&&pt.release();break;case 9:return!0}return!1}var s=t('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),r=t("<div />").css({position:"absolute",overflow:"hidden"}).append(s);return O.keySupport&&(s.keydown(o).blur(i),z||!O.fixedSupport?(s.css({position:"absolute",left:"-20px"}),r.append(s).insertBefore($)):s.insertBefore($)),{watchKeys:e}}();ct.support&&at.bind("touchstart.jcrop",ct.newSelection),X.hide(),H(!0);var gt={setImage:M,animateTo:C,setSelect:_,setOptions:T,tellSelect:k,tellScaled:S,setClass:b,disable:D,enable:E,cancel:R,release:pt.release,destroy:A,focus:mt.watchKeys,getBounds:function(){return[Y*et,V*it]},getWidgetSize:function(){return[Y,V]},getScaleFactor:function(){return[et,it]},getOptions:function(){return O},ui:{holder:q,selection:K}};return L&&q.bind("selectstart",function(){return!1}),W.data("Jcrop",gt),gt},t.fn.Jcrop=function(e,i){var n;return this.each(function(){if(t(this).data("Jcrop")){if("api"===e)return t(this).data("Jcrop");t(this).data("Jcrop").setOptions(e)}else"IMG"==this.tagName?t.Jcrop.Loader(this,function(){t(this).css({display:"block",visibility:"hidden"}),n=t.Jcrop(this,e),t.isFunction(i)&&i.call(n)}):(t(this).css({display:"block",visibility:"hidden"}),n=t.Jcrop(this,e),t.isFunction(i)&&i.call(n))}),this},t.Jcrop.Loader=function(e,i,n){function o(){r.complete?(s.unbind(".jcloader"),t.isFunction(i)&&i.call(r)):window.setTimeout(o,50)}var s=t(e),r=s[0];s.bind("load.jcloader",o).bind("error.jcloader",function(e){s.unbind(".jcloader"),t.isFunction(n)&&n.call(r)}),r.complete&&t.isFunction(i)&&(s.unbind(".jcloader"),i.call(r))},t.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:7,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),function(t){window.jcrop_api=null,window.init_papercrop=function(){t("div[id$=_cropbox]").each(function(){var e=t(this).attr("id").replace("_cropbox",""),i=!!t("#"+e+"_crop_preview").length,n=t("input#"+e+"_aspect").val();t(this).width();"false"===n&&(n=!1),update_crop=function(o){var s,r,a;i&&n&&(s=t("#"+e+"_crop_preview_wrapper").width(),r=s/o.w,a=s/o.h,t("img#"+e+"_crop_preview").css({width:Math.round(r*t("input[id$='_"+e+"_original_w']").val())+"px",height:Math.round(a*t("input[id$='_"+e+"_original_h']").val()/n)+"px",marginLeft:"-"+Math.round(r*o.x)+"px",marginTop:"-"+Math.round(a*o.y/n)+"px"})),t("#"+e+"_crop_x").val(Math.round(o.x)),t("#"+e+"_crop_y").val(Math.round(o.y)),t("#"+e+"_crop_w").val(Math.round(o.w)),t("#"+e+"_crop_h").val(Math.round(o.h))},t(this).find("img").Jcrop({onChange:update_crop,onSelect:update_crop,setSelect:[0,0,250,250],aspectRatio:n===!1?void 0:n,boxWidth:t("input[id$='_"+e+"_box_w']").val()},function(){jcrop_api=this})})},t(document).ready(function(){init_papercrop()})}(jQuery),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i;t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var i=t('meta[name="csrf-token"]').attr("content");i&&e.setRequestHeader("X-CSRF-Token",i)},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(n){var o,s,r,a,l,h,c,u;if(i.fire(n,"ajax:before")){if(a=n.data("cross-domain"),l=a===e?null:a,h=n.data("with-credentials")||null,c=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.attr("method"),s=n.attr("action"),r=n.serializeArray();var d=n.data("ujs:submit-button");d&&(r.push(d),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(o=n.data("method"),s=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",s=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):(o=n.data("method"),s=i.href(n),r=n.data("params")||null);u={type:o||"GET",data:r,dataType:c,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[t,o])},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:l},h&&(u.xhrFields={withCredentials:h}),s&&(u.url=s);var p=i.ajax(u);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var o=i.href(n),s=n.data("method"),r=n.attr("target"),a=t("meta[name=csrf-token]").attr("content"),l=t("meta[name=csrf-param]").attr("content"),h=t('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+s+'" type="hidden" />';l!==e&&a!==e&&(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),r&&h.attr("target",r),h.hide().append(c).appendTo("body"),h.submit()},disableFormElements:function(e){e.find(i.disableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with",e[i]()),e[i](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(i.enableSelector).each(function(){var e=t(this),i=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[i](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,n=t.data("confirm"),o=!1;return n?(i.fire(t,"confirm")&&(o=i.confirm(n),e=i.fire(t,"confirm:complete",[o])),o&&e):!0},blankInputs:function(e,i,n){var o,s,r=t(),a=i||"input,textarea",l=e.find(a);return l.each(function(){if(o=t(this),s=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):o.val(),!s==!n){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;r=r.add(o)}}),r.length?r:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(t(document),"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(document).delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),t(document).delegate(i.linkClickSelector,"click.rails",function(n){var o=t(this),s=o.data("method"),r=o.data("params");if(!i.allowAction(o))return i.stopEverything(n);if(o.is(i.linkDisableSelector)&&i.disableElement(o),o.data("remote")!==e){if((n.metaKey||n.ctrlKey)&&(!s||"GET"===s)&&!r)return!0;var a=i.handleRemote(o);return a===!1?i.enableElement(o):a.error(function(){i.enableElement(o)}),!1}return o.data("method")?(i.handleMethod(o),!1):void 0}),t(document).delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),t(document).delegate(i.formSubmitSelector,"submit.rails",function(n){var o=t(this),s=o.data("remote")!==e,r=i.blankInputs(o,i.requiredInputSelector),a=i.nonBlankInputs(o,i.fileInputSelector);if(!i.allowAction(o))return i.stopEverything(n);if(r&&o.attr("novalidate")==e&&i.fire(o,"ajax:aborted:required",[r]))return i.stopEverything(n);if(s){if(a){setTimeout(function(){i.disableFormElements(o)},13);var l=i.fire(o,"ajax:aborted:file",[a]);return l||setTimeout(function(){i.enableFormElements(o)},13),l}return i.handleRemote(o),!1}setTimeout(function(){i.disableFormElements(o)},13)}),t(document).delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),s=o?{name:o,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),t(document).delegate(i.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&i.disableFormElements(t(this))}),t(document).delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&i.enableFormElements(t(this))}),t(function(){var e=t("meta[name=csrf-token]").attr("content"),i=t("meta[name=csrf-param]").attr("content");t('form input[name="'+i+'"]').val(e)}))}(jQuery),/*! jQuery UI - v1.10.3 - 2013-05-03
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2013 jQuery Foundation and other contributors; Licensed MIT */
function(t,e){function i(e,i){var o,s,r,a=e.nodeName.toLowerCase();return"area"===a?(o=e.parentNode,s=o.name,e.href&&s&&"map"===o.nodeName.toLowerCase()?(r=t("img[usemap=#"+s+"]")[0],!!r&&n(r)):!1):(/input|select|textarea|button|object/.test(a)?!e.disabled:"a"===a?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var o=0,s=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,o,s=t(this[0]);s.length&&s[0]!==document;){if(n=s.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(o=parseInt(s.css("zIndex"),10),!isNaN(o)&&0!==o))return o;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),o=isNaN(n);return(o||n>=0)&&i(e,!o)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function o(e,i,n,o){return t.each(s,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var s="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?a["inner"+n].call(this):this.each(function(){t(this).css(r,o(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(r,o(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var o,s=t.ui[e].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(t,e,i){var n,o=t.plugins[e];if(o&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<o.length;n++)t.options[o[n][0]]&&o[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return e[n]>0?!0:(e[n]=1,o=e[n]>0,e[n]=0,o)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,o=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(s){}o(e)},t.widget=function(e,i,n){var o,s,r,a,l={},h=e.split(".")[0];e=e.split(".")[1],o=h+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[h]=t[h]||{},s=t[h][e],r=t[h][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,s,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,s=this._superApply;return this._super=t,this._superApply=o,e=n.apply(this,arguments),this._super=i,this._superApply=s,e}}()):void(l[e]=n)}),r.prototype=t.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix:e},l,{constructor:r,namespace:h,widgetName:e,widgetFullName:o}),s?(t.each(s._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete s._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r)},t.widget.extend=function(i){for(var o,s,r=n.call(arguments,1),a=0,l=r.length;l>a;a++)for(o in r[a])s=r[a][o],r[a].hasOwnProperty(o)&&s!==e&&(t.isPlainObject(s)?i[o]=t.isPlainObject(i[o])?t.widget.extend({},i[o],s):t.widget.extend({},s):i[o]=s);return i},t.widget.bridge=function(i,o){var s=o.prototype.widgetFullName||i;t.fn[i]=function(r){var a="string"==typeof r,l=n.call(arguments,1),h=this;return r=!a&&l.length?t.widget.extend.apply(null,[r].concat(l)):r,a?this.each(function(){var n,o=t.data(this,s);return o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,l),n!==o&&n!==e?(h=n&&n.jquery?h.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+r+"'")}):this.each(function(){var e=t.data(this,s);e?e.option(r||{})._init():t.data(this,s,new o(r,this))}),h}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var o,s,r,a=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(a={},o=i.split("."),i=o.shift(),o.length){for(s=a[i]=t.widget.extend({},this.options[i]),r=0;r<o.length-1;r++)s[o[r]]=s[o[r]]||{},s=s[o[r]];if(i=o.pop(),n===e)return s[i]===e?null:s[i];s[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];a[i]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(e,i,n){var o,s=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=o=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),t.each(n,function(n,r){function a(){return e||s.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?s[r]:r).apply(s,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),h=l[1]+s.eventNamespace,c=l[2];c?o.delegate(c,h,a):i.bind(h,a)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var o,s,r=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,o,s){"string"==typeof o&&(o={effect:o});var r,a=o?o===!0||"number"==typeof o?i:o.effect||i:e;o=o||{},"number"==typeof o&&(o={duration:o}),r=!t.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),r&&t.effects&&t.effects.effect[a]?n[e](o):a!==e&&n[a]?n[a](o.duration,o.easing,s):n.queue(function(i){t(this)[e](),s&&s.call(n[0]),i()})}})}(jQuery),function(t,e){var i=!1;t(document).mouseup(function(){i=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,o=1===e.which,s="string"==typeof this.options.cancel&&e.target.nodeName?t(e.target).closest(this.options.cancel).length:!1;return o&&!s&&this._mouseCapture(e)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options;return o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=t(o.containment),n=i[0],void(n&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:o.scrollTop(),left:o.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,o,s,r=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o,s=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-r.grid[0]:s+r.grid[0]:s)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),o=n.options,s=t.extend({},i,{item:n.element});n.sortables=[],t(o.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,s))})},stop:function(e,i){var n=t(this).data("ui-draggable"),o=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,o))})},drag:function(e,i){var n=t(this).data("ui-draggable"),o=this;t.each(n.sortables,function(){var s=!1,r=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==r&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(r.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),o=t(this).data("ui-draggable").options;n.css("opacity")&&(o._opacity=n.css("opacity")),n.css("opacity",o.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,o=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=o=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=o=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?o=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(o=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?o=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(o=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,o,s,r,a,l,h,c,u,d,p=t(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,y=i.offset.top,w=y+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)a=p.snapElements[u].left,l=a+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,a-m>v||g>l+m||h-m>w||y>c+m||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(n=Math.abs(h-w)<=m,o=Math.abs(c-y)<=m,s=Math.abs(a-v)<=m,r=Math.abs(l-g)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=n||o||s||r,"outer"!==f.snapMode&&(n=Math.abs(h-y)<=m,o=Math.abs(c-w)<=m,s=Math.abs(a-g)<=m,r=Math.abs(l-v)<=m,n&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),o&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left),r&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(n||o||s||r||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=n||o||s||r||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),o=t(this).data("ui-draggable").options;n.css("zIndex")&&(o._zIndex=n.css("zIndex")),n.css("zIndex",o.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t,e){function i(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];e<i.length;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),
i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,o=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,e,n){if(!e.offset)return!1;var o,s,r=(t.positionAbs||t.position.absolute).left,a=r+t.helperProportions.width,l=(t.positionAbs||t.position.absolute).top,h=l+t.helperProportions.height,c=e.offset.left,u=c+e.proportions.width,d=e.offset.top,p=d+e.proportions.height;switch(n){case"fit":return r>=c&&u>=a&&l>=d&&p>=h;case"intersect":return c<r+t.helperProportions.width/2&&a-t.helperProportions.width/2<u&&d<l+t.helperProportions.height/2&&h-t.helperProportions.height/2<p;case"pointer":return o=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,s=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,i(s,d,e.proportions.height)&&i(o,c,e.proportions.width);case"touch":return(l>=d&&p>=l||h>=d&&p>=h||d>l&&h>p)&&(r>=c&&u>=r||a>=c&&u>=a||c>r&&a>u);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,o,s=t.ui.ddmanager.droppables[e.options.scope]||[],r=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<s.length;n++)if(!(s[n].options.disabled||e&&!s[n].accept.call(s[n].element[0],e.currentItem||e.element))){for(o=0;o<a.length;o++)if(a[o]===s[n].element[0]){s[n].proportions.height=0;continue t}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===r&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions={width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight})}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,s,r=t.ui.intersect(e,this,this.options.tolerance),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===o}),s.length&&(n=t.data(s[0],"ui-droppable"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t,e){function i(t){return parseInt(t,10)||0}function n(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,n,o,s,r=this,a=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;i<e.length;i++)n=t.trim(e[i]),s="ui-resizable-"+n,o=t("<div class='ui-resizable-handle "+s+"'></div>"),o.css({zIndex:a.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(e){var i,n,o,s;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(o,s),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(t(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){a.disabled||r.resizing||(t(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,o=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(e){var n,o,s,r=this.options,a=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),n=i(this.helper.css("left")),o=i(this.helper.css("top")),r.containment&&(n+=t(r.containment).scrollLeft()||0,o+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:o},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:o},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===s?this.axis+"-resize":s),l.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n=this.helper,o={},s=this.originalMousePosition,r=this.axis,a=this.position.top,l=this.position.left,h=this.size.width,c=this.size.height,u=e.pageX-s.left||0,d=e.pageY-s.top||0,p=this._change[r];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==a&&(o.top=this.position.top+"px"),this.position.left!==l&&(o.left=this.position.left+"px"),this.size.width!==h&&(o.width=this.size.width+"px"),this.size.height!==c&&(o.height=this.size.height+"px"),n.css(o),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(o)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,o,s,r,a,l,h=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,s=n?0:c.sizeDiff.width,r={width:c.helper.width()-s,height:c.helper.height()-o},a=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,h.animate||this.element.css(t.extend(r,{top:l,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!h.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,o,s,r,a=this.options;r={minWidth:n(a.minWidth)?a.minWidth:0,maxWidth:n(a.maxWidth)?a.maxWidth:1/0,minHeight:n(a.minHeight)?a.minHeight:0,maxHeight:n(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,o=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,s=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),o>r.minHeight&&(r.minHeight=o),i<r.maxWidth&&(r.maxWidth=i),s<r.maxHeight&&(r.maxHeight=s)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),n(t.left)&&(this.position.left=t.left),n(t.top)&&(this.position.top=t.top),n(t.height)&&(this.size.height=t.height),n(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,o=this.axis;return n(t.height)?t.width=t.height*this.aspectRatio:n(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===o&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===o&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,o=n(t.width)&&e.maxWidth&&e.maxWidth<t.width,s=n(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=n(t.width)&&e.minWidth&&e.minWidth>t.width,a=n(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return r&&(t.width=e.minWidth),a&&(t.height=e.minHeight),o&&(t.width=e.maxWidth),s&&(t.height=e.maxHeight),r&&c&&(t.left=l-e.minWidth),o&&c&&(t.left=l-e.maxWidth),a&&u&&(t.top=h-e.minHeight),s&&u&&(t.top=h-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,n,o,s=this.helper||this.element;for(t=0;t<this._proportionallyResizeElements.length;t++){if(o=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],n=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")],e=0;e<i.length;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0);o.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),n=i.options,o=i._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),r=s&&t.ui.hasScroll(o[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-r},h=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&h?{top:c,left:h}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&t(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,o,s,r,a,l,h=t(this).data("ui-resizable"),c=h.options,u=h.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(h.containerElement=t(p),/document/.test(d)||d===document?(h.containerOffset={left:0,top:0},h.containerPosition={left:0,top:0},h.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(p),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,o){n[t]=i(e.css("padding"+o))}),h.containerOffset=e.offset(),h.containerPosition=e.position(),h.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},o=h.containerOffset,s=h.containerSize.height,r=h.containerSize.width,a=t.ui.hasScroll(p,"left")?p.scrollWidth:r,l=t.ui.hasScroll(p)?p.scrollHeight:s,h.parentData={element:p,left:o.left,top:o.top,width:a,height:l}))},resize:function(e){var i,n,o,s,r=t(this).data("ui-resizable"),a=r.options,l=r.containerOffset,h=r.position,c=r._aspectRatio||e.shiftKey,u={top:0,left:0},d=r.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),h.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-u.left),c&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=a.helper?l.left:0),h.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),c&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?l.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top,i=Math.abs((r._helper?r.offset.left-u.left:r.offset.left-u.left)+r.sizeDiff.width),n=Math.abs((r._helper?r.offset.top-u.top:r.offset.top-l.top)+r.sizeDiff.height),o=r.containerElement.get(0)===r.element.parent().get(0),s=/relative|absolute/.test(r.containerElement.css("position")),o&&s&&(i-=r.parentData.left),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,c&&(r.size.height=r.size.width/r.aspectRatio)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,c&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.containerOffset,o=e.containerPosition,s=e.containerElement,r=t(e.helper),a=r.offset(),l=r.outerWidth()-e.sizeDiff.width,h=r.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(s.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:l,height:h}),e._helper&&!i.animate&&/static/.test(s.css("position"))&&t(this).css({left:a.left-o.left-n.left,width:l,height:h})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("ui-resizable"),o=n.options,s=n.originalSize,r=n.originalPosition,a={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0},l=function(e,n){t(e).each(function(){var e=t(this),o=t(this).data("ui-resizable-alsoresize"),s={},r=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var i=(o[e]||0)+(a[e]||0);i&&i>=0&&(s[e]=i||null)}),e.css(s)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?l(o.alsoResize):t.each(o.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size,o=e.originalSize,s=e.originalPosition,r=e.axis,a="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=a[0]||1,h=a[1]||1,c=Math.round((n.width-o.width)/l)*l,u=Math.round((n.height-o.height)/h)*h,d=o.width+c,p=o.height+u,f=i.maxWidth&&i.maxWidth<d,m=i.maxHeight&&i.maxHeight<p,g=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=a,g&&(d+=l),v&&(p+=h),f&&(d-=l),m&&(p-=h),/^(se|s|e)$/.test(r)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(r)?(e.size.width=d,e.size.height=p,e.position.top=s.top-u):/^(sw)$/.test(r)?(e.size.width=d,e.size.height=p,e.position.left=s.left-c):(e.size.width=d,e.size.height=p,e.position.top=s.top-u,e.position.left=s.left-c)}})}(jQuery),function(t,e){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,o=t.data(this,"selectable-item");return o?(n=!e.metaKey&&!e.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",e,{selecting:o.element}):i._trigger("unselecting",e,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,s=this.opos[0],r=this.opos[1],a=e.pageX,l=e.pageY;return s>a&&(i=a,a=s,s=i),r>l&&(i=l,l=r,r=i),this.helper.css({left:s,top:r,width:a-s,height:l-r}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?h=!(i.left>a||i.right<s||i.top>l||i.bottom<r):"fit"===o.tolerance&&(h=i.left>s&&i.right<a&&i.top>r&&i.bottom<l),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t,e){function i(t,e,i){return t>e&&e+i>t}function n(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,o=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,s.widgetName+"-item")===s?(n=t(this),!1):void 0}),t.data(e.target,s.widgetName+"-item")===s&&(n=t(e.target)),n&&(!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(o=!0)}),o))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,n){var o,s,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",r.cursor),this.storedStylesheet=t("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(s)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,o,s,r=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:e.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:e.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(e.pageY-t(document).scrollTop()<r.scrollSensitivity?a=t(document).scrollTop(t(document).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<r.scrollSensitivity&&(a=t(document).scrollTop(t(document).scrollTop()+r.scrollSpeed)),e.pageX-t(document).scrollLeft()<r.scrollSensitivity?a=t(document).scrollLeft(t(document).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<r.scrollSensitivity&&(a=t(document).scrollLeft(t(document).scrollLeft()+r.scrollSpeed))),a!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==o&&!t.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],o):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,o=this.placeholder.offset(),s=this.options.axis,r={};s&&"x"!==s||(r.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(r.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),
this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=t.left,r=s+t.width,a=t.top,l=a+t.height,h=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||n+h>a&&l>n+h,d="y"===this.options.axis||e+c>s&&r>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:s<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||i(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||i(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=e&&n,s=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return o?this.floating?r&&"right"===r||"down"===s?2:1:s&&("down"===s?2:1):!1},_intersectsWithSides:function(t){var e=i(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=i(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&n||"left"===s&&!n:o&&("down"===o&&e||"up"===o&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,o,s,r=[],a=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(o=t(l[i]),n=o.length-1;n>=0;n--)s=t.data(o[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&a.push([t.isFunction(s.options.items)?s.options.items.call(s.element):t(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(function(){r.push(this)});return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,o,s,r,a,l,h,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(o=t(d[i]),n=o.length-1;n>=0;n--)s=t.data(o[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(u.push([t.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):t(s.options.items,s.element),s]),this.containers.push(s));for(i=u.length-1;i>=0;i--)for(r=u[i][1],a=u[i][0],n=0,h=a.length;h>n;n++)l=t(a[n]),l.data(this.widgetName+"-item",r),c.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,o,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=o.outerWidth(),n.height=o.outerHeight()),s=o.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(o)}):"img"===n&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(e){var o,s,r,a,l,h,c,u,d,p,f=null,m=null;for(o=this.containers.length-1;o>=0;o--)if(!t.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(f&&t.contains(this.containers[o].element[0],f.element[0]))continue;f=this.containers[o],m=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",e,this._uiHash(this)),this.containers[o].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",e,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(r=1e4,a=null,p=f.floating||n(this.currentItem),l=p?"left":"top",h=p?"width":"height",c=this.positionAbs[l]+this.offset.click[l],s=this.items.length-1;s>=0;s--)t.contains(this.containers[m].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(!p||i(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))&&(u=this.items[s].item.offset()[l],d=!1,Math.abs(u-c)>Math.abs(u+this.items[s][h]-c)&&(d=!0,u+=this.items[s][h]),Math.abs(u-c)<r&&(r=Math.abs(u-c),a=this.items[s],this.direction=d?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[m].element,!0),this._trigger("change",e,this._uiHash()),this.containers[m]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",e,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===o.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*n}},_generatePosition:function(e){var i,n,o=this.options,s=e.pageX,r=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){var i="ui-effects-";t.effects={effect:{}},/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){function i(t,e,i){var n=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function n(e){var i=h(),n=i._rgba=[];return e=e.toLowerCase(),f(l,function(t,o){var s,r=o.re.exec(e),a=r&&o.parse(r),l=o.space||"rgba";return a?(s=i[l](a),i[c[l].cache]=s[c[l].cache],n=i._rgba=s._rgba,!1):void 0}),n.length?("0,0,0,0"===n.join()&&t.extend(n,s.transparent),i):s[e]}function o(t,e,i){return i=(i+1)%1,1>6*i?t+(e-t)*i*6:1>2*i?e:2>3*i?t+(e-t)*(2/3-i)*6:t}var s,r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",a=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,n,o){return new t.Color.fn.parse(e,i,n,o)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=h.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(o,r,a,l){if(o===e)return this._rgba=[null,null,null,null],this;(o.jquery||o.nodeType)&&(o=t(o).css(r),r=e);var u=this,d=t.type(o),p=this._rgba=[];return r!==e&&(o=[o,r,a,l],d="array"),"string"===d?this.parse(n(o)||s._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(o[e.idx],e)}),this):"object"===d?(o instanceof h?f(c,function(t,e){o[e.cache]&&(u[e.cache]=o[e.cache].slice())}):f(c,function(e,n){var s=n.cache;f(n.props,function(t,e){if(!u[s]&&n.to){if("alpha"===t||null==o[t])return;u[s]=n.to(u._rgba)}u[s][e.idx]=i(o[t],e,!0)}),u[s]&&t.inArray(null,u[s].slice(0,3))<0&&(u[s][3]=1,n.from&&(u._rgba=n.from(u[s])))}),this):void 0},is:function(t){var e=h(t),i=!0,n=this;return f(c,function(t,o){var s,r=e[o.cache];return r&&(s=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,e){return null!=r[e.idx]?i=r[e.idx]===s[e.idx]:void 0})),i}),i},_space:function(){var t=[],e=this;return f(c,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=h(t),o=n._space(),s=c[o],r=0===this.alpha()?h("transparent"):this,a=r[s.cache]||s.to(r._rgba),l=a.slice();return n=n[s.cache],f(s.props,function(t,o){var s=o.idx,r=a[s],h=n[s],c=u[o.type]||{};null!==h&&(null===r?l[s]=h:(c.mod&&(h-r>c.mod/2?r+=c.mod:r-h>c.mod/2&&(r-=c.mod)),l[s]=i((h-r)*e+r,o)))}),this[o](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),o=h(e)._rgba;return h(t.map(i,function(t,e){return(1-n)*o[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,o=t[1]/255,s=t[2]/255,r=t[3],a=Math.max(n,o,s),l=Math.min(n,o,s),h=a-l,c=a+l,u=.5*c;return e=l===a?0:n===a?60*(o-s)/h+360:o===a?60*(s-n)/h+120:60*(n-o)/h+240,i=0===h?0:.5>=u?h/c:h/(2-c),[Math.round(e)%360,i,u,null==r?1:r]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],s=t[3],r=.5>=n?n*(1+i):n+i-n*i,a=2*n-r;return[Math.round(255*o(a,r,e+1/3)),Math.round(255*o(a,r,e)),Math.round(255*o(a,r,e-1/3)),s]},f(c,function(n,o){var s=o.props,r=o.cache,l=o.to,c=o.from;h.fn[n]=function(n){if(l&&!this[r]&&(this[r]=l(this._rgba)),n===e)return this[r].slice();var o,a=t.type(n),u="array"===a||"object"===a?n:arguments,d=this[r].slice();return f(s,function(t,e){var n=u["object"===a?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=i(n,e)}),c?(o=h(c(d)),o[r]=d,o):h(d)},f(s,function(e,i){h.fn[e]||(h.fn[e]=function(o){var s,r=t.type(o),l="alpha"===e?this._hsla?"hsla":"rgba":n,h=this[l](),c=h[i.idx];return"undefined"===r?c:("function"===r&&(o=o.call(this,c),r=t.type(o)),null==o&&i.empty?this:("string"===r&&(s=a.exec(o),s&&(o=c+parseFloat(s[2])*("+"===s[1]?1:-1))),h[i.idx]=o,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,o){var s,r,a="";if("transparent"!==o&&("string"!==t.type(o)||(s=n(o)))){if(o=h(s||o),!d.rgba&&1!==o._rgba[3]){for(r="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&r&&r.style;)try{a=t.css(r,"backgroundColor"),r=r.parentNode}catch(l){}o=o.blend(a&&"transparent"!==a?a:"_default")}o=o.toRgbaString()}try{e.style[i]=o}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(r),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},s=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,n,o=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,s={};if(o&&o.length&&o[0]&&o[o[0]])for(n=o.length;n--;)i=o[n],"string"==typeof o[i]&&(s[t.camelCase(i)]=o[i]);else for(i in o)"string"==typeof o[i]&&(s[i]=o[i]);return s}function n(e,i){var n,o,r={};for(n in i)o=i[n],e[n]!==o&&(s[n]||(t.fx.step[n]||!isNaN(parseFloat(o)))&&(r[n]=o));return r}var o=["add","remove","toggle"],s={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,s,r,a){var l=t.speed(s,r,a);return this.queue(function(){var s,r=t(this),a=r.attr("class")||"",h=l.children?r.find("*").addBack():r;h=h.map(function(){var e=t(this);return{el:e,start:i(this)}}),s=function(){t.each(o,function(t,i){e[i]&&r[i+"Class"](e[i])})},s(),h=h.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),r.attr("class",a),h=h.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,h.get()).done(function(){s(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(r[0])})})},t.fn.extend({addClass:function(e){return function(i,n,o,s){return n?t.effects.animateClass.call(this,{add:i},n,o,s):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,o,s){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,o,s):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(n,o,s,r,a){return"boolean"==typeof o||o===e?s?t.effects.animateClass.call(this,o?{add:n}:{remove:n},s,r,a):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},o,s,r)}}(t.fn.toggleClass),switchClass:function(e,i,n,o,s){return t.effects.animateClass.call(this,{add:i,remove:e},n,o,s)}})}(),function(){function n(e,i,n,o){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(o=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(o=n,n=i,i={}),t.isFunction(n)&&(o=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=o||i.complete,e}function o(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var n=0;n<e.length;n++)null!==e[n]&&t.data(i+e[n],t[0].style[e[n]])},restore:function(t,n){var o,s;for(s=0;s<n.length;s++)null!==n[s]&&(o=t.data(i+n[s]),o===e&&(o=""),t.css(n[s],o))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:e.width(),height:e.height()},s=document.activeElement;try{s.id}catch(r){s=document.body}return e.wrap(n),(e[0]===s||t.contains(e[0],s))&&t(s).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(o),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,o){return o=o||{},t.each(i,function(t,i){var s=e.cssUnit(i);s[0]>0&&(o[i]=s[0]*n+s[1])}),o}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(s)&&s.call(o[0]),t.isFunction(e)&&e()}var o=t(this),s=i.complete,a=i.mode;(o.is(":hidden")?"hide"===a:"show"===a)?(o[a](),n()):r.call(o[0],i,n)}var i=n.apply(this,arguments),o=i.mode,s=i.queue,r=t.effects.effect[i.effect];return t.fx.off||!r?o?this[o](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):s===!1?this.each(e):this.queue(s||"fx",e)},show:function(t){return function(e){if(o(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(o(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(o(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t,e){var i=0,n={},o={};n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="hide",o.height=o.paddingTop=o.paddingBottom=o.borderTopWidth=o.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,o=this.headers.index(e.target),s=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(t(e.target).attr("tabIndex",-1),t(s).attr("tabIndex",0),s.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var e,n=this.options,o=n.heightStyle,s=this.element.parent(),r=this.accordionId="ui-accordion-"+(this.element.attr("id")||++i);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),n=i.attr("id"),o=i.next(),s=o.attr("id");n||(n=r+"-header-"+e,i.attr("id",n)),s||(s=r+"-panel-"+e,o.attr("id",s)),i.attr("aria-controls",s),o.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===o?(e=s.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===o&&(e=0,this.headers.next().each(function(){e=Math.max(e,t(this).css("height","").height())}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,o=t(e.currentTarget),s=o[0]===n[0],r=s&&i.collapsible,a=r?t():o.next(),l=n.next(),h={oldHeader:n,oldPanel:l,newHeader:r?t():o,newPanel:a};e.preventDefault(),s&&!i.collapsible||this._trigger("beforeActivate",e,h)===!1||(i.active=r?!1:this.headers.index(o),this.active=s?t():o,this._toggle(h),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),s||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,e,i){var s,r,a,l=this,h=0,c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},d=c&&u.down||u,p=function(){l._toggleComplete(i)};return"number"==typeof d&&(a=d),"string"==typeof d&&(r=d),r=r||d.easing||u.easing,a=a||d.duration||u.duration,e.length?t.length?(s=t.show().outerHeight(),e.animate(n,{duration:a,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(o,{duration:a,easing:r,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?h+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(s-e.outerHeight()-h),h=0)}})):e.animate(n,a,r,p):t.animate(o,a,r,p)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(jQuery),function(t,e){var i=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n,o=this.element[0].nodeName.toLowerCase(),s="textarea"===o,r="input"===o;this.isMultiLine=s?!0:r?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[s||r?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(o){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var s=t.ui.keyCode;switch(o.keyCode){case s.PAGE_UP:e=!0,this._move("previousPage",o);break;case s.PAGE_DOWN:e=!0,this._move("nextPage",o);break;case s.UP:e=!0,this._keyEvent("previous",o);break;case s.DOWN:e=!0,this._keyEvent("next",o);break;case s.ENTER:case s.NUMPAD_ENTER:this.menu.active&&(e=!0,o.preventDefault(),this.menu.select(o));break;case s.TAB:this.menu.active&&this.menu.select(o);break;case s.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(o),o.preventDefault());break;default:i=!0,this._searchTimeout(o)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:this._move("previousPage",n);break;case o.PAGE_DOWN:this._move("nextPage",n);break;case o.UP:this._keyEvent("previous",n);break;case o.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,o){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){o(t)},error:function(){o([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,e=++i;return function(n){e===i&&t.__response(n),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t,e){var i,n,o,s,r="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",l="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},c=function(e){var i=e.name,n=e.form,o=t([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),o};t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var e=this,a=this.options,l="checkbox"===this.type||"radio"===this.type,u=l?"":"ui-state-active",d="ui-state-focus";null===a.label&&(a.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(r).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){a.disabled||this===i&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){a.disabled||t(this).removeClass(u)}).bind("click"+this.eventNamespace,function(t){a.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){e.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){e.buttonElement.removeClass(d)}),l&&(this.element.bind("change"+this.eventNamespace,function(){s||e.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){a.disabled||(s=!1,n=t.pageX,o=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){a.disabled||(n!==t.pageX||o!==t.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return a.disabled||s?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(a.disabled||s)return!1;t(this).addClass("ui-state-active"),e.buttonElement.attr("aria-pressed","true");var i=e.element[0];c(i).not(i).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return a.disabled?!1:(t(this).addClass("ui-state-active"),i=this,void e.document.one("mouseup",function(){i=null}))}).bind("mouseup"+this.eventNamespace,function(){return a.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return a.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",a.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(r+" "+a+" "+l).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?c(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(l),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,s=[];n.primary||n.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):s.push("ui-button-text-only"),e.addClass(s.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(s.inline?e.parent()[0]:s.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function o(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.10.3"}});var s,r="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return o(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,o,s;n=e.nodeName.toLowerCase(),o="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),s=this._newInst(t(e),o),s.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,s):o&&this._inlineDatepicker(e,s)},_newInst:function(e,i){var o=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:o,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,r,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,o,s,r=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=t("<span class='"+this._appendClass+"'>"+r+"</span>"),e[a?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(o=this._get(i,"buttonText"),s=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:s,alt:o,title:o}):t("<button type='button'></button>").addClass(this._triggerClass).html(s?t("<img/>").attr({src:s,alt:o,title:o}):o)),e[a?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,o,s=new Date(2009,11,20),r=this._get(t,"dateFormat");r.match(/[DM]/)&&(e=function(t){for(i=0,n=0,o=0;o<t.length;o++)t[o].length>i&&(i=t[o].length,n=o);return n},s.setMonth(e(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),s.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-s.getDay())),t.input.attr("size",this._formatDate(t,s).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,s,a){var l,h,c,u,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],r,p)),o(p.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(h=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[h/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(e){var i,n=t(e),o=t.data(e,r);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,r),"input"===i?(o.append.remove(),o.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,o=t(e),s=t.data(e,r);o.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,o=t(e),s=t.data(e,r);o.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=o.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,r)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,s){var r,a,l,h,c=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):c?"all"===n?t.extend({},c.settings):this._get(c,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=s),void(c&&(this._curInst===c&&this._hideDatepicker(),a=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(c,"min"),h=this._getMinMaxDate(c,"max"),o(c.settings,r),null!==l&&r.dateFormat!==e&&r.minDate===e&&(c.settings.minDate=this._formatDate(c,l)),null!==h&&r.dateFormat!==e&&r.maxDate===e&&(c.settings.maxDate=this._formatDate(c,h)),"disabled"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),c),this._autoSize(c),this._setDate(c,a),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,o,s=t.datepicker._getInst(e.target),r=!0,a=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),r=!1;break;case 13:return o=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",s.dpDiv),o[0]&&t.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,o[0]),i=t.datepicker._get(s,"onSelect"),i?(n=t.datepicker._formatDate(s),i.apply(s.input?s.input[0]:null,[n,s])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),r=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),r=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(s,"stepBigMonths"):-t.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),r=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),r=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(s,"stepBigMonths"):+t.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),r=e.ctrlKey||e.metaKey;break;default:r=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):r=!1;r&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,o=t.datepicker._getInst(e.target);return t.datepicker._get(o,"constrainInput")?(i=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">n||!i||i.indexOf(n)>-1):void 0},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(o){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,s,r,a,l,h;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),s=n?n.apply(e,[e,i]):{},s!==!1&&(o(i.settings,s),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return r|="fixed"===t(this).css("position"),!r}),a={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),a=t.datepicker._checkOffset(i,a,r),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:a.left+"px",top:a.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),h=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),h):i.dpDiv[l||"show"](l?h:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,s=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),o=n[1],r=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),o>1&&e.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",r*o+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var o=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),r=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),h=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?o-r:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+o>l&&l>o?Math.abs(i.left+o-l):0),i.top-=Math.min(i.top,i.top+s>h&&h>s?Math.abs(s+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),o=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[o?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,o,s,a=this._curInst;!a||e&&a!==t.data(e,r)||this._datepickerShowing&&(i=this._get(a,"showAnim"),n=this._get(a,"duration"),o=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[i]||t.effects[i])?a.dpDiv.hide(i,t.datepicker._get(a,"showOptions"),n,o):a.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,o),i||o(),this._datepickerShowing=!1,s=this._get(a,"onClose"),s&&s.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var o=t(e),s=this._getInst(o[0]);this._isDisabledDatepicker(o[0])||(this._adjustInstDate(s,i+("M"===n?this._get(s,"showCurrentAtPos"):0),n),this._updateDatepicker(s))},_gotoToday:function(e){var i,n=t(e),o=this._getInst(n[0]);this._get(o,"gotoCurrent")&&o.currentDay?(o.selectedDay=o.currentDay,o.drawMonth=o.selectedMonth=o.currentMonth,o.drawYear=o.selectedYear=o.currentYear):(i=new Date,o.selectedDay=i.getDate(),o.drawMonth=o.selectedMonth=i.getMonth(),o.drawYear=o.selectedYear=i.getFullYear()),this._notifyChange(o),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var o=t(e),s=this._getInst(o[0]);s["selected"+("M"===n?"Month":"Year")]=s["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(o)},_selectDay:function(e,i,n,o){var s,r=t(e);t(o).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(s=this._getInst(r[0]),s.selectedDay=s.currentDay=t("a",o).html(),s.selectedMonth=s.currentMonth=i,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,o=t(e),s=this._getInst(o[0]);i=null!=i?i:this._formatDate(s),s.input&&s.input.val(i),this._updateAlternate(s),n=this._get(s,"onSelect"),n?n.apply(s.input?s.input[0]:null,[i,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,o,s=this._get(e,"altField");s&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),o=this.formatDate(i,n,this._getFormatConfig(e)),t(s).each(function(){t(this).val(o)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(i="object"==typeof i?i.toString():i+"",""===i)return null;var o,s,r,a,l=0,h=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),u=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,w=!1,b=function(t){var i=o+1<e.length&&e.charAt(o+1)===t;return i&&o++,i},C=function(t){var e=b(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,o=new RegExp("^\\d{1,"+n+"}"),s=i.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},_=function(e,n,o){var s=-1,r=t.map(b(e)?o:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,e){var n=e[1];return i.substr(l,n.length).toLowerCase()===n.toLowerCase()?(s=e[0],l+=n.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+l},x=function(){if(i.charAt(l)!==e.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;o<e.length;o++)if(w)"'"!==e.charAt(o)||b("'")?x():w=!1;else switch(e.charAt(o)){case"d":v=C("d");break;case"D":_("D",u,d);break;case"o":y=C("o");break;case"m":g=C("m");break;case"M":g=_("M",p,f);break;case"y":m=C("y");break;case"@":a=new Date(C("@")),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((C("!")-this._ticksTo1970)/1e4),m=a.getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":b("'")?x():w=!0;break;default:x()}if(l<i.length&&(r=i.substr(l),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),y>-1)for(g=1,v=y;;){if(s=this._getDaysInMonth(m,g-1),s>=v)break;g++,v-=s}if(a=this._daylightSavingAdjust(new Date(m,g-1,v)),a.getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,s=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},h=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},c=function(t,e,i,n){return l(t)?n[e]:i[e]},u="",d=!1;if(e)for(n=0;n<t.length;n++)if(d)"'"!==t.charAt(n)||l("'")?u+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":u+=h("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),o,s);break;case"o":u+=h("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=h("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),r,a);break;case"y":u+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(n)}return u},_possibleChars:function(t){var e,i="",n=!1,o=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||o("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":o("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,o=this._getDefaultDate(t),s=o,r=this._getFormatConfig(t);try{s=this.parseDate(i,n,r)||o}catch(a){n=e?"":n}t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),t.currentDay=n?s.getDate():0,t.currentMonth=n?s.getMonth():0,t.currentYear=n?s.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var o=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},s=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var o=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,s=o.getFullYear(),r=o.getMonth(),a=o.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,h=l.exec(i);h;){switch(h[2]||"d"){case"d":case"D":a+=parseInt(h[1],10);break;case"w":case"W":a+=7*parseInt(h[1],10);break;case"m":case"M":r+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(h[1],10),a=Math.min(a,t.datepicker._getDaysInMonth(s,r))}h=l.exec(i)}return new Date(s,r,a)},r=null==i||""===i?n:"string"==typeof i?s(i):"number"==typeof i?isNaN(i)?n:o(i):new Date(i.getTime());return r=r&&"Invalid Date"===r.toString()?n:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,o=t.selectedMonth,s=t.selectedYear,r=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=r.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=r.getMonth(),t.drawYear=t.selectedYear=t.currentYear=r.getFullYear(),o===t.selectedMonth&&s===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,o,s,r,a,l,h,c,u,d,p,f,m,g,v,y,w,b,C,_,x,k,S,T,D,E,R,A,M,P,H,I,O,N,L,z,F,W=new Date,j=this._daylightSavingAdjust(new Date(W.getFullYear(),W.getMonth(),W.getDate())),B=this._get(t,"isRTL"),$=this._get(t,"showButtonPanel"),Y=this._get(t,"hideIfNoPrevNext"),V=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),U=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),X=1!==q[0]||1!==q[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-U,tt=t.drawYear;if(0>J&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),e=Z&&Z>e?Z:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)J--,0>J&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=V?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-G,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":Y?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",o=this._get(t,"nextText"),o=V?this.formatDate(o,this._daylightSavingAdjust(new Date(tt,J+G,1)),this._getFormatConfig(t)):o,s=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+o+"</span></a>":Y?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+o+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+o+"</span></a>",r=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:j,r=V?this.formatDate(r,a,this._getFormatConfig(t)):r,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",h=$?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(B?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),w=this._getDefaultDate(t),b="",_=0;_<q[0];_++){for(x="",this.maxRows=4,k=0;k<q[1];k++){if(S=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),T=" ui-corner-all",D="",X){if(D+="<div class='ui-datepicker-group",q[1]>1)switch(k){case 0:D+=" ui-datepicker-group-first",T=" ui-corner-"+(B?"right":"left");break;case q[1]-1:D+=" ui-datepicker-group-last",T=" ui-corner-"+(B?"left":"right");break;default:D+=" ui-datepicker-group-middle",T=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===_?B?s:n:"")+(/all|right/.test(T)&&0===_?B?n:s:"")+this._generateMonthYearHeader(t,J,tt,Z,Q,_>0||k>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",E=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",C=0;7>C;C++)R=(C+c)%7,E+="<th"+((C+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[R]+"'>"+p[R]+"</span></th>";for(D+=E+"</tr></thead><tbody>",A=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,A)),M=(this._getFirstDayOfMonth(tt,J)-c+7)%7,P=Math.ceil((M+A)/7),H=X&&this.maxRows>P?this.maxRows:P,this.maxRows=H,I=this._daylightSavingAdjust(new Date(tt,J,1-M)),O=0;H>O;O++){for(D+="<tr>",N=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(I)+"</td>":"",C=0;7>C;C++)L=g?g.apply(t.input?t.input[0]:null,[I]):[!0,""],z=I.getMonth()!==J,F=z&&!y||!L[0]||Z&&Z>I||Q&&I>Q,N+="<td class='"+((C+c+6)%7>=5?" ui-datepicker-week-end":"")+(z?" ui-datepicker-other-month":"")+(I.getTime()===S.getTime()&&J===t.selectedMonth&&t._keyEvent||w.getTime()===I.getTime()&&w.getTime()===S.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(z&&!v?"":" "+L[1]+(I.getTime()===K.getTime()?" "+this._currentClass:"")+(I.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(z&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(z&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===j.getTime()?" ui-state-highlight":"")+(I.getTime()===K.getTime()?" ui-state-active":"")+(z?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",
I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);D+=N+"</tr>"}J++,J>11&&(J=0,tt++),D+="</tbody></table>"+(X?"</div>"+(q[0]>0&&k===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=D}b+=x}return b+=h,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,i,n,o,s,r,a){var l,h,c,u,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),w="<div class='ui-datepicker-title'>",b="";if(s||!g)b+="<span class='ui-datepicker-month'>"+r[e]+"</span>";else{for(l=n&&n.getFullYear()===i,h=o&&o.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=n.getMonth())&&(!h||c<=o.getMonth())&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");b+="</select>"}if(y||(w+=b+(!s&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",s||!v)w+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=o?Math.min(m,o.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",w+=t.yearshtml,t.yearshtml=null}return w+=this._get(t,"yearSuffix"),y&&(w+=(!s&&g&&v?"":"&#xa0;")+b),w+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),o=t.drawMonth+("M"===i?e:0),s=Math.min(t.selectedDay,this._getDaysInMonth(n,o))+("D"===i?e:0),r=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,o,s)));t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),o=i&&i>e?i:e;return n&&o>n?n:o},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var o=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,n+(0>e?e:o[0]*o[1]),1));return 0>e&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i,n,o=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),r=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),r=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!o||e.getTime()>=o.getTime())&&(!s||e.getTime()<=s.getTime())&&(!r||e.getFullYear()>=r)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var o=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),o,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3"}(jQuery),function(t,e){var i={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},n={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),o=i.filter(":last");e.target!==o[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(o.focus(1),e.preventDefault()):(n.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,n){var o,s;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),o=n.click,n.click=function(){o.apply(e.element[0],arguments)},s={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(s).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,o){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(o))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(o,s){n.position=[s.position.left-i.document.scrollLeft(),s.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",o,e(s))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,o=n.resizable,s=this.uiDialog.css("position"),r="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:r,start:function(n,o){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(o))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(o,s){n.height=t(this).height(),n.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",o,e(s))}}).css("position",s)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var o=this,s=!1,r={};t.each(e,function(t,e){o._setOption(t,e),t in i&&(s=!0),t in n&&(r[t]=e)}),s&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(t,e){var i,n,o=this.uiDialog;"dialogClass"===t&&o.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=o.is(":data(ui-draggable)"),i&&!e&&o.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=o.is(":data(ui-resizable)"),n&&!e&&o.resizable("destroy"),n&&"string"==typeof e&&o.resizable("option","handles",e),n||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){e._allowInteraction(n)||(n.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,n=[],o=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),t.each(["left","top"],function(t,e){+n[t]===n[t]&&(o[t]=n[t],n[t]=e)}),i={my:n[0]+(o[0]<0?o[0]:"+"+o[0])+" "+n[1]+(o[1]<0?o[1]:"+"+o[1]),at:n.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t,e){var i=/up|down|vertical/,n=/up|left|vertical|horizontal/;t.effects.effect.blind=function(e,o){var s,r,a,l=t(this),h=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(l,e.mode||"hide"),u=e.direction||"up",d=i.test(u),p=d?"height":"width",f=d?"top":"left",m=n.test(u),g={},v="show"===c;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),h):t.effects.save(l,h),l.show(),s=t.effects.createWrapper(l).css({overflow:"hidden"}),r=s[p](),a=parseFloat(s.css(f))||0,g[p]=v?r:0,m||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?a:r+a),v&&(s.css(p,0),m||s.css(f,a+r)),s.animate(g,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===c&&l.hide(),t.effects.restore(l,h),t.effects.removeWrapper(l),o()}})}}(jQuery),function(t,e){t.effects.effect.bounce=function(e,i){var n,o,s,r=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(r,e.mode||"effect"),h="hide"===l,c="show"===l,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||h?1:0),m=e.duration/f,g=e.easing,v="up"===u||"down"===u?"top":"left",y="up"===u||"left"===u,w=r.queue(),b=w.length;for((c||h)&&a.push("opacity"),t.effects.save(r,a),r.show(),t.effects.createWrapper(r),d||(d=r["top"===v?"outerHeight":"outerWidth"]()/3),c&&(s={opacity:1},s[v]=0,r.css("opacity",0).css(v,y?2*-d:2*d).animate(s,m,g)),h&&(d/=Math.pow(2,p-1)),s={},s[v]=0,n=0;p>n;n++)o={},o[v]=(y?"-=":"+=")+d,r.animate(o,m,g).animate(s,m,g),d=h?2*d:d/2;h&&(o={opacity:0},o[v]=(y?"-=":"+=")+d,r.animate(o,m,g)),r.queue(function(){h&&r.hide(),t.effects.restore(r,a),t.effects.removeWrapper(r),i()}),b>1&&w.splice.apply(w,[1,0].concat(w.splice(b,f+1))),r.dequeue()}}(jQuery),function(t,e){t.effects.effect.clip=function(e,i){var n,o,s,r=t(this),a=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(r,e.mode||"hide"),h="show"===l,c=e.direction||"vertical",u="vertical"===c,d=u?"height":"width",p=u?"top":"left",f={};t.effects.save(r,a),r.show(),n=t.effects.createWrapper(r).css({overflow:"hidden"}),o="IMG"===r[0].tagName?n:r,s=o[d](),h&&(o.css(d,0),o.css(p,s/2)),f[d]=h?s:0,f[p]=h?0:s/2,o.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||r.hide(),t.effects.restore(r,a),t.effects.removeWrapper(r),i()}})}}(jQuery),function(t,e){t.effects.effect.drop=function(e,i){var n,o=t(this),s=["position","top","bottom","left","right","opacity","height","width"],r=t.effects.setMode(o,e.mode||"hide"),a="show"===r,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",u={opacity:a?1:0};t.effects.save(o,s),o.show(),t.effects.createWrapper(o),n=e.distance||o["top"===h?"outerHeight":"outerWidth"](!0)/2,a&&o.css("opacity",0).css(h,"pos"===c?-n:n),u[h]=(a?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+n,o.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),i()}})}}(jQuery),function(t,e){t.effects.effect.explode=function(e,i){function n(){w.push(this),w.length===u*d&&o()}function o(){p.css({visibility:"visible"}),t(w).remove(),m||p.hide(),i()}var s,r,a,l,h,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),y=Math.ceil(p.outerHeight()/u),w=[];for(s=0;u>s;s++)for(l=g.top+s*y,c=s-(u-1)/2,r=0;d>r;r++)a=g.left+r*v,h=r-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*v,top:-s*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:a+(m?h*v:0),top:l+(m?c*y:0),opacity:m?0:1}).animate({left:a+(m?0:h*v),top:l+(m?0:c*y),opacity:m?1:0},e.duration||500,e.easing,n)}}(jQuery),function(t,e){t.effects.effect.fade=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:o},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t,e){t.effects.effect.fold=function(e,i){var n,o,s=t(this),r=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(s,e.mode||"hide"),l="show"===a,h="hide"===a,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(s,r),s.show(),n=t.effects.createWrapper(s).css({overflow:"hidden"}),o=p?[n.width(),n.height()]:[n.height(),n.width()],u&&(c=parseInt(u[1],10)/100*o[h?0:1]),l&&n.css(d?{height:0,width:c}:{height:c,width:0}),g[f[0]]=l?o[0]:c,v[f[1]]=l?o[1]:0,n.animate(g,m,e.easing).animate(v,m,e.easing,function(){h&&s.hide(),t.effects.restore(s,r),t.effects.removeWrapper(s),i()})}}(jQuery),function(t,e){t.effects.effect.highlight=function(e,i){var n=t(this),o=["backgroundImage","backgroundColor","opacity"],s=t.effects.setMode(n,e.mode||"show"),r={backgroundColor:n.css("backgroundColor")};"hide"===s&&(r.opacity=0),t.effects.save(n,o),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&n.hide(),t.effects.restore(n,o),i()}})}}(jQuery),function(t,e){t.effects.effect.pulsate=function(e,i){var n,o=t(this),s=t.effects.setMode(o,e.mode||"show"),r="show"===s,a="hide"===s,l=r||"hide"===s,h=2*(e.times||5)+(l?1:0),c=e.duration/h,u=0,d=o.queue(),p=d.length;for((r||!o.is(":visible"))&&(o.css("opacity",0).show(),u=1),n=1;h>n;n++)o.animate({opacity:u},c,e.easing),u=1-u;o.animate({opacity:u},c,e.easing),o.queue(function(){a&&o.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,h+1))),o.dequeue()}}(jQuery),function(t,e){t.effects.effect.puff=function(e,i){var n=t(this),o=t.effects.setMode(n,e.mode||"hide"),s="hide"===o,r=parseInt(e.percent,10)||150,a=r/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:o,complete:i,percent:s?r:100,from:s?l:{height:l.height*a,width:l.width*a,outerHeight:l.outerHeight*a,outerWidth:l.outerWidth*a}}),n.effect(e)},t.effects.effect.scale=function(e,i){var n=t(this),o=t.extend(!0,{},e),s=t.effects.setMode(n,e.mode||"effect"),r=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===s?0:100),a=e.direction||"both",l=e.origin,h={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},c={y:"horizontal"!==a?r/100:1,x:"vertical"!==a?r/100:1};o.effect="size",o.queue=!1,o.complete=i,"effect"!==s&&(o.origin=l||["middle","center"],o.restore=!0),o.from=e.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:h),o.to={height:h.height*c.y,width:h.width*c.x,outerHeight:h.outerHeight*c.y,outerWidth:h.outerWidth*c.x},o.fade&&("show"===s&&(o.from.opacity=0,o.to.opacity=1),"hide"===s&&(o.from.opacity=1,o.to.opacity=0)),n.effect(o)},t.effects.effect.size=function(e,i){var n,o,s,r=t(this),a=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(r,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=r.css("position"),y=f?a:l,w={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&r.show(),n={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},"toggle"===e.mode&&"show"===p?(r.from=e.to||w,r.to=e.from||n):(r.from=e.from||("show"===p?w:n),r.to=e.to||("hide"===p?w:n)),s={from:{y:r.from.height/n.height,x:r.from.width/n.width},to:{y:r.to.height/n.height,x:r.to.width/n.width}},("box"===m||"both"===m)&&(s.from.y!==s.to.y&&(y=y.concat(u),r.from=t.effects.setTransition(r,u,s.from.y,r.from),r.to=t.effects.setTransition(r,u,s.to.y,r.to)),s.from.x!==s.to.x&&(y=y.concat(d),r.from=t.effects.setTransition(r,d,s.from.x,r.from),r.to=t.effects.setTransition(r,d,s.to.x,r.to))),("content"===m||"both"===m)&&s.from.y!==s.to.y&&(y=y.concat(c).concat(h),r.from=t.effects.setTransition(r,c,s.from.y,r.from),r.to=t.effects.setTransition(r,c,s.to.y,r.to)),t.effects.save(r,y),r.show(),t.effects.createWrapper(r),r.css("overflow","hidden").css(r.from),g&&(o=t.effects.getBaseline(g,n),r.from.top=(n.outerHeight-r.outerHeight())*o.y,r.from.left=(n.outerWidth-r.outerWidth())*o.x,r.to.top=(n.outerHeight-r.to.outerHeight)*o.y,r.to.left=(n.outerWidth-r.to.outerWidth)*o.x),r.css(r.from),("content"===m||"both"===m)&&(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),h=a.concat(u).concat(d),r.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,h),i.from={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},i.to={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x},s.from.y!==s.to.y&&(i.from=t.effects.setTransition(i,u,s.from.y,i.from),i.to=t.effects.setTransition(i,u,s.to.y,i.to)),s.from.x!==s.to.x&&(i.from=t.effects.setTransition(i,d,s.from.x,i.from),i.to=t.effects.setTransition(i,d,s.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,h)})})),r.animate(r.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===r.to.opacity&&r.css("opacity",r.from.opacity),"hide"===p&&r.hide(),t.effects.restore(r,y),f||("static"===v?r.css({position:"relative",top:r.to.top,left:r.to.left}):t.each(["top","left"],function(t,e){r.css(e,function(e,i){var n=parseInt(i,10),o=t?r.to.left:r.to.top;return"auto"===i?o+"px":n+o+"px"})})),t.effects.removeWrapper(r),i()}})}}(jQuery),function(t,e){t.effects.effect.shake=function(e,i){var n,o=t(this),s=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(o,e.mode||"effect"),a=e.direction||"left",l=e.distance||20,h=e.times||3,c=2*h+1,u=Math.round(e.duration/c),d="up"===a||"down"===a?"top":"left",p="up"===a||"left"===a,f={},m={},g={},v=o.queue(),y=v.length;for(t.effects.save(o,s),o.show(),t.effects.createWrapper(o),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,o.animate(f,u,e.easing),n=1;h>n;n++)o.animate(m,u,e.easing).animate(g,u,e.easing);o.animate(m,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===r&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,c+1))),o.dequeue()}}(jQuery),function(t,e){t.effects.effect.slide=function(e,i){var n,o=t(this),s=["position","top","bottom","left","right","width","height"],r=t.effects.setMode(o,e.mode||"show"),a="show"===r,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,u={};t.effects.save(o,s),o.show(),n=e.distance||o["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(o).css({overflow:"hidden"}),a&&o.css(h,c?isNaN(n)?"-"+n:-n:n),u[h]=(a?c?"+=":"-=":c?"-=":"+=")+n,o.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===r&&o.hide(),t.effects.restore(o,s),t.effects.removeWrapper(o),i()}})}}(jQuery),function(t,e){t.effects.effect.transfer=function(e,i){var n=t(this),o=t(e.to),s="fixed"===o.css("position"),r=t("body"),a=s?r.scrollTop():0,l=s?r.scrollLeft():0,h=o.offset(),c={top:h.top-a,left:h.left-l,height:o.innerHeight(),width:o.innerWidth()},u=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-a,left:u.left-l,height:n.innerHeight(),width:n.innerWidth(),position:s?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})}}(jQuery),function(t,e){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,o,s,r,a,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,o=this.previousFilter||"",s=String.fromCharCode(e.keyCode),r=!1,clearTimeout(this.filterTimer),s===o?r=!0:s=o+s,a=new RegExp("^"+i(s),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())}),n=r&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(s=String.fromCharCode(e.keyCode),a=new RegExp("^"+i(s),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev("a"),o=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(o),e.attr("aria-labelledby",n.attr("id"))}),e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur();
},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,o,s,r,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,o=e.offset().top-this.activeMenu.offset().top-i-n,s=this.activeMenu.scrollTop(),r=this.activeMenu.height(),a=e.height(),0>o?this.activeMenu.scrollTop(s+o):o+a>r&&this.activeMenu.scrollTop(s+o-r+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,o;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n-o<0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,o;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,o=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+o>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function o(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var s,r=Math.max,a=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(s!==e)return s;var i,n,o=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=o.children()[0];return t("body").append(o),i=r.offsetWidth,o.css("overflow","scroll"),n=r.offsetWidth,i===n&&(n=o[0].clientWidth),o.remove(),s=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),o="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,s="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:s?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var s,p,m,g,v,y,w=t(e.of),b=t.position.getWithinInfo(e.within),C=t.position.getScrollInfo(b),_=(e.collision||"flip").split(" "),x={};return y=o(w),w[0].preventDefault&&(e.at="left top"),p=y.width,m=y.height,g=y.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=h.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=h.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",t=u.exec(n[0]),i=u.exec(n[1]),x[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),s=i(x.at,p,m),v.left+=s[0],v.top+=s[1],this.each(function(){var o,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=n(this,"marginLeft"),y=n(this,"marginTop"),k=u+f+n(this,"marginRight")+C.width,S=d+y+n(this,"marginBottom")+C.height,T=t.extend({},v),D=i(x.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?T.left-=u:"center"===e.my[0]&&(T.left-=u/2),"bottom"===e.my[1]?T.top-=d:"center"===e.my[1]&&(T.top-=d/2),T.left+=D[0],T.top+=D[1],t.support.offsetFractions||(T.left=l(T.left),T.top=l(T.top)),o={marginLeft:f,marginTop:y},t.each(["left","top"],function(i,n){t.ui.position[_[i]]&&t.ui.position[_[i]][n](T,{targetWidth:p,targetHeight:m,elemWidth:u,elemHeight:d,collisionPosition:o,collisionWidth:k,collisionHeight:S,offset:[s[0]+D[0],s[1]+D[1]],my:e.my,at:e.at,within:b,elem:c})}),e.using&&(h=function(t){var i=g.left-T.left,n=i+p-u,o=g.top-T.top,s=o+m-d,l={target:{element:w,left:g.left,top:g.top,width:p,height:m},element:{element:c,left:T.left,top:T.top,width:u,height:d},horizontal:0>n?"left":i>0?"right":"center",vertical:0>s?"top":o>0?"bottom":"middle"};u>p&&a(i+n)<p&&(l.horizontal="center"),d>m&&a(o+s)<m&&(l.vertical="middle"),r(a(i),a(n))>r(a(o),a(s))?l.important="horizontal":l.important="vertical",e.using.call(this,t,l)}),c.offset(t.extend(T,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=t.left-e.collisionPosition.marginLeft,l=o-a,h=a+e.collisionWidth-s-o;e.collisionWidth>s?l>0&&0>=h?(i=t.left+l+e.collisionWidth-s-o,t.left+=l-i):h>0&&0>=l?t.left=o:l>h?t.left=o+s-e.collisionWidth:t.left=o:l>0?t.left+=l:h>0?t.left-=h:t.left=r(t.left-a,t.left)},top:function(t,e){var i,n=e.within,o=n.isWindow?n.scrollTop:n.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=o-a,h=a+e.collisionHeight-s-o;e.collisionHeight>s?l>0&&0>=h?(i=t.top+l+e.collisionHeight-s-o,t.top+=l-i):h>0&&0>=l?t.top=o:l>h?t.top=o+s-e.collisionHeight:t.top=o:l>0?t.top+=l:h>0?t.top-=h:t.top=r(t.top-a,t.top)}},flip:{left:function(t,e){var i,n,o=e.within,s=o.offset.left+o.scrollLeft,r=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-r-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-r-s,(0>i||i<a(c))&&(t.left+=d+p+f)):u>0&&(n=t.left-e.collisionPosition.marginLeft+d+p+f-l,(n>0||a(n)<u)&&(t.left+=d+p+f))},top:function(t,e){var i,n,o=e.within,s=o.offset.top+o.scrollTop,r=o.height,l=o.isWindow?o.scrollTop:o.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-r-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>c?(n=t.top+p+f+m+e.collisionHeight-r-s,t.top+p+f+m>c&&(0>n||n<a(c))&&(t.top+=p+f+m)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-l,t.top+p+f+m>u&&(i>0||a(i)<u)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,o,s,r=document.getElementsByTagName("body")[0],a=document.createElement("div");e=document.createElement(r?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},r&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in n)e.style[s]=n[s];e.appendChild(a),i=r||document.documentElement,i.insertBefore(e,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",o=t(a).offset().left,t.support.offsetFractions=o>10&&11>o,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t,e){var i=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",r=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),e=o.length;i>e;e++)r.push(s);this.handles=o.add(t(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,o,s,r,a,l,h,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-c.values(e));(o>i||o===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(o=i,s=t(this),r=e)}),a=this._start(e,r),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=r,s.addClass("ui-state-active").focus(),l=s.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-s.width()/2,top:e.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,r,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,o,s;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),s=this._valueMin()+n*o,this._trimAlignValue(s)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,o,s;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(o=this.values(),o[e]=i,s=this._trigger("slide",t,{handle:this.handles[e],value:i,values:o}),n=this.values(e?0:1),s!==!1&&this.values(e,i,!0))):i!==this.value()&&(s=this._trigger("slide",t,{handle:this.handles[e],value:i}),s!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,o,s;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,o=arguments[0],s=0;s<n.length;s+=1)n[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,i){var n,o=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(o=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;o>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,o,s,r=this.options.range,a=this.options,l=this,h=this._animateOff?!1:a.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](c,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),o=this._valueMin(),s=this._valueMax(),i=s!==o?(n-o)/(s-o)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](c,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(e){var n,o,s,r,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(e.target).addClass("ui-state-active"),n=this._start(e,a),n===!1))return}switch(r=this.options.step,o=s=this.options.values&&this.options.values.length?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:s=this._valueMin();break;case t.ui.keyCode.END:s=this._valueMax();break;case t.ui.keyCode.PAGE_UP:s=this._trimAlignValue(o+(this._valueMax()-this._valueMin())/i);break;case t.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(o-(this._valueMax()-this._valueMin())/i);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(o===this._valueMax())return;s=this._trimAlignValue(o+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(o===this._valueMin())return;s=this._trimAlignValue(o-r)}this._slide(e,a,s)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var o=i.attr(n);void 0!==o&&o.length&&(e[n]=o)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++o}function n(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(s,""))===decodeURIComponent(location.href.replace(s,""))}var o=0,s=/#.*$/;t.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,o){return t(o).attr("aria-controls")===n?(e=i,!1):void 0}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=this.tabs.length?0:!1)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),-1===e&&(e=i?!1:0)),!i&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(i),o=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:o=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n===this.options.active?!1:n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),e.ctrlKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){function n(){return e>o&&(e=0),0>e&&(e=o),e}for(var o=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,e){return"active"===t?void this._activate(e):"disabled"===t?void this._setupDisabled(e):(this._super(t,e),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){
return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,o){var s,r,a,l=t(o).uniqueId().attr("id"),h=t(o).closest("li"),c=h.attr("aria-controls");n(o)?(s=o.hash,r=e.element.find(e._sanitizeSelector(s))):(a=e._tabId(h),s="#"+a,r=e.element.find(s),r.length||(r=e._createPanel(a),r.insertAfter(e.panels[i-1]||e.tablist)),r.attr("aria-live","polite")),r.length&&(e.panels=e.panels.add(r)),c&&h.data("ui-tabs-aria-controls",c),h.attr({"aria-controls":s.substring(1),"aria-labelledby":l}),r.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,o=t(e.currentTarget),s=o.closest("li"),r=s[0]===n[0],a=r&&i.collapsible,l=a?t():this._getPanelForTab(s),h=n.length?this._getPanelForTab(n):t(),c={oldTab:n,oldPanel:h,newTab:a?t():s,newPanel:l};e.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=a?!1:this.tabs.index(s),this.active=r?t():s,this.xhr&&this.xhr.abort(),h.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(s),e),this._toggle(e,c))},_toggle:function(e,i){function n(){s.running=!1,s._trigger("activate",e,i)}function o(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&s.options.show?s._show(r,s.options.show,n):(r.show(),n())}var s=this,r=i.newPanel,a=i.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),o()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),o()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),r.length&&a.length?i.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===e?n=!1:(i=this._getIndex(i),n=t.isArray(n)?t.map(n,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===e)n=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,n))return;n=t.isArray(n)?t.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(e,i){e=this._getIndex(e);var o=this,s=this.tabs.eq(e),r=s.find(".ui-tabs-anchor"),a=this._getPanelForTab(s),l={tab:s,panel:a};n(r[0])||(this.xhr=t.ajax(this._ajaxSettings(r,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(s.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){a.html(t),o._trigger("load",i,l)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&o.panels.stop(!1,!0),s.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),t===o.xhr&&delete o.xhr},1)})))},_ajaxSettings:function(e,i,n){var o=this;return{url:e.attr("href"),beforeSend:function(e,s){return o._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:s},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t){function e(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),o=t.inArray(i,n);-1!==o&&n.splice(o,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")}var n=0;t.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur");o.target=o.currentTarget=n[0],e.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,o=this,s=e?e.type:null;return"string"==typeof n?this._open(e,t,n):(i=n.call(t[0],function(i){t.data("ui-tooltip-open")&&o._delay(function(){e&&(e.type=s),this._open(e,t,i)})}),void(i&&this._open(e,t,i)))},_open:function(i,n,o){function s(t){h.of=t,r.is(":hidden")||r.position(h)}var r,a,l,h=t.extend({},this.options.position);if(o){if(r=this._find(n),r.length)return void r.find(".ui-tooltip-content").html(o);n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),e(n,r.attr("id")),r.find(".ui-tooltip-content").html(o),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:s}),s(i)):r.position(t.extend({of:n},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){r.is(":visible")&&(s(h.of),clearInterval(l))},t.fx.interval)),this._trigger("open",i,{tooltip:r}),a={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(r)}},i&&"mouseover"!==i.type||(a.mouseleave="close"),i&&"focusin"!==i.type||(a.focusout="close"),this._on(!0,n,a)}},close:function(e){var n=this,o=t(e?e.currentTarget:this.element),s=this._find(o);this.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&o.attr("title",o.data("ui-tooltip-title")),i(o),s.stop(!0),this._hide(s,this.options.hide,function(){n._removeTooltip(t(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:s}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+n++,o=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(o),o.appendTo(this.document[0].body),this.tooltips[i]=e,o},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var o=t.Event("blur");o.target=o.currentTarget=n[0],e.close(o,!0),t("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),
//  Copyright  2008-2012 Dmitry Baranovskiy (http://raphaeljs.com)     \\
//  Copyright  2008-2012 Sencha Labs (http://sencha.com)               \\
// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.
function(t){var e,i,n="0.4.2",o="hasOwnProperty",s=/[\.\/]/,r="*",a=function(){},l=function(t,e){return t-e},h={n:{}},c=function(t,n){t=String(t);var o,s=i,r=Array.prototype.slice.call(arguments,2),a=c.listeners(t),h=0,u=[],d={},p=[],f=e;e=t,i=0;for(var m=0,g=a.length;g>m;m++)"zIndex"in a[m]&&(u.push(a[m].zIndex),a[m].zIndex<0&&(d[a[m].zIndex]=a[m]));for(u.sort(l);u[h]<0;)if(o=d[u[h++]],p.push(o.apply(n,r)),i)return i=s,p;for(m=0;g>m;m++)if(o=a[m],"zIndex"in o)if(o.zIndex==u[h]){if(p.push(o.apply(n,r)),i)break;do if(h++,o=d[u[h]],o&&p.push(o.apply(n,r)),i)break;while(o)}else d[o.zIndex]=o;else if(p.push(o.apply(n,r)),i)break;return i=s,e=f,p.length?p:null};c._events=h,c.listeners=function(t){var e,i,n,o,a,l,c,u,d=t.split(s),p=h,f=[p],m=[];for(o=0,a=d.length;a>o;o++){for(u=[],l=0,c=f.length;c>l;l++)for(p=f[l].n,i=[p[d[o]],p[r]],n=2;n--;)e=i[n],e&&(u.push(e),m=m.concat(e.f||[]));f=u}return m},c.on=function(t,e){if(t=String(t),"function"!=typeof e)return function(){};for(var i=t.split(s),n=h,o=0,r=i.length;r>o;o++)n=n.n,n=n.hasOwnProperty(i[o])&&n[i[o]]||(n[i[o]]={n:{}});for(n.f=n.f||[],o=0,r=n.f.length;r>o;o++)if(n.f[o]==e)return a;return n.f.push(e),function(t){+t==+t&&(e.zIndex=+t)}},c.f=function(t){var e=[].slice.call(arguments,1);return function(){c.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},c.stop=function(){i=1},c.nt=function(t){return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},c.nts=function(){return e.split(s)},c.off=c.unbind=function(t,e){if(!t)return void(c._events=h={n:{}});var i,n,a,l,u,d,p,f=t.split(s),m=[h];for(l=0,u=f.length;u>l;l++)for(d=0;d<m.length;d+=a.length-2){if(a=[d,1],i=m[d].n,f[l]!=r)i[f[l]]&&a.push(i[f[l]]);else for(n in i)i[o](n)&&a.push(i[n]);m.splice.apply(m,a)}for(l=0,u=m.length;u>l;l++)for(i=m[l];i.n;){if(e){if(i.f){for(d=0,p=i.f.length;p>d;d++)if(i.f[d]==e){i.f.splice(d,1);break}!i.f.length&&delete i.f}for(n in i.n)if(i.n[o](n)&&i.n[n].f){var g=i.n[n].f;for(d=0,p=g.length;p>d;d++)if(g[d]==e){g.splice(d,1);break}!g.length&&delete i.n[n].f}}else{delete i.f;for(n in i.n)i.n[o](n)&&i.n[n].f&&delete i.n[n].f}i=i.n}},c.once=function(t,e){var i=function(){return c.unbind(t,i),e.apply(this,arguments)};return c.on(t,i)},c.version=n,c.toString=function(){return"You are running Eve "+n},"undefined"!=typeof module&&module.exports?module.exports=c:"undefined"!=typeof define?define("eve",[],function(){return c}):t.eve=c}(this),
//  Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)    \\
//  Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)              \\
function(t,e){"function"==typeof define&&define.amd?define(["eve"],function(i){return e(t,i)}):e(t,t.eve)}(this,function(t,e){function i(t){if(i.is(t,"function"))return b?t():e.on("raphael.DOMload",t);if(i.is(t,U))return i._engine.create[R](i,t.splice(0,3+i.is(t[0],V))).add(t);var n=Array.prototype.slice.call(arguments,0);if(i.is(n[n.length-1],"function")){var o=n.pop();return b?o.call(i._engine.create[R](i,n)):e.on("raphael.DOMload",function(){o.call(i._engine.create[R](i,n))})}return i._engine.create[R](i,arguments)}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[S](i)&&(e[i]=n(t[i]));return e}function o(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return t.push(t.splice(i,1)[0])}function s(t,e,i){function n(){var s=Array.prototype.slice.call(arguments,0),r=s.join("\u2400"),a=n.cache=n.cache||{},l=n.count=n.count||[];return a[S](r)?(o(l,r),i?i(a[r]):a[r]):(l.length>=1e3&&delete a[l.shift()],l.push(r),a[r]=t[R](e,s),i?i(a[r]):a[r])}return n}function r(){return this.hex}function a(t,e){for(var i=[],n=0,o=t.length;o-2*!e>n;n+=2){var s=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?o-4==n?s[3]={x:+t[0],y:+t[1]}:o-2==n&&(s[2]={x:+t[0],y:+t[1]},s[3]={x:+t[2],y:+t[3]}):s[0]={x:+t[o-2],y:+t[o-1]}:o-4==n?s[3]=s[2]:n||(s[0]={x:+t[n],y:+t[n+1]}),i.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return i}function l(t,e,i,n,o){var s=-3*e+9*i-9*n+3*o,r=t*s+6*e-12*i+6*n;return t*r-3*e+3*i}function h(t,e,i,n,o,s,r,a,h){null==h&&(h=1),h=h>1?1:0>h?0:h;for(var c=h/2,u=12,d=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],f=0,m=0;u>m;m++){var g=c*d[m]+c,v=l(g,t,i,o,r),y=l(g,e,n,s,a),w=v*v+y*y;f+=p[m]*F.sqrt(w)}return c*f}function c(t,e,i,n,o,s,r,a,l){if(!(0>l||h(t,e,i,n,o,s,r,a)<l)){var c,u=1,d=u/2,p=u-d,f=.01;for(c=h(t,e,i,n,o,s,r,a,p);B(c-l)>f;)d/=2,p+=(l>c?1:-1)*d,c=h(t,e,i,n,o,s,r,a,p);return p}}function u(t,e,i,n,o,s,r,a){if(!(W(t,i)<j(o,r)||j(t,i)>W(o,r)||W(e,n)<j(s,a)||j(e,n)>W(s,a))){var l=(t*n-e*i)*(o-r)-(t-i)*(o*a-s*r),h=(t*n-e*i)*(s-a)-(e-n)*(o*a-s*r),c=(t-i)*(s-a)-(e-n)*(o-r);if(c){var u=l/c,d=h/c,p=+u.toFixed(2),f=+d.toFixed(2);if(!(p<+j(t,i).toFixed(2)||p>+W(t,i).toFixed(2)||p<+j(o,r).toFixed(2)||p>+W(o,r).toFixed(2)||f<+j(e,n).toFixed(2)||f>+W(e,n).toFixed(2)||f<+j(s,a).toFixed(2)||f>+W(s,a).toFixed(2)))return{x:u,y:d}}}}function d(t,e,n){var o=i.bezierBBox(t),s=i.bezierBBox(e);if(!i.isBBoxIntersect(o,s))return n?0:[];for(var r=h.apply(0,t),a=h.apply(0,e),l=W(~~(r/5),1),c=W(~~(a/5),1),d=[],p=[],f={},m=n?0:[],g=0;l+1>g;g++){var v=i.findDotsAtSegment.apply(i,t.concat(g/l));d.push({x:v.x,y:v.y,t:g/l})}for(g=0;c+1>g;g++)v=i.findDotsAtSegment.apply(i,e.concat(g/c)),p.push({x:v.x,y:v.y,t:g/c});for(g=0;l>g;g++)for(var y=0;c>y;y++){var w=d[g],b=d[g+1],C=p[y],_=p[y+1],x=B(b.x-w.x)<.001?"y":"x",k=B(_.x-C.x)<.001?"y":"x",S=u(w.x,w.y,b.x,b.y,C.x,C.y,_.x,_.y);if(S){if(f[S.x.toFixed(4)]==S.y.toFixed(4))continue;f[S.x.toFixed(4)]=S.y.toFixed(4);var T=w.t+B((S[x]-w[x])/(b[x]-w[x]))*(b.t-w.t),D=C.t+B((S[k]-C[k])/(_[k]-C[k]))*(_.t-C.t);T>=0&&1.001>=T&&D>=0&&1.001>=D&&(n?m++:m.push({x:S.x,y:S.y,t1:j(T,1),t2:j(D,1)}))}}return m}function p(t,e,n){t=i._path2curve(t),e=i._path2curve(e);for(var o,s,r,a,l,h,c,u,p,f,m=n?0:[],g=0,v=t.length;v>g;g++){var y=t[g];if("M"==y[0])o=l=y[1],s=h=y[2];else{"C"==y[0]?(p=[o,s].concat(y.slice(1)),o=p[6],s=p[7]):(p=[o,s,o,s,l,h,l,h],o=l,s=h);for(var w=0,b=e.length;b>w;w++){var C=e[w];if("M"==C[0])r=c=C[1],a=u=C[2];else{"C"==C[0]?(f=[r,a].concat(C.slice(1)),r=f[6],a=f[7]):(f=[r,a,r,a,c,u,c,u],r=c,a=u);var _=d(p,f,n);if(n)m+=_;else{for(var x=0,k=_.length;k>x;x++)_[x].segment1=g,_[x].segment2=w,_[x].bez1=p,_[x].bez2=f;m=m.concat(_)}}}}}return m}function f(t,e,i,n,o,s){null!=t?(this.a=+t,this.b=+e,this.c=+i,this.d=+n,this.e=+o,this.f=+s):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function m(){return this.x+H+this.y+H+this.width+" \xd7 "+this.height}function g(t,e,i,n,o,s){function r(t){return((u*t+c)*t+h)*t}function a(t,e){var i=l(t,e);return((f*i+p)*i+d)*i}function l(t,e){var i,n,o,s,a,l;for(o=t,l=0;8>l;l++){if(s=r(o)-t,B(s)<e)return o;if(a=(3*u*o+2*c)*o+h,B(a)<1e-6)break;o-=s/a}if(i=0,n=1,o=t,i>o)return i;if(o>n)return n;for(;n>i;){if(s=r(o),B(s-t)<e)return o;t>s?i=o:n=o,o=(n-i)/2+i}return o}var h=3*e,c=3*(n-e)-h,u=1-h-c,d=3*i,p=3*(o-i)-d,f=1-d-p;return a(t,1/(200*s))}function v(t,e){var i=[],n={};if(this.ms=e,this.times=1,t){for(var o in t)t[S](o)&&(n[J(o)]=t[o],i.push(J(o)));i.sort(ut)}this.anim=n,this.top=i[i.length-1],this.percents=i}function y(t,n,o,s,r,a){o=J(o);var l,h,c,u,d,p,m=t.ms,v={},y={},w={};if(s)for(C=0,x=le.length;x>C;C++){var b=le[C];if(b.el.id==n.id&&b.anim==t){b.percent!=o?(le.splice(C,1),c=1):h=b,n.attr(b.totalOrigin);break}}else s=+y;for(var C=0,x=t.percents.length;x>C;C++){if(t.percents[C]==o||t.percents[C]>s*t.top){o=t.percents[C],d=t.percents[C-1]||0,m=m/t.top*(o-d),u=t.percents[C+1],l=t.anim[o];break}s&&n.attr(t.anim[t.percents[C]])}if(l){if(h)h.initstatus=s,h.start=new Date-h.ms*s;else{for(var k in l)if(l[S](k)&&(nt[S](k)||n.paper.customAttributes[S](k)))switch(v[k]=n.attr(k),null==v[k]&&(v[k]=it[k]),y[k]=l[k],nt[k]){case V:w[k]=(y[k]-v[k])/m;break;case"colour":v[k]=i.getRGB(v[k]);var T=i.getRGB(y[k]);w[k]={r:(T.r-v[k].r)/m,g:(T.g-v[k].g)/m,b:(T.b-v[k].b)/m};break;case"path":var D=Nt(v[k],y[k]),E=D[1];for(v[k]=D[0],w[k]=[],C=0,x=v[k].length;x>C;C++){w[k][C]=[0];for(var R=1,M=v[k][C].length;M>R;R++)w[k][C][R]=(E[C][R]-v[k][C][R])/m}break;case"transform":var P=n._,H=jt(P[k],y[k]);if(H)for(v[k]=H.from,y[k]=H.to,w[k]=[],w[k].real=!0,C=0,x=v[k].length;x>C;C++)for(w[k][C]=[v[k][C][0]],R=1,M=v[k][C].length;M>R;R++)w[k][C][R]=(y[k][C][R]-v[k][C][R])/m;else{var N=n.matrix||new f,L={_:{transform:P.transform},getBBox:function(){return n.getBBox(1)}};v[k]=[N.a,N.b,N.c,N.d,N.e,N.f],Ft(L,y[k]),y[k]=L._.transform,w[k]=[(L.matrix.a-N.a)/m,(L.matrix.b-N.b)/m,(L.matrix.c-N.c)/m,(L.matrix.d-N.d)/m,(L.matrix.e-N.e)/m,(L.matrix.f-N.f)/m]}break;case"csv":var z=I(l[k])[O](_),F=I(v[k])[O](_);if("clip-rect"==k)for(v[k]=F,w[k]=[],C=F.length;C--;)w[k][C]=(z[C]-v[k][C])/m;y[k]=z;break;default:for(z=[][A](l[k]),F=[][A](v[k]),w[k]=[],C=n.paper.customAttributes[k].length;C--;)w[k][C]=((z[C]||0)-(F[C]||0))/m}var W=l.easing,j=i.easing_formulas[W];if(!j)if(j=I(W).match(Z),j&&5==j.length){var B=j;j=function(t){return g(t,+B[1],+B[2],+B[3],+B[4],m)}}else j=pt;if(p=l.start||t.start||+new Date,b={anim:t,percent:o,timestamp:p,start:p+(t.del||0),status:0,initstatus:s||0,stop:!1,ms:m,easing:j,from:v,diff:w,to:y,el:n,callback:l.callback,prev:d,next:u,repeat:a||t.times,origin:n.attr(),totalOrigin:r},le.push(b),s&&!h&&!c&&(b.stop=!0,b.start=new Date-m*s,1==le.length))return ce();c&&(b.start=new Date-b.ms*s),1==le.length&&he(ce)}e("raphael.anim.start."+n.id,n,t)}}function w(t){for(var e=0;e<le.length;e++)le[e].el.paper==t&&le.splice(e--,1)}i.version="2.1.2",i.eve=e;var b,C,_=/[, ]+/,x={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},k=/\{(\d+)\}/g,S="hasOwnProperty",T={doc:document,win:t},D={was:Object.prototype[S].call(T.win,"Raphael"),is:T.win.Raphael},E=function(){this.ca=this.customAttributes={}},R="apply",A="concat",M="ontouchstart"in T.win||T.win.DocumentTouch&&T.doc instanceof DocumentTouch,P="",H=" ",I=String,O="split",N="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[O](H),L={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},z=I.prototype.toLowerCase,F=Math,W=F.max,j=F.min,B=F.abs,$=F.pow,Y=F.PI,V="number",q="string",U="array",G=Object.prototype.toString,X=(i._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),K={NaN:1,Infinity:1,"-Infinity":1},Z=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Q=F.round,J=parseFloat,tt=parseInt,et=I.prototype.toUpperCase,it=i._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},nt=i._availableAnimAttrs={blur:V,"clip-rect":"csv",cx:V,cy:V,fill:"colour","fill-opacity":V,"font-size":V,height:V,opacity:V,path:"path",r:V,rx:V,ry:V,stroke:"colour","stroke-opacity":V,"stroke-width":V,transform:"transform",width:V,x:V,y:V},ot=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,st={hs:1,rg:1},rt=/,?([achlmqrstvxz]),?/gi,at=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,lt=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ht=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,ct=(i._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ut=function(t,e){return J(t)-J(e)},dt=function(){},pt=function(t){return t},ft=i._rectPath=function(t,e,i,n,o){return o?[["M",t+o,e],["l",i-2*o,0],["a",o,o,0,0,1,o,o],["l",0,n-2*o],["a",o,o,0,0,1,-o,o],["l",2*o-i,0],["a",o,o,0,0,1,-o,-o],["l",0,2*o-n],["a",o,o,0,0,1,o,-o],["z"]]:[["M",t,e],["l",i,0],["l",0,n],["l",-i,0],["z"]]},mt=function(t,e,i,n){return null==n&&(n=i),[["M",t,e],["m",0,-n],["a",i,n,0,1,1,0,2*n],["a",i,n,0,1,1,0,-2*n],["z"]]},gt=i._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return mt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return mt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)}},vt=i.mapPath=function(t,e){if(!e)return t;var i,n,o,s,r,a,l;for(t=Nt(t),o=0,r=t.length;r>o;o++)for(l=t[o],s=1,a=l.length;a>s;s+=2)i=e.x(l[s],l[s+1]),n=e.y(l[s],l[s+1]),l[s]=i,l[s+1]=n;return t};if(i._g=T,i.type=T.win.SVGAngle||T.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==i.type){var yt,wt=T.doc.createElement("div");if(wt.innerHTML='<v:shape adj="1"/>',yt=wt.firstChild,yt.style.behavior="url(#default#VML)",!yt||"object"!=typeof yt.adj)return i.type=P;wt=null}i.svg=!(i.vml="VML"==i.type),i._Paper=E,i.fn=C=E.prototype=i.prototype,i._id=0,i._oid=0,i.is=function(t,e){return e=z.call(e),"finite"==e?!K[S](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||G.call(t).slice(8,-1).toLowerCase()==e},i.angle=function(t,e,n,o,s,r){if(null==s){var a=t-n,l=e-o;return a||l?(180+180*F.atan2(-l,-a)/Y+360)%360:0}return i.angle(t,e,s,r)-i.angle(n,o,s,r)},i.rad=function(t){return t%360*Y/180},i.deg=function(t){return 180*t/Y%360},i.snapTo=function(t,e,n){if(n=i.is(n,"finite")?n:10,i.is(t,U)){for(var o=t.length;o--;)if(B(t[o]-e)<=n)return t[o]}else{t=+t;var s=e%t;if(n>s)return e-s;if(s>t-n)return e-s+t}return e};i.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,function(t){var e=16*F.random()|0,i="x"==t?e:3&e|8;return i.toString(16)});i.setWindow=function(t){e("raphael.setWindow",i,T.win,t),T.win=t,T.doc=T.win.document,i._engine.initWin&&i._engine.initWin(T.win)};var bt=function(t){if(i.vml){var e,n=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),e=o.body}catch(r){e=createPopup().document.body}var a=e.createTextRange();bt=s(function(t){try{e.style.color=I(t).replace(n,P);var i=a.queryCommandValue("ForeColor");return i=(255&i)<<16|65280&i|(16711680&i)>>>16,"#"+("000000"+i.toString(16)).slice(-6)}catch(o){return"none"}})}else{var l=T.doc.createElement("i");l.title="Rapha\xebl Colour Picker",l.style.display="none",T.doc.body.appendChild(l),bt=s(function(t){return l.style.color=t,T.doc.defaultView.getComputedStyle(l,P).getPropertyValue("color")})}return bt(t)},Ct=function(){return"hsb("+[this.h,this.s,this.b]+")"},_t=function(){return"hsl("+[this.h,this.s,this.l]+")"},xt=function(){return this.hex},kt=function(t,e,n){if(null==e&&i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(n=t.b,e=t.g,t=t.r),null==e&&i.is(t,q)){var o=i.getRGB(t);t=o.r,e=o.g,n=o.b}return(t>1||e>1||n>1)&&(t/=255,e/=255,n/=255),[t,e,n]},St=function(t,e,n,o){t*=255,e*=255,n*=255;var s={r:t,g:e,b:n,hex:i.rgb(t,e,n),toString:xt};return i.is(o,"finite")&&(s.opacity=o),s};i.color=function(t){var e;return i.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(e=i.hsb2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):i.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(e=i.hsl2rgb(t),t.r=e.r,t.g=e.g,t.b=e.b,t.hex=e.hex):(i.is(t,"string")&&(t=i.getRGB(t)),i.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(e=i.rgb2hsl(t),t.h=e.h,t.s=e.s,t.l=e.l,e=i.rgb2hsb(t),t.v=e.b):(t={hex:"none"},t.r=t.g=t.b=t.h=t.s=t.v=t.l=-1)),t.toString=xt,t},i.hsb2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(i=t.b,e=t.s,t=t.h,n=t.o),t*=360;var o,s,r,a,l;return t=t%360/60,l=i*e,a=l*(1-B(t%2-1)),o=s=r=i-l,t=~~t,o+=[l,a,0,0,a,l][t],s+=[a,l,l,a,0,0][t],r+=[0,0,a,l,l,a][t],St(o,s,r,n)},i.hsl2rgb=function(t,e,i,n){this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(i=t.l,e=t.s,t=t.h),(t>1||e>1||i>1)&&(t/=360,e/=100,i/=100),t*=360;var o,s,r,a,l;return t=t%360/60,l=2*e*(.5>i?i:1-i),a=l*(1-B(t%2-1)),o=s=r=i-l/2,t=~~t,o+=[l,a,0,0,a,l][t],s+=[a,l,l,a,0,0][t],r+=[0,0,a,l,l,a][t],St(o,s,r,n)},i.rgb2hsb=function(t,e,i){i=kt(t,e,i),t=i[0],e=i[1],i=i[2];var n,o,s,r;return s=W(t,e,i),r=s-j(t,e,i),n=0==r?null:s==t?(e-i)/r:s==e?(i-t)/r+2:(t-e)/r+4,n=(n+360)%6*60/360,o=0==r?0:r/s,{h:n,s:o,b:s,toString:Ct}},i.rgb2hsl=function(t,e,i){i=kt(t,e,i),t=i[0],e=i[1],i=i[2];var n,o,s,r,a,l;return r=W(t,e,i),a=j(t,e,i),l=r-a,n=0==l?null:r==t?(e-i)/l:r==e?(i-t)/l+2:(t-e)/l+4,n=(n+360)%6*60/360,s=(r+a)/2,o=0==l?0:.5>s?l/(2*s):l/(2-2*s),{h:n,s:o,l:s,toString:_t}},i._path2string=function(){return this.join(",").replace(rt,"$1")};i._preload=function(t,e){var i=T.doc.createElement("img");i.style.cssText="position:absolute;left:-9999em;top:-9999em",i.onload=function(){e.call(this),this.onload=null,T.doc.body.removeChild(this)},i.onerror=function(){T.doc.body.removeChild(this)},T.doc.body.appendChild(i),i.src=t};i.getRGB=s(function(t){if(!t||(t=I(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:r};!(st[S](t.toLowerCase().substring(0,2))||"#"==t.charAt())&&(t=bt(t));var e,n,o,s,a,l,h=t.match(X);return h?(h[2]&&(o=tt(h[2].substring(5),16),n=tt(h[2].substring(3,5),16),e=tt(h[2].substring(1,3),16)),h[3]&&(o=tt((a=h[3].charAt(3))+a,16),n=tt((a=h[3].charAt(2))+a,16),e=tt((a=h[3].charAt(1))+a,16)),h[4]&&(l=h[4][O](ot),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=J(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),"rgba"==h[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),h[5]?(l=h[5][O](ot),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=J(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(e/=360),"hsba"==h[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsb2rgb(e,n,o,s)):h[6]?(l=h[6][O](ot),e=J(l[0]),"%"==l[0].slice(-1)&&(e*=2.55),n=J(l[1]),"%"==l[1].slice(-1)&&(n*=2.55),o=J(l[2]),"%"==l[2].slice(-1)&&(o*=2.55),("deg"==l[0].slice(-3)||"\xb0"==l[0].slice(-1))&&(e/=360),"hsla"==h[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),i.hsl2rgb(e,n,o,s)):(h={r:e,g:n,b:o,toString:r},h.hex="#"+(16777216|o|n<<8|e<<16).toString(16).slice(1),i.is(s,"finite")&&(h.opacity=s),h)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:r}},i),i.hsb=s(function(t,e,n){return i.hsb2rgb(t,e,n).hex}),i.hsl=s(function(t,e,n){return i.hsl2rgb(t,e,n).hex}),i.rgb=s(function(t,e,i){return"#"+(16777216|i|e<<8|t<<16).toString(16).slice(1)}),i.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},i=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),i.hex},i.getColor.reset=function(){delete this.start},i.parsePathString=function(t){if(!t)return null;var e=Tt(t);if(e.arr)return Et(e.arr);var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},o=[];return i.is(t,U)&&i.is(t[0],U)&&(o=Et(t)),o.length||I(t).replace(at,function(t,e,i){var s=[],r=e.toLowerCase();if(i.replace(ht,function(t,e){e&&s.push(+e)}),"m"==r&&s.length>2&&(o.push([e][A](s.splice(0,2))),r="l",e="m"==e?"l":"L"),"r"==r)o.push([e][A](s));else for(;s.length>=n[r]&&(o.push([e][A](s.splice(0,n[r]))),n[r]););}),o.toString=i._path2string,e.arr=Et(o),o},i.parseTransformString=s(function(t){if(!t)return null;var e=[];return i.is(t,U)&&i.is(t[0],U)&&(e=Et(t)),e.length||I(t).replace(lt,function(t,i,n){var o=[];z.call(i);n.replace(ht,function(t,e){e&&o.push(+e)}),e.push([i][A](o))}),e.toString=i._path2string,e});var Tt=function(t){var e=Tt.ps=Tt.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout(function(){for(var i in e)e[S](i)&&i!=t&&(e[i].sleep--,!e[i].sleep&&delete e[i])}),e[t]};i.findDotsAtSegment=function(t,e,i,n,o,s,r,a,l){var h=1-l,c=$(h,3),u=$(h,2),d=l*l,p=d*l,f=c*t+3*u*l*i+3*h*l*l*o+p*r,m=c*e+3*u*l*n+3*h*l*l*s+p*a,g=t+2*l*(i-t)+d*(o-2*i+t),v=e+2*l*(n-e)+d*(s-2*n+e),y=i+2*l*(o-i)+d*(r-2*o+i),w=n+2*l*(s-n)+d*(a-2*s+n),b=h*t+l*i,C=h*e+l*n,_=h*o+l*r,x=h*s+l*a,k=90-180*F.atan2(g-y,v-w)/Y;return(g>y||w>v)&&(k+=180),{x:f,y:m,m:{x:g,y:v},n:{x:y,y:w},start:{x:b,y:C},end:{x:_,y:x},alpha:k}},i.bezierBBox=function(t,e,n,o,s,r,a,l){i.is(t,"array")||(t=[t,e,n,o,s,r,a,l]);var h=Ot.apply(null,t);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}},i.isPointInsideBBox=function(t,e,i){return e>=t.x&&e<=t.x2&&i>=t.y&&i<=t.y2},i.isBBoxIntersect=function(t,e){var n=i.isPointInsideBBox;return n(e,t.x,t.y)||n(e,t.x2,t.y)||n(e,t.x,t.y2)||n(e,t.x2,t.y2)||n(t,e.x,e.y)||n(t,e.x2,e.y)||n(t,e.x,e.y2)||n(t,e.x2,e.y2)||(t.x<e.x2&&t.x>e.x||e.x<t.x2&&e.x>t.x)&&(t.y<e.y2&&t.y>e.y||e.y<t.y2&&e.y>t.y)},i.pathIntersection=function(t,e){return p(t,e)},i.pathIntersectionNumber=function(t,e){return p(t,e,1)},i.isPointInsidePath=function(t,e,n){var o=i.pathBBox(t);return i.isPointInsideBBox(o,e,n)&&p(t,[["M",e,n],["H",o.x2+10]],1)%2==1},i._removedFactory=function(t){return function(){e("raphael.log",null,"Rapha\xebl: you are calling to method \u201c"+t+"\u201d of removed object",t)}};var Dt=i.pathBBox=function(t){var e=Tt(t);if(e.bbox)return n(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Nt(t);for(var i,o=0,s=0,r=[],a=[],l=0,h=t.length;h>l;l++)if(i=t[l],"M"==i[0])o=i[1],s=i[2],r.push(o),a.push(s);else{var c=Ot(o,s,i[1],i[2],i[3],i[4],i[5],i[6]);r=r[A](c.min.x,c.max.x),a=a[A](c.min.y,c.max.y),o=i[5],s=i[6]}var u=j[R](0,r),d=j[R](0,a),p=W[R](0,r),f=W[R](0,a),m=p-u,g=f-d,v={x:u,y:d,x2:p,y2:f,width:m,height:g,cx:u+m/2,cy:d+g/2};return e.bbox=n(v),v},Et=function(t){var e=n(t);return e.toString=i._path2string,e},Rt=i._pathToRelative=function(t){var e=Tt(t);if(e.rel)return Et(e.rel);i.is(t,U)&&i.is(t&&t[0],U)||(t=i.parsePathString(t));var n=[],o=0,s=0,r=0,a=0,l=0;"M"==t[0][0]&&(o=t[0][1],s=t[0][2],r=o,a=s,l++,n.push(["M",o,s]));for(var h=l,c=t.length;c>h;h++){var u=n[h]=[],d=t[h];if(d[0]!=z.call(d[0]))switch(u[0]=z.call(d[0]),u[0]){case"a":u[1]=d[1],u[2]=d[2],u[3]=d[3],u[4]=d[4],u[5]=d[5],u[6]=+(d[6]-o).toFixed(3),u[7]=+(d[7]-s).toFixed(3);break;case"v":u[1]=+(d[1]-s).toFixed(3);break;case"m":r=d[1],a=d[2];default:for(var p=1,f=d.length;f>p;p++)u[p]=+(d[p]-(p%2?o:s)).toFixed(3)}else{u=n[h]=[],"m"==d[0]&&(r=d[1]+o,a=d[2]+s);for(var m=0,g=d.length;g>m;m++)n[h][m]=d[m]}var v=n[h].length;switch(n[h][0]){case"z":o=r,s=a;break;case"h":o+=+n[h][v-1];break;case"v":s+=+n[h][v-1];break;default:o+=+n[h][v-2],s+=+n[h][v-1]}}return n.toString=i._path2string,e.rel=Et(n),n},At=i._pathToAbsolute=function(t){var e=Tt(t);if(e.abs)return Et(e.abs);if(i.is(t,U)&&i.is(t&&t[0],U)||(t=i.parsePathString(t)),!t||!t.length)return[["M",0,0]];var n=[],o=0,s=0,r=0,l=0,h=0;"M"==t[0][0]&&(o=+t[0][1],s=+t[0][2],r=o,l=s,h++,n[0]=["M",o,s]);for(var c,u,d=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),p=h,f=t.length;f>p;p++){if(n.push(c=[]),u=t[p],u[0]!=et.call(u[0]))switch(c[0]=et.call(u[0]),c[0]){case"A":c[1]=u[1],c[2]=u[2],c[3]=u[3],c[4]=u[4],c[5]=u[5],c[6]=+(u[6]+o),c[7]=+(u[7]+s);break;case"V":c[1]=+u[1]+s;break;case"H":c[1]=+u[1]+o;break;case"R":for(var m=[o,s][A](u.slice(1)),g=2,v=m.length;v>g;g++)m[g]=+m[g]+o,m[++g]=+m[g]+s;n.pop(),n=n[A](a(m,d));break;case"M":r=+u[1]+o,l=+u[2]+s;default:for(g=1,v=u.length;v>g;g++)c[g]=+u[g]+(g%2?o:s)}else if("R"==u[0])m=[o,s][A](u.slice(1)),n.pop(),n=n[A](a(m,d)),c=["R"][A](u.slice(-2));else for(var y=0,w=u.length;w>y;y++)c[y]=u[y];switch(c[0]){case"Z":o=r,s=l;break;case"H":o=c[1];break;case"V":s=c[1];break;case"M":r=c[c.length-2],l=c[c.length-1];default:o=c[c.length-2],s=c[c.length-1]}}return n.toString=i._path2string,e.abs=Et(n),n},Mt=function(t,e,i,n){return[t,e,i,n,i,n]},Pt=function(t,e,i,n,o,s){var r=1/3,a=2/3;return[r*t+a*i,r*e+a*n,r*o+a*i,r*s+a*n,o,s]},Ht=function(t,e,i,n,o,r,a,l,h,c){var u,d=120*Y/180,p=Y/180*(+o||0),f=[],m=s(function(t,e,i){var n=t*F.cos(i)-e*F.sin(i),o=t*F.sin(i)+e*F.cos(i);return{x:n,y:o}});if(c)k=c[0],S=c[1],_=c[2],x=c[3];else{u=m(t,e,-p),t=u.x,e=u.y,u=m(l,h,-p),l=u.x,h=u.y;var g=(F.cos(Y/180*o),F.sin(Y/180*o),(t-l)/2),v=(e-h)/2,y=g*g/(i*i)+v*v/(n*n);y>1&&(y=F.sqrt(y),i=y*i,n=y*n);var w=i*i,b=n*n,C=(r==a?-1:1)*F.sqrt(B((w*b-w*v*v-b*g*g)/(w*v*v+b*g*g))),_=C*i*v/n+(t+l)/2,x=C*-n*g/i+(e+h)/2,k=F.asin(((e-x)/n).toFixed(9)),S=F.asin(((h-x)/n).toFixed(9));k=_>t?Y-k:k,S=_>l?Y-S:S,0>k&&(k=2*Y+k),0>S&&(S=2*Y+S),a&&k>S&&(k-=2*Y),!a&&S>k&&(S-=2*Y)}var T=S-k;if(B(T)>d){var D=S,E=l,R=h;S=k+d*(a&&S>k?1:-1),l=_+i*F.cos(S),h=x+n*F.sin(S),f=Ht(l,h,i,n,o,0,a,E,R,[S,D,_,x])}T=S-k;var M=F.cos(k),P=F.sin(k),H=F.cos(S),I=F.sin(S),N=F.tan(T/4),L=4/3*i*N,z=4/3*n*N,W=[t,e],j=[t+L*P,e-z*M],$=[l+L*I,h-z*H],V=[l,h];if(j[0]=2*W[0]-j[0],j[1]=2*W[1]-j[1],c)return[j,$,V][A](f);f=[j,$,V][A](f).join()[O](",");for(var q=[],U=0,G=f.length;G>U;U++)q[U]=U%2?m(f[U-1],f[U],p).y:m(f[U],f[U+1],p).x;return q},It=function(t,e,i,n,o,s,r,a,l){var h=1-l;return{x:$(h,3)*t+3*$(h,2)*l*i+3*h*l*l*o+$(l,3)*r,y:$(h,3)*e+3*$(h,2)*l*n+3*h*l*l*s+$(l,3)*a}},Ot=s(function(t,e,i,n,o,s,r,a){var l,h=o-2*i+t-(r-2*o+i),c=2*(i-t)-2*(o-i),u=t-i,d=(-c+F.sqrt(c*c-4*h*u))/2/h,p=(-c-F.sqrt(c*c-4*h*u))/2/h,f=[e,a],m=[t,r];return B(d)>"1e12"&&(d=.5),B(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=It(t,e,i,n,o,s,r,a,d),m.push(l.x),f.push(l.y)),p>0&&1>p&&(l=It(t,e,i,n,o,s,r,a,p),m.push(l.x),f.push(l.y)),h=s-2*n+e-(a-2*s+n),c=2*(n-e)-2*(s-n),u=e-n,d=(-c+F.sqrt(c*c-4*h*u))/2/h,p=(-c-F.sqrt(c*c-4*h*u))/2/h,B(d)>"1e12"&&(d=.5),B(p)>"1e12"&&(p=.5),d>0&&1>d&&(l=It(t,e,i,n,o,s,r,a,d),m.push(l.x),f.push(l.y)),p>0&&1>p&&(l=It(t,e,i,n,o,s,r,a,p),m.push(l.x),f.push(l.y)),{min:{x:j[R](0,m),y:j[R](0,f)},max:{x:W[R](0,m),y:W[R](0,f)}}}),Nt=i._path2curve=s(function(t,e){var i=!e&&Tt(t);if(!e&&i.curve)return Et(i.curve);for(var n=At(t),o=e&&At(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},r={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e,i){var n,o;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][A](Ht[R](0,[e.x,e.y][A](t.slice(1))));break;case"S":"C"==i||"S"==i?(n=2*e.x-e.bx,o=2*e.y-e.by):(n=e.x,o=e.y),t=["C",n,o][A](t.slice(1));break;case"T":"Q"==i||"T"==i?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][A](Pt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][A](Pt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][A](Mt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][A](Mt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][A](Mt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][A](Mt(e.x,e.y,e.X,e.Y))}return t}),l=function(t,e){if(t[e].length>7){t[e].shift();for(var i=t[e];i.length;)t.splice(e++,0,["C"][A](i.splice(0,6)));t.splice(e,1),u=W(n.length,o&&o.length||0)}},h=function(t,e,i,s,r){t&&e&&"M"==t[r][0]&&"M"!=e[r][0]&&(e.splice(r,0,["M",s.x,s.y]),i.bx=0,i.by=0,i.x=t[r][1],i.y=t[r][2],u=W(n.length,o&&o.length||0))},c=0,u=W(n.length,o&&o.length||0);u>c;c++){n[c]=a(n[c],s),l(n,c),o&&(o[c]=a(o[c],r)),o&&l(o,c),h(n,o,s,r,c),h(o,n,r,s,c);var d=n[c],p=o&&o[c],f=d.length,m=o&&p.length;s.x=d[f-2],s.y=d[f-1],s.bx=J(d[f-4])||s.x,s.by=J(d[f-3])||s.y,r.bx=o&&(J(p[m-4])||r.x),r.by=o&&(J(p[m-3])||r.y),r.x=o&&p[m-2],r.y=o&&p[m-1]}return o||(i.curve=Et(n)),o?[n,o]:n},null,Et),Lt=(i._parseDots=s(function(t){for(var e=[],n=0,o=t.length;o>n;n++){var s={},r=t[n].match(/^([^:]*):?([\d\.]*)/);if(s.color=i.getRGB(r[1]),s.color.error)return null;s.color=s.color.hex,r[2]&&(s.offset=r[2]+"%"),e.push(s)}for(n=1,o=e.length-1;o>n;n++)if(!e[n].offset){for(var a=J(e[n-1].offset||0),l=0,h=n+1;o>h;h++)if(e[h].offset){l=e[h].offset;break}l||(l=100,h=o),l=J(l);for(var c=(l-a)/(h-n+1);h>n;n++)a+=c,e[n].offset=a+"%"}return e}),i._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),zt=(i._tofront=function(t,e){e.top!==t&&(Lt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},i._toback=function(t,e){e.bottom!==t&&(Lt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},i._insertafter=function(t,e,i){Lt(t,i),e==i.top&&(i.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},i._insertbefore=function(t,e,i){Lt(t,i),e==i.bottom&&(i.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},i.toMatrix=function(t,e){var i=Dt(t),n={_:{transform:P},getBBox:function(){return i}};return Ft(n,e),n.matrix}),Ft=(i.transformPath=function(t,e){return vt(t,zt(t,e))},i._extractTransform=function(t,e){if(null==e)return t._.transform;e=I(e).replace(/\.{3}|\u2026/g,t._.transform||P);var n=i.parseTransformString(e),o=0,s=0,r=0,a=1,l=1,h=t._,c=new f;if(h.transform=n||[],n)for(var u=0,d=n.length;d>u;u++){var p,m,g,v,y,w=n[u],b=w.length,C=I(w[0]).toLowerCase(),_=w[0]!=C,x=_?c.invert():0;"t"==C&&3==b?_?(p=x.x(0,0),m=x.y(0,0),g=x.x(w[1],w[2]),v=x.y(w[1],w[2]),c.translate(g-p,v-m)):c.translate(w[1],w[2]):"r"==C?2==b?(y=y||t.getBBox(1),c.rotate(w[1],y.x+y.width/2,y.y+y.height/2),o+=w[1]):4==b&&(_?(g=x.x(w[2],w[3]),v=x.y(w[2],w[3]),c.rotate(w[1],g,v)):c.rotate(w[1],w[2],w[3]),o+=w[1]):"s"==C?2==b||3==b?(y=y||t.getBBox(1),c.scale(w[1],w[b-1],y.x+y.width/2,y.y+y.height/2),a*=w[1],l*=w[b-1]):5==b&&(_?(g=x.x(w[3],w[4]),v=x.y(w[3],w[4]),c.scale(w[1],w[2],g,v)):c.scale(w[1],w[2],w[3],w[4]),a*=w[1],l*=w[2]):"m"==C&&7==b&&c.add(w[1],w[2],w[3],w[4],w[5],w[6]),h.dirtyT=1,t.matrix=c}t.matrix=c,h.sx=a,h.sy=l,h.deg=o,h.dx=s=c.e,h.dy=r=c.f,1==a&&1==l&&!o&&h.bbox?(h.bbox.x+=+s,h.bbox.y+=+r):h.dirtyT=1}),Wt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},jt=i._equaliseTransform=function(t,e){e=I(e).replace(/\.{3}|\u2026/g,t),t=i.parseTransformString(t)||[],e=i.parseTransformString(e)||[];for(var n,o,s,r,a=W(t.length,e.length),l=[],h=[],c=0;a>c;c++){if(s=t[c]||Wt(e[c]),r=e[c]||Wt(s),s[0]!=r[0]||"r"==s[0].toLowerCase()&&(s[2]!=r[2]||s[3]!=r[3])||"s"==s[0].toLowerCase()&&(s[3]!=r[3]||s[4]!=r[4]))return;for(l[c]=[],h[c]=[],n=0,o=W(s.length,r.length);o>n;n++)n in s&&(l[c][n]=s[n]),n in r&&(h[c][n]=r[n])}return{from:l,to:h}};i._getContainer=function(t,e,n,o){var s;return s=null!=o||i.is(t,"object")?t:T.doc.getElementById(t),null!=s?s.tagName?null==e?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:e,height:n}:{container:1,x:t,y:e,width:n,height:o}:void 0},i.pathToRelative=Rt,i._engine={},i.path2curve=Nt,i.matrix=function(t,e,i,n,o,s){return new f(t,e,i,n,o,s)},function(t){function e(t){return t[0]*t[0]+t[1]*t[1]}function n(t){var i=F.sqrt(e(t));t[0]&&(t[0]/=i),t[1]&&(t[1]/=i)}t.add=function(t,e,i,n,o,s){var r,a,l,h,c=[[],[],[]],u=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,i,o],[e,n,s],[0,0,1]];for(t&&t instanceof f&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),r=0;3>r;r++)for(a=0;3>a;a++){for(h=0,l=0;3>l;l++)h+=u[r][l]*d[l][a];c[r][a]=h}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new f(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new f(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,i,n){null==e&&(e=t),(i||n)&&this.add(1,0,0,1,i,n),this.add(t,0,0,e,0,0),(i||n)&&this.add(1,0,0,1,-i,-n)},t.rotate=function(t,e,n){t=i.rad(t),e=e||0,n=n||0;var o=+F.cos(t).toFixed(9),s=+F.sin(t).toFixed(9);this.add(o,s,-s,o,e,n),this.add(1,0,0,1,-e,-n)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[I.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return i.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var o=[[this.a,this.c],[this.b,this.d]];t.scalex=F.sqrt(e(o[0])),n(o[0]),t.shear=o[0][0]*o[1][0]+o[0][1]*o[1][1],o[1]=[o[1][0]-o[0][0]*t.shear,o[1][1]-o[0][1]*t.shear],t.scaley=F.sqrt(e(o[1])),n(o[1]),t.shear/=t.scaley;var s=-o[0][1],r=o[1][1];return 0>r?(t.rotate=i.deg(F.acos(r)),0>s&&(t.rotate=360-t.rotate)):t.rotate=i.deg(F.asin(s)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[O]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:P)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:P)+(e.rotate?"r"+[e.rotate,0,0]:P)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(f.prototype);
var Bt=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(Bt&&Bt[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Bt&&Bt[1]<8?C.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){t.remove()})}:C.safari=dt;for(var $t=function(){this.returnValue=!1},Yt=function(){return this.originalEvent.preventDefault()},Vt=function(){this.cancelBubble=!0},qt=function(){return this.originalEvent.stopPropagation()},Ut=function(t){var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,i=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;return{x:t.clientX+i,y:t.clientY+e}},Gt=function(){return T.doc.addEventListener?function(t,e,i,n){var o=function(t){var e=Ut(t);return i.call(n,t,e.x,e.y)};if(t.addEventListener(e,o,!1),M&&L[e]){var s=function(e){for(var o=Ut(e),s=e,r=0,a=e.targetTouches&&e.targetTouches.length;a>r;r++)if(e.targetTouches[r].target==t){e=e.targetTouches[r],e.originalEvent=s,e.preventDefault=Yt,e.stopPropagation=qt;break}return i.call(n,e,o.x,o.y)};t.addEventListener(L[e],s,!1)}return function(){return t.removeEventListener(e,o,!1),M&&L[e]&&t.removeEventListener(L[e],o,!1),!0}}:T.doc.attachEvent?function(t,e,i,n){var o=function(t){t=t||T.win.event;var e=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,o=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,s=t.clientX+o,r=t.clientY+e;return t.preventDefault=t.preventDefault||$t,t.stopPropagation=t.stopPropagation||Vt,i.call(n,t,s,r)};t.attachEvent("on"+e,o);var s=function(){return t.detachEvent("on"+e,o),!0};return s}:void 0}(),Xt=[],Kt=function(t){for(var i,n=t.clientX,o=t.clientY,s=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,r=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft,a=Xt.length;a--;){if(i=Xt[a],M&&t.touches){for(var l,h=t.touches.length;h--;)if(l=t.touches[h],l.identifier==i.el._drag.id){n=l.clientX,o=l.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var c,u=i.el.node,d=u.nextSibling,p=u.parentNode,f=u.style.display;T.win.opera&&p.removeChild(u),u.style.display="none",c=i.el.paper.getElementByPoint(n,o),u.style.display=f,T.win.opera&&(d?p.insertBefore(u,d):p.appendChild(u)),c&&e("raphael.drag.over."+i.el.id,i.el,c),n+=r,o+=s,e("raphael.drag.move."+i.el.id,i.move_scope||i.el,n-i.el._drag.x,o-i.el._drag.y,n,o,t)}},Zt=function(t){i.unmousemove(Kt).unmouseup(Zt);for(var n,o=Xt.length;o--;)n=Xt[o],n.el._drag={},e("raphael.drag.end."+n.el.id,n.end_scope||n.start_scope||n.move_scope||n.el,t);Xt=[]},Qt=i.el={},Jt=N.length;Jt--;)!function(t){i[t]=Qt[t]=function(e,n){return i.is(e,"function")&&(this.events=this.events||[],this.events.push({name:t,f:e,unbind:Gt(this.shape||this.node||T.doc,t,e,n||this)})),this},i["un"+t]=Qt["un"+t]=function(e){for(var n=this.events||[],o=n.length;o--;)n[o].name!=t||!i.is(e,"undefined")&&n[o].f!=e||(n[o].unbind(),n.splice(o,1),!n.length&&delete this.events);return this}}(N[Jt]);Qt.data=function(t,n){var o=ct[this.id]=ct[this.id]||{};if(0==arguments.length)return o;if(1==arguments.length){if(i.is(t,"object")){for(var s in t)t[S](s)&&this.data(s,t[s]);return this}return e("raphael.data.get."+this.id,this,o[t],t),o[t]}return o[t]=n,e("raphael.data.set."+this.id,this,n,t),this},Qt.removeData=function(t){return null==t?ct[this.id]={}:ct[this.id]&&delete ct[this.id][t],this},Qt.getData=function(){return n(ct[this.id]||{})},Qt.hover=function(t,e,i,n){return this.mouseover(t,i).mouseout(e,n||i)},Qt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var te=[];Qt.drag=function(t,n,o,s,r,a){function l(l){(l.originalEvent||l).preventDefault();var h=l.clientX,c=l.clientY,u=T.doc.documentElement.scrollTop||T.doc.body.scrollTop,d=T.doc.documentElement.scrollLeft||T.doc.body.scrollLeft;if(this._drag.id=l.identifier,M&&l.touches)for(var p,f=l.touches.length;f--;)if(p=l.touches[f],this._drag.id=p.identifier,p.identifier==this._drag.id){h=p.clientX,c=p.clientY;break}this._drag.x=h+d,this._drag.y=c+u,!Xt.length&&i.mousemove(Kt).mouseup(Zt),Xt.push({el:this,move_scope:s,start_scope:r,end_scope:a}),n&&e.on("raphael.drag.start."+this.id,n),t&&e.on("raphael.drag.move."+this.id,t),o&&e.on("raphael.drag.end."+this.id,o),e("raphael.drag.start."+this.id,r||s||this,l.clientX+d,l.clientY+u,l)}return this._drag={},te.push({el:this,start:l}),this.mousedown(l),this},Qt.onDragOver=function(t){t?e.on("raphael.drag.over."+this.id,t):e.unbind("raphael.drag.over."+this.id)},Qt.undrag=function(){for(var t=te.length;t--;)te[t].el==this&&(this.unmousedown(te[t].start),te.splice(t,1),e.unbind("raphael.drag.*."+this.id));!te.length&&i.unmousemove(Kt).unmouseup(Zt),Xt=[]},C.circle=function(t,e,n){var o=i._engine.circle(this,t||0,e||0,n||0);return this.__set__&&this.__set__.push(o),o},C.rect=function(t,e,n,o,s){var r=i._engine.rect(this,t||0,e||0,n||0,o||0,s||0);return this.__set__&&this.__set__.push(r),r},C.ellipse=function(t,e,n,o){var s=i._engine.ellipse(this,t||0,e||0,n||0,o||0);return this.__set__&&this.__set__.push(s),s},C.path=function(t){t&&!i.is(t,q)&&!i.is(t[0],U)&&(t+=P);var e=i._engine.path(i.format[R](i,arguments),this);return this.__set__&&this.__set__.push(e),e},C.image=function(t,e,n,o,s){var r=i._engine.image(this,t||"about:blank",e||0,n||0,o||0,s||0);return this.__set__&&this.__set__.push(r),r},C.text=function(t,e,n){var o=i._engine.text(this,t||0,e||0,I(n));return this.__set__&&this.__set__.push(o),o},C.set=function(t){!i.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var e=new de(t);return this.__set__&&this.__set__.push(e),e.paper=this,e.type="set",e},C.setStart=function(t){this.__set__=t||this.set()},C.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},C.setSize=function(t,e){return i._engine.setSize.call(this,t,e)},C.setViewBox=function(t,e,n,o,s){return i._engine.setViewBox.call(this,t,e,n,o,s)},C.top=C.bottom=null,C.raphael=i;var ee=function(t){var e=t.getBoundingClientRect(),i=t.ownerDocument,n=i.body,o=i.documentElement,s=o.clientTop||n.clientTop||0,r=o.clientLeft||n.clientLeft||0,a=e.top+(T.win.pageYOffset||o.scrollTop||n.scrollTop)-s,l=e.left+(T.win.pageXOffset||o.scrollLeft||n.scrollLeft)-r;return{y:a,x:l}};C.getElementByPoint=function(t,e){var i=this,n=i.canvas,o=T.doc.elementFromPoint(t,e);if(T.win.opera&&"svg"==o.tagName){var s=ee(n),r=n.createSVGRect();r.x=t-s.x,r.y=e-s.y,r.width=r.height=1;var a=n.getIntersectionList(r,null);a.length&&(o=a[a.length-1])}if(!o)return null;for(;o.parentNode&&o!=n.parentNode&&!o.raphael;)o=o.parentNode;return o==i.canvas.parentNode&&(o=n),o=o&&o.raphael?i.getById(o.raphaelid):null},C.getElementsByBBox=function(t){var e=this.set();return this.forEach(function(n){i.isBBoxIntersect(n.getBBox(),t)&&e.push(n)}),e},C.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},C.forEach=function(t,e){for(var i=this.bottom;i;){if(t.call(e,i)===!1)return this;i=i.next}return this},C.getElementsByPoint=function(t,e){var i=this.set();return this.forEach(function(n){n.isPointInside(t,e)&&i.push(n)}),i},Qt.isPointInside=function(t,e){var n=this.realPath=gt[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(n=i.transformPath(n,this.attr("transform"))),i.isPointInsidePath(n,t,e)},Qt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?((e.dirty||!e.bboxwt)&&(this.realPath=gt[this.type](this),e.bboxwt=Dt(this.realPath),e.bboxwt.toString=m,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&((e.dirty||!this.realPath)&&(e.bboxwt=0,this.realPath=gt[this.type](this)),e.bbox=Dt(vt(this.realPath,this.matrix)),e.bbox.toString=m,e.dirty=e.dirtyT=0),e.bbox)},Qt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Qt.glow=function(t){if("text"==this.type)return null;t=t||{};var e={width:(t.width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:t.opacity||.5,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},i=e.width/2,n=this.paper,o=n.set(),s=this.realPath||gt[this.type](this);s=this.matrix?vt(s,this.matrix):s;for(var r=1;i+1>r;r++)o.push(n.path(s).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/i*r).toFixed(3),opacity:+(e.opacity/i).toFixed(3)}));return o.insertBefore(this).translate(e.offsetx,e.offsety)};var ie=function(t,e,n,o,s,r,a,l,u){return null==u?h(t,e,n,o,s,r,a,l):i.findDotsAtSegment(t,e,n,o,s,r,a,l,c(t,e,n,o,s,r,a,l,u))},ne=function(t,e){return function(n,o,s){n=Nt(n);for(var r,a,l,h,c,u="",d={},p=0,f=0,m=n.length;m>f;f++){if(l=n[f],"M"==l[0])r=+l[1],a=+l[2];else{if(h=ie(r,a,l[1],l[2],l[3],l[4],l[5],l[6]),p+h>o){if(e&&!d.start){if(c=ie(r,a,l[1],l[2],l[3],l[4],l[5],l[6],o-p),u+=["C"+c.start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],s)return u;d.start=u,u=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),p+=h,r=+l[5],a=+l[6];continue}if(!t&&!e)return c=ie(r,a,l[1],l[2],l[3],l[4],l[5],l[6],o-p),{x:c.x,y:c.y,alpha:c.alpha}}p+=h,r=+l[5],a=+l[6]}u+=l.shift()+l}return d.end=u,c=t?p:e?d:i.findDotsAtSegment(r,a,l[0],l[1],l[2],l[3],l[4],l[5],1),c.alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},oe=ne(1),se=ne(),re=ne(0,1);i.getTotalLength=oe,i.getPointAtLength=se,i.getSubpath=function(t,e,i){if(this.getTotalLength(t)-i<1e-6)return re(t,e).end;var n=re(t,i,1);return e?re(n,e).end:n},Qt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():oe(t)},Qt.getPointAtLength=function(t){var e=this.getPath();if(e)return se(e,t)},Qt.getPath=function(){var t,e=i._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return e&&(t=e(this)),t},Qt.getSubpath=function(t,e){var n=this.getPath();if(n)return i.getSubpath(n,t,e)};var ae=i.easing_formulas={linear:function(t){return t},"<":function(t){return $(t,1.7)},">":function(t){return $(t,.48)},"<>":function(t){var e=.48-t/1.04,i=F.sqrt(.1734+e*e),n=i-e,o=$(B(n),1/3)*(0>n?-1:1),s=-i-e,r=$(B(s),1/3)*(0>s?-1:1),a=o+r+.5;return 3*(1-a)*a*a+a*a*a},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:$(2,-10*t)*F.sin((t-.075)*(2*Y)/.3)+1},bounce:function(t){var e,i=7.5625,n=2.75;return 1/n>t?e=i*t*t:2/n>t?(t-=1.5/n,e=i*t*t+.75):2.5/n>t?(t-=2.25/n,e=i*t*t+.9375):(t-=2.625/n,e=i*t*t+.984375),e}};ae.easeIn=ae["ease-in"]=ae["<"],ae.easeOut=ae["ease-out"]=ae[">"],ae.easeInOut=ae["ease-in-out"]=ae["<>"],ae["back-in"]=ae.backIn,ae["back-out"]=ae.backOut;var le=[],he=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,16)},ce=function(){for(var t=+new Date,n=0;n<le.length;n++){var o=le[n];if(!o.el.removed&&!o.paused){var s,r,a=t-o.start,l=o.ms,h=o.easing,c=o.from,u=o.diff,d=o.to,p=(o.t,o.el),f={},m={};if(o.initstatus?(a=(o.initstatus*o.anim.top-o.prev)/(o.percent-o.prev)*l,o.status=o.initstatus,delete o.initstatus,o.stop&&le.splice(n--,1)):o.status=(o.prev+(o.percent-o.prev)*(a/l))/o.anim.top,!(0>a))if(l>a){var g=h(a/l);for(var v in c)if(c[S](v)){switch(nt[v]){case V:s=+c[v]+g*l*u[v];break;case"colour":s="rgb("+[ue(Q(c[v].r+g*l*u[v].r)),ue(Q(c[v].g+g*l*u[v].g)),ue(Q(c[v].b+g*l*u[v].b))].join(",")+")";break;case"path":s=[];for(var w=0,b=c[v].length;b>w;w++){s[w]=[c[v][w][0]];for(var C=1,_=c[v][w].length;_>C;C++)s[w][C]=+c[v][w][C]+g*l*u[v][w][C];s[w]=s[w].join(H)}s=s.join(H);break;case"transform":if(u[v].real)for(s=[],w=0,b=c[v].length;b>w;w++)for(s[w]=[c[v][w][0]],C=1,_=c[v][w].length;_>C;C++)s[w][C]=c[v][w][C]+g*l*u[v][w][C];else{var x=function(t){return+c[v][t]+g*l*u[v][t]};s=[["m",x(0),x(1),x(2),x(3),x(4),x(5)]]}break;case"csv":if("clip-rect"==v)for(s=[],w=4;w--;)s[w]=+c[v][w]+g*l*u[v][w];break;default:var k=[][A](c[v]);for(s=[],w=p.paper.customAttributes[v].length;w--;)s[w]=+k[w]+g*l*u[v][w]}f[v]=s}p.attr(f),function(t,i,n){setTimeout(function(){e("raphael.anim.frame."+t,i,n)})}(p.id,p,o.anim)}else{if(function(t,n,o){setTimeout(function(){e("raphael.anim.frame."+n.id,n,o),e("raphael.anim.finish."+n.id,n,o),i.is(t,"function")&&t.call(n)})}(o.callback,p,o.anim),p.attr(d),le.splice(n--,1),o.repeat>1&&!o.next){for(r in d)d[S](r)&&(m[r]=o.totalOrigin[r]);o.el.attr(m),y(o.anim,o.el,o.anim.percents[0],null,o.totalOrigin,o.repeat-1)}o.next&&!o.stop&&y(o.anim,o.el,o.next,null,o.totalOrigin,o.repeat)}}}i.svg&&p&&p.paper&&p.paper.safari(),le.length&&he(ce)},ue=function(t){return t>255?255:0>t?0:t};Qt.animateWith=function(t,e,n,o,s,r){var a=this;if(a.removed)return r&&r.call(a),a;var l=n instanceof v?n:i.animation(n,o,s,r);y(l,a,l.percents[0],null,a.attr());for(var h=0,c=le.length;c>h;h++)if(le[h].anim==e&&le[h].el==t){le[c-1].start=le[h].start;break}return a},Qt.onAnimation=function(t){return t?e.on("raphael.anim.frame."+this.id,t):e.unbind("raphael.anim.frame."+this.id),this},v.prototype.delay=function(t){var e=new v(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},v.prototype.repeat=function(t){var e=new v(this.anim,this.ms);return e.del=this.del,e.times=F.floor(W(t,0))||1,e},i.animation=function(t,e,n,o){if(t instanceof v)return t;(i.is(n,"function")||!n)&&(o=o||n||null,n=null),t=Object(t),e=+e||0;var s,r,a={};for(r in t)t[S](r)&&J(r)!=r&&J(r)+"%"!=r&&(s=!0,a[r]=t[r]);return s?(n&&(a.easing=n),o&&(a.callback=o),new v({100:a},e)):new v(t,e)},Qt.animate=function(t,e,n,o){var s=this;if(s.removed)return o&&o.call(s),s;var r=t instanceof v?t:i.animation(t,e,n,o);return y(r,s,r.percents[0],null,s.attr()),s},Qt.setTime=function(t,e){return t&&null!=e&&this.status(t,j(e,t.ms)/t.ms),this},Qt.status=function(t,e){var i,n,o=[],s=0;if(null!=e)return y(t,this,-1,j(e,1)),this;for(i=le.length;i>s;s++)if(n=le[s],n.el.id==this.id&&(!t||n.anim==t)){if(t)return n.status;o.push({anim:n.anim,status:n.status})}return t?0:o},Qt.pause=function(t){for(var i=0;i<le.length;i++)le[i].el.id!=this.id||t&&le[i].anim!=t||e("raphael.anim.pause."+this.id,this,le[i].anim)!==!1&&(le[i].paused=!0);return this},Qt.resume=function(t){for(var i=0;i<le.length;i++)if(le[i].el.id==this.id&&(!t||le[i].anim==t)){var n=le[i];e("raphael.anim.resume."+this.id,this,n.anim)!==!1&&(delete n.paused,this.status(n.anim,n.status))}return this},Qt.stop=function(t){for(var i=0;i<le.length;i++)le[i].el.id!=this.id||t&&le[i].anim!=t||e("raphael.anim.stop."+this.id,this,le[i].anim)!==!1&&le.splice(i--,1);return this},e.on("raphael.remove",w),e.on("raphael.clear",w),Qt.toString=function(){return"Rapha\xebl\u2019s object"};var de=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,i=t.length;i>e;e++)!t[e]||t[e].constructor!=Qt.constructor&&t[e].constructor!=de||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},pe=de.prototype;pe.push=function(){for(var t,e,i=0,n=arguments.length;n>i;i++)t=arguments[i],!t||t.constructor!=Qt.constructor&&t.constructor!=de||(e=this.items.length,this[e]=this.items[e]=t,this.length++);return this},pe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},pe.forEach=function(t,e){for(var i=0,n=this.items.length;n>i;i++)if(t.call(e,this.items[i],i)===!1)return this;return this};for(var fe in Qt)Qt[S](fe)&&(pe[fe]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t][R](i,e)})}}(fe));
//  Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)    \\
//  Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)              \\
//  Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)    \\
//  Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)              \\
return pe.attr=function(t,e){if(t&&i.is(t,U)&&i.is(t[0],"object"))for(var n=0,o=t.length;o>n;n++)this.items[n].attr(t[n]);else for(var s=0,r=this.items.length;r>s;s++)this.items[s].attr(t,e);return this},pe.clear=function(){for(;this.length;)this.pop()},pe.splice=function(t,e,i){t=0>t?W(this.length+t,0):t,e=W(0,j(this.length-t,e));var n,o=[],s=[],r=[];for(n=2;n<arguments.length;n++)r.push(arguments[n]);for(n=0;e>n;n++)s.push(this[t+n]);for(;n<this.length-t;n++)o.push(this[t+n]);var a=r.length;for(n=0;n<a+o.length;n++)this.items[t+n]=this[t+n]=a>n?r[n]:o[n-a];for(n=this.items.length=this.length-=e-a;this[n];)delete this[n++];return new de(s)},pe.exclude=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]==t)return this.splice(e,1),!0},pe.animate=function(t,e,n,o){(i.is(n,"function")||!n)&&(o=n||null);var s,r,a=this.items.length,l=a,h=this;if(!a)return this;o&&(r=function(){!--a&&o.call(h)}),n=i.is(n,q)?n:r;var c=i.animation(t,e,n,r);for(s=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(s,c,c),this.items[l]&&!this.items[l].removed||a--;return this},pe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},pe.getBBox=function(){for(var t=[],e=[],i=[],n=[],o=this.items.length;o--;)if(!this.items[o].removed){var s=this.items[o].getBBox();t.push(s.x),e.push(s.y),i.push(s.x+s.width),n.push(s.y+s.height)}return t=j[R](0,t),e=j[R](0,e),i=W[R](0,i),n=W[R](0,n),{x:t,y:e,x2:i,y2:n,width:i-t,height:n-e}},pe.clone=function(t){t=this.paper.set();for(var e=0,i=this.items.length;i>e;e++)t.push(this.items[e].clone());return t},pe.toString=function(){return"Rapha\xebl\u2018s set"},pe.glow=function(t){var e=this.paper.set();return this.forEach(function(i,n){var o=i.glow(t);null!=o&&o.forEach(function(t,i){e.push(t)})}),e},pe.isPointInside=function(t,e){var i=!1;return this.forEach(function(n){return n.isPointInside(t,e)?(console.log("runned"),i=!0,!1):void 0}),i},i.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},i=t.face["font-family"];for(var n in t.face)t.face[S](n)&&(e.face[n]=t.face[n]);if(this.fonts[i]?this.fonts[i].push(e):this.fonts[i]=[e],!t.svg){e.face["units-per-em"]=tt(t.face["units-per-em"],10);for(var o in t.glyphs)if(t.glyphs[S](o)){var s=t.glyphs[o];if(e.glyphs[o]={w:s.w,k:{},d:s.d&&"M"+s.d.replace(/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},s.k)for(var r in s.k)s[S](r)&&(e.glyphs[o].k[r]=s.k[r])}}return t},C.getFont=function(t,e,n,o){if(o=o||"normal",n=n||"normal",e=+e||{normal:400,bold:700,lighter:300,bolder:800}[e]||400,i.fonts){var s=i.fonts[t];if(!s){var r=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,P)+"(\\s|$)","i");for(var a in i.fonts)if(i.fonts[S](a)&&r.test(a)){s=i.fonts[a];break}}var l;if(s)for(var h=0,c=s.length;c>h&&(l=s[h],l.face["font-weight"]!=e||l.face["font-style"]!=n&&l.face["font-style"]||l.face["font-stretch"]!=o);h++);return l}},C.print=function(t,e,n,o,s,r,a,l){r=r||"middle",a=W(j(a||0,1),-1),l=W(j(l||1,3),1);var h,c=I(n)[O](P),u=0,d=0,p=P;if(i.is(o,"string")&&(o=this.getFont(o)),o){h=(s||16)/o.face["units-per-em"];for(var f=o.face.bbox[O](_),m=+f[0],g=f[3]-f[1],v=0,y=+f[1]+("baseline"==r?g+ +o.face.descent:g/2),w=0,b=c.length;b>w;w++){if("\n"==c[w])u=0,x=0,d=0,v+=g*l;else{var C=d&&o.glyphs[c[w-1]]||{},x=o.glyphs[c[w]];u+=d?(C.w||o.w)+(C.k&&C.k[c[w]]||0)+o.w*a:0,d=1}x&&x.d&&(p+=i.transformPath(x.d,["t",u*h,v*h,"s",h,h,m,y,"t",(t-m)/h,(e-y)/h]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},C.add=function(t){if(i.is(t,"array"))for(var e,n=this.set(),o=0,s=t.length;s>o;o++)e=t[o]||{},x[S](e.type)&&n.push(this[e.type]().attr(e));return n},i.format=function(t,e){var n=i.is(e,U)?[0][A](e):arguments;return t&&i.is(t,q)&&n.length-1&&(t=t.replace(k,function(t,e){return null==n[++e]?P:n[e]})),t||P},i.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(t,i,n){var o=n;return i.replace(e,function(t,e,i,n,s){e=e||n,o&&(e in o&&(o=o[e]),"function"==typeof o&&s&&(o=o()))}),o=(null==o||o==n?t:o)+""};return function(e,n){return String(e).replace(t,function(t,e){return i(t,e,n)})}}(),i.ninja=function(){return D.was?T.win.Raphael=D.is:delete Raphael,i},i.st=pe,function(t,e,n){function o(){/in/.test(t.readyState)?setTimeout(o,9):i.eve("raphael.DOMload")}null==t.readyState&&t.addEventListener&&(t.addEventListener(e,n=function(){t.removeEventListener(e,n,!1),t.readyState="complete"},!1),t.readyState="loading"),o()}(document,"DOMContentLoaded"),e.on("raphael.DOMload",function(){b=!0}),function(){if(i.svg){var t="hasOwnProperty",e=String,n=parseFloat,o=parseInt,s=Math,r=s.max,a=s.abs,l=s.pow,h=/[, ]+/,c=i.eve,u="",d=" ",p="http://www.w3.org/1999/xlink",f={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};i.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\xebl "+this.version};var g=function(n,o){if(o){"string"==typeof n&&(n=g(n));for(var s in o)o[t](s)&&("xlink:"==s.substring(0,6)?n.setAttributeNS(p,s.substring(6),e(o[s])):n.setAttribute(s,e(o[s])))}else n=i._g.doc.createElementNS("http://www.w3.org/2000/svg",n),n.style&&(n.style.webkitTapHighlightColor="rgba(0,0,0,0)");return n},v=function(t,o){var h="linear",c=t.id+o,d=.5,p=.5,f=t.node,m=t.paper,v=f.style,y=i._g.doc.getElementById(c);if(!y){if(o=e(o).replace(i._radial_gradient,function(t,e,i){if(h="radial",e&&i){d=n(e),p=n(i);var o=2*(p>.5)-1;l(d-.5,2)+l(p-.5,2)>.25&&(p=s.sqrt(.25-l(d-.5,2))*o+.5)&&.5!=p&&(p=p.toFixed(5)-1e-5*o)}return u}),o=o.split(/\s*\-\s*/),"linear"==h){var w=o.shift();if(w=-n(w),isNaN(w))return null;var b=[0,0,s.cos(i.rad(w)),s.sin(i.rad(w))],C=1/(r(a(b[2]),a(b[3]))||1);b[2]*=C,b[3]*=C,b[2]<0&&(b[0]=-b[2],b[2]=0),b[3]<0&&(b[1]=-b[3],b[3]=0)}var _=i._parseDots(o);if(!_)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),t.gradient&&c!=t.gradient.id&&(m.defs.removeChild(t.gradient),delete t.gradient),!t.gradient){y=g(h+"Gradient",{id:c}),t.gradient=y,g(y,"radial"==h?{fx:d,fy:p}:{x1:b[0],y1:b[1],x2:b[2],y2:b[3],gradientTransform:t.matrix.invert()}),m.defs.appendChild(y);for(var x=0,k=_.length;k>x;x++)y.appendChild(g("stop",{offset:_[x].offset?_[x].offset:x?"100%":"0%","stop-color":_[x].color||"#fff"}))}}return g(f,{fill:"url(#"+c+")",opacity:1,"fill-opacity":1}),v.fill=u,v.opacity=1,v.fillOpacity=1,1},y=function(t){var e=t.getBBox(1);g(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},w=function(n,o,s){if("path"==n.type){for(var r,a,l,h,c,d=e(o).toLowerCase().split("-"),p=n.paper,v=s?"end":"start",y=n.node,w=n.attrs,b=w["stroke-width"],C=d.length,_="classic",x=3,k=3,S=5;C--;)switch(d[C]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_=d[C];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":x=5;break;case"short":x=2}if("open"==_?(x+=2,k+=2,S+=2,l=1,h=s?4:1,c={fill:"none",stroke:w.stroke}):(h=l=x/2,c={fill:w.stroke,stroke:"none"}),n._.arrows?s?(n._.arrows.endPath&&m[n._.arrows.endPath]--,n._.arrows.endMarker&&m[n._.arrows.endMarker]--):(n._.arrows.startPath&&m[n._.arrows.startPath]--,n._.arrows.startMarker&&m[n._.arrows.startMarker]--):n._.arrows={},"none"!=_){var T="raphael-marker-"+_,D="raphael-marker-"+v+_+x+k;i._g.doc.getElementById(T)?m[T]++:(p.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:f[_],id:T})),m[T]=1);var E,R=i._g.doc.getElementById(D);R?(m[D]++,E=R.getElementsByTagName("use")[0]):(R=g(g("marker"),{id:D,markerHeight:k,markerWidth:x,orient:"auto",refX:h,refY:k/2}),E=g(g("use"),{"xlink:href":"#"+T,transform:(s?"rotate(180 "+x/2+" "+k/2+") ":u)+"scale("+x/S+","+k/S+")","stroke-width":(1/((x/S+k/S)/2)).toFixed(4)}),R.appendChild(E),p.defs.appendChild(R),m[D]=1),g(E,c);var A=l*("diamond"!=_&&"oval"!=_);s?(r=n._.arrows.startdx*b||0,a=i.getTotalLength(w.path)-A*b):(r=A*b,a=i.getTotalLength(w.path)-(n._.arrows.enddx*b||0)),c={},c["marker-"+v]="url(#"+D+")",(a||r)&&(c.d=i.getSubpath(w.path,r,a)),g(y,c),n._.arrows[v+"Path"]=T,n._.arrows[v+"Marker"]=D,n._.arrows[v+"dx"]=A,n._.arrows[v+"Type"]=_,n._.arrows[v+"String"]=o}else s?(r=n._.arrows.startdx*b||0,a=i.getTotalLength(w.path)-r):(r=0,a=i.getTotalLength(w.path)-(n._.arrows.enddx*b||0)),n._.arrows[v+"Path"]&&g(y,{d:i.getSubpath(w.path,r,a)}),delete n._.arrows[v+"Path"],delete n._.arrows[v+"Marker"],delete n._.arrows[v+"dx"],delete n._.arrows[v+"Type"],delete n._.arrows[v+"String"];for(c in m)if(m[t](c)&&!m[c]){var M=i._g.doc.getElementById(c);M&&M.parentNode.removeChild(M)}}},b={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},C=function(t,i,n){if(i=b[e(i).toLowerCase()]){for(var o=t.attrs["stroke-width"]||"1",s={round:o,square:o,butt:0}[t.attrs["stroke-linecap"]||n["stroke-linecap"]]||0,r=[],a=i.length;a--;)r[a]=i[a]*o+(a%2?1:-1)*s;g(t.node,{"stroke-dasharray":r.join(",")})}},_=function(n,s){var l=n.node,c=n.attrs,d=l.style.visibility;l.style.visibility="hidden";for(var f in s)if(s[t](f)){if(!i._availableAttrs[t](f))continue;var m=s[f];switch(c[f]=m,f){case"blur":n.blur(m);break;case"href":case"title":var b=g("title"),_=i._g.doc.createTextNode(m);b.appendChild(_),l.appendChild(b);break;case"target":var x=l.parentNode;if("a"!=x.tagName.toLowerCase()){var b=g("a");x.insertBefore(b,l),b.appendChild(l),x=b}"target"==f?x.setAttributeNS(p,"show","blank"==m?"new":m):x.setAttributeNS(p,f,m);break;case"cursor":l.style.cursor=m;break;case"transform":n.transform(m);break;case"arrow-start":w(n,m);break;case"arrow-end":w(n,m,1);break;case"clip-rect":var S=e(m).split(h);if(4==S.length){n.clip&&n.clip.parentNode.parentNode.removeChild(n.clip.parentNode);var T=g("clipPath"),D=g("rect");T.id=i.createUUID(),g(D,{x:S[0],y:S[1],width:S[2],height:S[3]}),T.appendChild(D),n.paper.defs.appendChild(T),g(l,{"clip-path":"url(#"+T.id+")"}),n.clip=D}if(!m){var E=l.getAttribute("clip-path");if(E){var R=i._g.doc.getElementById(E.replace(/(^url\(#|\)$)/g,u));R&&R.parentNode.removeChild(R),g(l,{"clip-path":u}),delete n.clip}}break;case"path":"path"==n.type&&(g(l,{d:m?c.path=i._pathToAbsolute(m):"M0,0"}),n._.dirty=1,n._.arrows&&("startString"in n._.arrows&&w(n,n._.arrows.startString),"endString"in n._.arrows&&w(n,n._.arrows.endString,1)));break;case"width":if(l.setAttribute(f,m),n._.dirty=1,!c.fx)break;f="x",m=c.x;case"x":c.fx&&(m=-c.x-(c.width||0));case"rx":if("rx"==f&&"rect"==n.type)break;case"cx":l.setAttribute(f,m),n.pattern&&y(n),n._.dirty=1;break;case"height":if(l.setAttribute(f,m),n._.dirty=1,!c.fy)break;f="y",m=c.y;case"y":c.fy&&(m=-c.y-(c.height||0));case"ry":if("ry"==f&&"rect"==n.type)break;case"cy":l.setAttribute(f,m),n.pattern&&y(n),n._.dirty=1;break;case"r":"rect"==n.type?g(l,{rx:m,ry:m}):l.setAttribute(f,m),n._.dirty=1;break;case"src":"image"==n.type&&l.setAttributeNS(p,"href",m);break;case"stroke-width":(1!=n._.sx||1!=n._.sy)&&(m/=r(a(n._.sx),a(n._.sy))||1),n.paper._vbSize&&(m*=n.paper._vbSize),l.setAttribute(f,m),c["stroke-dasharray"]&&C(n,c["stroke-dasharray"],s),n._.arrows&&("startString"in n._.arrows&&w(n,n._.arrows.startString),"endString"in n._.arrows&&w(n,n._.arrows.endString,1));break;case"stroke-dasharray":C(n,m,s);break;case"fill":var A=e(m).match(i._ISURL);if(A){T=g("pattern");var M=g("image");T.id=i.createUUID(),g(T,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(M,{x:0,y:0,"xlink:href":A[1]}),T.appendChild(M),function(t){i._preload(A[1],function(){var e=this.offsetWidth,i=this.offsetHeight;g(t,{width:e,height:i}),g(M,{width:e,height:i}),n.paper.safari()})}(T),n.paper.defs.appendChild(T),g(l,{fill:"url(#"+T.id+")"}),n.pattern=T,n.pattern&&y(n);break}var P=i.getRGB(m);if(P.error){if(("circle"==n.type||"ellipse"==n.type||"r"!=e(m).charAt())&&v(n,m)){if("opacity"in c||"fill-opacity"in c){var H=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u));if(H){var I=H.getElementsByTagName("stop");g(I[I.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=m,c.fill="none";break}}else delete s.gradient,delete c.gradient,!i.is(c.opacity,"undefined")&&i.is(s.opacity,"undefined")&&g(l,{opacity:c.opacity}),!i.is(c["fill-opacity"],"undefined")&&i.is(s["fill-opacity"],"undefined")&&g(l,{"fill-opacity":c["fill-opacity"]});P[t]("opacity")&&g(l,{"fill-opacity":P.opacity>1?P.opacity/100:P.opacity});case"stroke":P=i.getRGB(m),l.setAttribute(f,P.hex),"stroke"==f&&P[t]("opacity")&&g(l,{"stroke-opacity":P.opacity>1?P.opacity/100:P.opacity}),"stroke"==f&&n._.arrows&&("startString"in n._.arrows&&w(n,n._.arrows.startString),"endString"in n._.arrows&&w(n,n._.arrows.endString,1));break;case"gradient":("circle"==n.type||"ellipse"==n.type||"r"!=e(m).charAt())&&v(n,m);break;case"opacity":c.gradient&&!c[t]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(c.gradient){H=i._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,u)),H&&(I=H.getElementsByTagName("stop"),g(I[I.length-1],{"stop-opacity":m}));break}default:"font-size"==f&&(m=o(m,10)+"px");var O=f.replace(/(\-.)/g,function(t){return t.substring(1).toUpperCase()});l.style[O]=m,n._.dirty=1,l.setAttribute(f,m)}}k(n,s),l.style.visibility=d},x=1.2,k=function(n,s){if("text"==n.type&&(s[t]("text")||s[t]("font")||s[t]("font-size")||s[t]("x")||s[t]("y"))){var r=n.attrs,a=n.node,l=a.firstChild?o(i._g.doc.defaultView.getComputedStyle(a.firstChild,u).getPropertyValue("font-size"),10):10;if(s[t]("text")){for(r.text=s.text;a.firstChild;)a.removeChild(a.firstChild);for(var h,c=e(s.text).split("\n"),d=[],p=0,f=c.length;f>p;p++)h=g("tspan"),p&&g(h,{dy:l*x,x:r.x}),h.appendChild(i._g.doc.createTextNode(c[p])),a.appendChild(h),d[p]=h}else for(d=a.getElementsByTagName("tspan"),p=0,f=d.length;f>p;p++)p?g(d[p],{dy:l*x,x:r.x}):g(d[0],{dy:0});g(a,{x:r.x,y:r.y}),n._.dirty=1;var m=n._getBBox(),v=r.y-(m.y+m.height/2);v&&i.is(v,"finite")&&g(d[0],{dy:v})}},S=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=i._oid++,t.raphaelid=this.id,this.matrix=i.matrix(),this.realPath=null,this.paper=e,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},T=i.el;S.prototype=T,T.constructor=S,i._engine.path=function(t,e){var i=g("path");e.canvas&&e.canvas.appendChild(i);var n=new S(i,e);return n.type="path",_(n,{fill:"none",stroke:"#000",path:t}),n},T.rotate=function(t,i,o){if(this.removed)return this;if(t=e(t).split(h),t.length-1&&(i=n(t[1]),o=n(t[2])),t=n(t[0]),null==o&&(i=o),null==i||null==o){var s=this.getBBox(1);i=s.x+s.width/2,o=s.y+s.height/2}return this.transform(this._.transform.concat([["r",t,i,o]])),this},T.scale=function(t,i,o,s){if(this.removed)return this;if(t=e(t).split(h),t.length-1&&(i=n(t[1]),o=n(t[2]),s=n(t[3])),t=n(t[0]),null==i&&(i=t),null==s&&(o=s),null==o||null==s)var r=this.getBBox(1);return o=null==o?r.x+r.width/2:o,s=null==s?r.y+r.height/2:s,this.transform(this._.transform.concat([["s",t,i,o,s]])),this},T.translate=function(t,i){return this.removed?this:(t=e(t).split(h),t.length-1&&(i=n(t[1])),t=n(t[0])||0,i=+i||0,this.transform(this._.transform.concat([["t",t,i]])),this)},T.transform=function(e){var n=this._;if(null==e)return n.transform;if(i._extractTransform(this,e),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&y(this),this.node&&g(this.node,{transform:this.matrix}),1!=n.sx||1!=n.sy){var o=this.attrs[t]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":o})}return this},T.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},T.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},T.remove=function(){if(!this.removed&&this.node.parentNode){var t=this.paper;t.__set__&&t.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&t.defs.removeChild(this.gradient),i._tear(this,t),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var e in this)this[e]="function"==typeof this[e]?i._removedFactory(e):null;this.removed=!0}},T._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(i){}finally{e=e||{}}return t&&this.hide(),e},T.attr=function(e,n){if(this.removed)return this;if(null==e){var o={};for(var s in this.attrs)this.attrs[t](s)&&(o[s]=this.attrs[s]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==n&&i.is(e,"string")){if("fill"==e&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;for(var r=e.split(h),a={},l=0,u=r.length;u>l;l++)e=r[l],e in this.attrs?a[e]=this.attrs[e]:i.is(this.paper.customAttributes[e],"function")?a[e]=this.paper.customAttributes[e].def:a[e]=i._availableAttrs[e];return u-1?a:a[r[0]]}if(null==n&&i.is(e,"array")){for(a={},l=0,u=e.length;u>l;l++)a[e[l]]=this.attr(e[l]);return a}if(null!=n){var d={};d[e]=n}else null!=e&&i.is(e,"object")&&(d=e);for(var p in d)c("raphael.attr."+p+"."+this.id,this,d[p]);for(p in this.paper.customAttributes)if(this.paper.customAttributes[t](p)&&d[t](p)&&i.is(this.paper.customAttributes[p],"function")){var f=this.paper.customAttributes[p].apply(this,[].concat(d[p]));this.attrs[p]=d[p];for(var m in f)f[t](m)&&(d[m]=f[m])}return _(this,d),this},T.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var t=this.paper;return t.top!=this&&i._tofront(this,t),this},T.toBack=function(){if(this.removed)return this;var t=this.node.parentNode;"a"==t.tagName.toLowerCase()?t.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):t.firstChild!=this.node&&t.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper);this.paper;return this},T.insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode.appendChild(this.node),i._insertafter(this,t,this.paper),this},T.insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),i._insertbefore(this,t,this.paper),this},T.blur=function(t){var e=this;if(0!==+t){var n=g("filter"),o=g("feGaussianBlur");e.attrs.blur=t,n.id=i.createUUID(),g(o,{stdDeviation:+t||1.5}),n.appendChild(o),e.paper.defs.appendChild(n),e._blur=n,g(e.node,{filter:"url(#"+n.id+")"})}else e._blur&&(e._blur.parentNode.removeChild(e._blur),delete e._blur,delete e.attrs.blur),e.node.removeAttribute("filter");return e},i._engine.circle=function(t,e,i,n){var o=g("circle");t.canvas&&t.canvas.appendChild(o);var s=new S(o,t);return s.attrs={cx:e,cy:i,r:n,fill:"none",stroke:"#000"},s.type="circle",g(o,s.attrs),s},i._engine.rect=function(t,e,i,n,o,s){var r=g("rect");t.canvas&&t.canvas.appendChild(r);var a=new S(r,t);return a.attrs={x:e,y:i,width:n,height:o,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},a.type="rect",g(r,a.attrs),a},i._engine.ellipse=function(t,e,i,n,o){var s=g("ellipse");t.canvas&&t.canvas.appendChild(s);var r=new S(s,t);return r.attrs={cx:e,cy:i,rx:n,ry:o,fill:"none",stroke:"#000"},r.type="ellipse",g(s,r.attrs),r},i._engine.image=function(t,e,i,n,o,s){var r=g("image");g(r,{x:i,y:n,width:o,height:s,preserveAspectRatio:"none"}),r.setAttributeNS(p,"href",e),t.canvas&&t.canvas.appendChild(r);var a=new S(r,t);return a.attrs={x:i,y:n,width:o,height:s,src:e},a.type="image",a},i._engine.text=function(t,e,n,o){var s=g("text");t.canvas&&t.canvas.appendChild(s);var r=new S(s,t);return r.attrs={x:e,y:n,"text-anchor":"middle",text:o,font:i._availableAttrs.font,stroke:"none",fill:"#000"},r.type="text",_(r,r.attrs),r},i._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},i._engine.create=function(){var t=i._getContainer.apply(0,arguments),e=t&&t.container,n=t.x,o=t.y,s=t.width,r=t.height;if(!e)throw new Error("SVG container not found.");var a,l=g("svg"),h="overflow:hidden;";return n=n||0,o=o||0,s=s||512,r=r||342,g(l,{height:r,version:1.1,width:s,xmlns:"http://www.w3.org/2000/svg"}),1==e?(l.style.cssText=h+"position:absolute;left:"+n+"px;top:"+o+"px",i._g.doc.body.appendChild(l),a=1):(l.style.cssText=h+"position:relative",e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l)),e=new i._Paper,e.width=s,e.height=r,e.canvas=l,e.clear(),e._left=e._top=0,a&&(e.renderfix=function(){}),e.renderfix(),e},i._engine.setViewBox=function(t,e,i,n,o){c("raphael.setViewBox",this,this._viewBox,[t,e,i,n,o]);var s,a,l=r(i/this.width,n/this.height),h=this.top,u=o?"meet":"xMinYMin";for(null==t?(this._vbSize&&(l=1),delete this._vbSize,s="0 0 "+this.width+d+this.height):(this._vbSize=l,s=t+d+e+d+i+d+n),g(this.canvas,{viewBox:s,preserveAspectRatio:u});l&&h;)a="stroke-width"in h.attrs?h.attrs["stroke-width"]:1,h.attr({"stroke-width":a}),h._.dirty=1,h._.dirtyT=1,h=h.prev;return this._viewBox=[t,e,i,n,!!o],this},i.prototype.renderfix=function(){var t,e=this.canvas,i=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var o=-t.e%1,s=-t.f%1;(o||s)&&(o&&(this._left=(this._left+o)%1,i.left=this._left+"px"),s&&(this._top=(this._top+s)%1,i.top=this._top+"px"))},i.prototype.clear=function(){i.eve("raphael.clear",this);for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(i._g.doc.createTextNode("Created with Rapha\xebl "+i.version)),t.appendChild(this.desc),t.appendChild(this.defs=g("defs"))},i.prototype.remove=function(){c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null};var D=i.st;for(var E in T)T[t](E)&&!D[t](E)&&(D[E]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(E))}}(),function(){if(i.vml){var t="hasOwnProperty",e=String,n=parseFloat,o=Math,s=o.round,r=o.max,a=o.min,l=o.abs,h="fill",c=/[, ]+/,u=i.eve,d=" progid:DXImageTransform.Microsoft",p=" ",f="",m={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},g=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,y=/-?[^,\s-]+/g,w="position:absolute;left:0;top:0;width:1px;height:1px",b=21600,C={path:1,rect:1,image:1},_={circle:1,ellipse:1},x=function(t){var n=/[ahqstv]/gi,o=i._pathToAbsolute;if(e(t).match(n)&&(o=i._path2curve),n=/[clmz]/g,o==i._pathToAbsolute&&!e(t).match(n)){var r=e(t).replace(g,function(t,e,i){var n=[],o="m"==e.toLowerCase(),r=m[e];return i.replace(y,function(t){o&&2==n.length&&(r+=n+m["m"==e?"l":"L"],n=[]),n.push(s(t*b))}),r+n});return r}var a,l,h=o(t);r=[];for(var c=0,u=h.length;u>c;c++){a=h[c],l=h[c][0].toLowerCase(),"z"==l&&(l="x");for(var d=1,v=a.length;v>d;d++)l+=s(a[d]*b)+(d!=v-1?",":f);r.push(l)}return r.join(p)},k=function(t,e,n){var o=i.matrix();return o.rotate(-t,.5,.5),{dx:o.x(e,n),dy:o.y(e,n)}},S=function(t,e,i,n,o,s){var r=t._,a=t.matrix,c=r.fillpos,u=t.node,d=u.style,f=1,m="",g=b/e,v=b/i;if(d.visibility="hidden",e&&i){if(u.coordsize=l(g)+p+l(v),d.rotation=s*(0>e*i?-1:1),s){var y=k(s,n,o);n=y.dx,o=y.dy}if(0>e&&(m+="x"),0>i&&(m+=" y")&&(f=-1),d.flip=m,u.coordorigin=n*-g+p+o*-v,c||r.fillsize){var w=u.getElementsByTagName(h);w=w&&w[0],u.removeChild(w),c&&(y=k(s,a.x(c[0],c[1]),a.y(c[0],c[1])),w.position=y.dx*f+p+y.dy*f),r.fillsize&&(w.size=r.fillsize[0]*l(e)+p+r.fillsize[1]*l(i)),u.appendChild(w)}d.visibility="visible"}};i.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\xebl "+this.version};var T=function(t,i,n){for(var o=e(i).toLowerCase().split("-"),s=n?"end":"start",r=o.length,a="classic",l="medium",h="medium";r--;)switch(o[r]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=o[r];break;case"wide":case"narrow":h=o[r];break;case"long":case"short":l=o[r]}var c=t.node.getElementsByTagName("stroke")[0];c[s+"arrow"]=a,c[s+"arrowlength"]=l,c[s+"arrowwidth"]=h},D=function(o,l){o.attrs=o.attrs||{};var u=o.node,d=o.attrs,m=u.style,g=C[o.type]&&(l.x!=d.x||l.y!=d.y||l.width!=d.width||l.height!=d.height||l.cx!=d.cx||l.cy!=d.cy||l.rx!=d.rx||l.ry!=d.ry||l.r!=d.r),v=_[o.type]&&(d.cx!=l.cx||d.cy!=l.cy||d.r!=l.r||d.rx!=l.rx||d.ry!=l.ry),y=o;for(var w in l)l[t](w)&&(d[w]=l[w]);if(g&&(d.path=i._getPath[o.type](o),o._.dirty=1),l.href&&(u.href=l.href),l.title&&(u.title=l.title),l.target&&(u.target=l.target),l.cursor&&(m.cursor=l.cursor),"blur"in l&&o.blur(l.blur),(l.path&&"path"==o.type||g)&&(u.path=x(~e(d.path).toLowerCase().indexOf("r")?i._pathToAbsolute(d.path):d.path),"image"==o.type&&(o._.fillpos=[d.x,d.y],o._.fillsize=[d.width,d.height],S(o,1,1,0,0,0))),"transform"in l&&o.transform(l.transform),v){var k=+d.cx,D=+d.cy,R=+d.rx||+d.r||0,A=+d.ry||+d.r||0;u.path=i.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",s((k-R)*b),s((D-A)*b),s((k+R)*b),s((D+A)*b),s(k*b)),o._.dirty=1}if("clip-rect"in l){var P=e(l["clip-rect"]).split(c);if(4==P.length){P[2]=+P[2]+ +P[0],P[3]=+P[3]+ +P[1];var H=u.clipRect||i._g.doc.createElement("div"),I=H.style;I.clip=i.format("rect({1}px {2}px {3}px {0}px)",P),u.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=o.paper.width+"px",I.height=o.paper.height+"px",u.parentNode.insertBefore(H,u),H.appendChild(u),u.clipRect=H)}l["clip-rect"]||u.clipRect&&(u.clipRect.style.clip="auto")}if(o.textpath){var O=o.textpath.style;l.font&&(O.font=l.font),l["font-family"]&&(O.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,f)+'"'),l["font-size"]&&(O.fontSize=l["font-size"]),l["font-weight"]&&(O.fontWeight=l["font-weight"]),l["font-style"]&&(O.fontStyle=l["font-style"])}if("arrow-start"in l&&T(y,l["arrow-start"]),"arrow-end"in l&&T(y,l["arrow-end"],1),null!=l.opacity||null!=l["stroke-width"]||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var N=u.getElementsByTagName(h),L=!1;if(N=N&&N[0],!N&&(L=N=M(h)),"image"==o.type&&l.src&&(N.src=l.src),l.fill&&(N.on=!0),(null==N.on||"none"==l.fill||null===l.fill)&&(N.on=!1),N.on&&l.fill){var z=e(l.fill).match(i._ISURL);if(z){N.parentNode==u&&u.removeChild(N),N.rotate=!0,N.src=z[1],N.type="tile";var F=o.getBBox(1);N.position=F.x+p+F.y,o._.fillpos=[F.x,F.y],i._preload(z[1],function(){o._.fillsize=[this.offsetWidth,this.offsetHeight]})}else N.color=i.getRGB(l.fill).hex,N.src=f,N.type="solid",i.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=e(l.fill).charAt())&&E(y,l.fill,N)&&(d.fill="none",d.gradient=l.fill,N.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var W=((+d["fill-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+i.getRGB(l.fill).o+1||2)-1);W=a(r(W,0),1),N.opacity=W,N.src&&(N.color="none")}u.appendChild(N);var j=u.getElementsByTagName("stroke")&&u.getElementsByTagName("stroke")[0],B=!1;!j&&(B=j=M("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(j.on=!0),("none"==l.stroke||null===l.stroke||null==j.on||0==l.stroke||0==l["stroke-width"])&&(j.on=!1);var $=i.getRGB(l.stroke);j.on&&l.stroke&&(j.color=$.hex),W=((+d["stroke-opacity"]+1||2)-1)*((+d.opacity+1||2)-1)*((+$.o+1||2)-1);var Y=.75*(n(l["stroke-width"])||1);if(W=a(r(W,0),1),null==l["stroke-width"]&&(Y=d["stroke-width"]),l["stroke-width"]&&(j.weight=Y),Y&&1>Y&&(W*=Y)&&(j.weight=1),j.opacity=W,l["stroke-linejoin"]&&(j.joinstyle=l["stroke-linejoin"]||"miter"),j.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(j.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),l["stroke-dasharray"]){var V={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};j.dashstyle=V[t](l["stroke-dasharray"])?V[l["stroke-dasharray"]]:f}B&&u.appendChild(j)}if("text"==y.type){y.paper.canvas.style.display=f;var q=y.paper.span,U=100,G=d.font&&d.font.match(/\d+(?:\.\d*)?(?=px)/);m=q.style,d.font&&(m.font=d.font),d["font-family"]&&(m.fontFamily=d["font-family"]),d["font-weight"]&&(m.fontWeight=d["font-weight"]),d["font-style"]&&(m.fontStyle=d["font-style"]),G=n(d["font-size"]||G&&G[0])||10,m.fontSize=G*U+"px",y.textpath.string&&(q.innerHTML=e(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=q.getBoundingClientRect();y.W=d.w=(X.right-X.left)/U,y.H=d.h=(X.bottom-X.top)/U,y.X=d.x,y.Y=d.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=i.format("m{0},{1}l{2},{1}",s(d.x*b),s(d.y*b),s(d.x*b)+1));for(var K=["x","y","text","font","font-family","font-weight","font-style","font-size"],Z=0,Q=K.length;Q>Z;Z++)if(K[Z]in l){y._.dirty=1;break}switch(d["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},E=function(t,s,r){t.attrs=t.attrs||{};var a=(t.attrs,Math.pow),l="linear",h=".5 .5";if(t.attrs.gradient=s,s=e(s).replace(i._radial_gradient,function(t,e,i){return l="radial",e&&i&&(e=n(e),i=n(i),a(e-.5,2)+a(i-.5,2)>.25&&(i=o.sqrt(.25-a(e-.5,2))*(2*(i>.5)-1)+.5),h=e+p+i),f}),s=s.split(/\s*\-\s*/),"linear"==l){var c=s.shift();if(c=-n(c),isNaN(c))return null}var u=i._parseDots(s);if(!u)return null;if(t=t.shape||t.node,u.length){t.removeChild(r),r.on=!0,r.method="none",r.color=u[0].color,r.color2=u[u.length-1].color;for(var d=[],m=0,g=u.length;g>m;m++)u[m].offset&&d.push(u[m].offset+p+u[m].color);r.colors=d.length?d.join():"0% "+r.color,"radial"==l?(r.type="gradientTitle",r.focus="100%",r.focussize="0 0",r.focusposition=h,r.angle=0):(r.type="gradient",r.angle=(270-c)%360),t.appendChild(r)}return 1},R=function(t,e){this[0]=this.node=t,t.raphael=!0,this.id=i._oid++,t.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=e,this.matrix=i.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!e.bottom&&(e.bottom=this),this.prev=e.top,e.top&&(e.top.next=this),e.top=this,this.next=null},A=i.el;R.prototype=A,A.constructor=R,A.transform=function(t){if(null==t)return this._.transform;var n,o=this.paper._viewBoxShift,s=o?"s"+[o.scale,o.scale]+"-1-1t"+[o.dx,o.dy]:f;o&&(n=t=e(t).replace(/\.{3}|\u2026/g,this._.transform||f)),i._extractTransform(this,s+t);var r,a=this.matrix.clone(),l=this.skew,h=this.node,c=~e(this.attrs.fill).indexOf("-"),u=!e(this.attrs.fill).indexOf("url(");if(a.translate(1,1),u||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",r=a.split(),c&&r.noRotation||!r.isSimple){h.style.filter=a.toFilter();var d=this.getBBox(),m=this.getBBox(1),g=d.x-m.x,v=d.y-m.y;h.coordorigin=g*-b+p+v*-b,S(this,1,1,g,v,0)}else h.style.filter=f,S(this,r.scalex,r.scaley,r.dx,r.dy,r.rotate);else h.style.filter=f,l.matrix=e(a),l.offset=a.offset();return n&&(this._.transform=n),this},A.rotate=function(t,i,o){if(this.removed)return this;if(null!=t){if(t=e(t).split(c),t.length-1&&(i=n(t[1]),o=n(t[2])),t=n(t[0]),null==o&&(i=o),null==i||null==o){var s=this.getBBox(1);i=s.x+s.width/2,o=s.y+s.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,i,o]])),this}},A.translate=function(t,i){return this.removed?this:(t=e(t).split(c),t.length-1&&(i=n(t[1])),t=n(t[0])||0,i=+i||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=i),this.transform(this._.transform.concat([["t",t,i]])),this)},A.scale=function(t,i,o,s){if(this.removed)return this;if(t=e(t).split(c),t.length-1&&(i=n(t[1]),o=n(t[2]),s=n(t[3]),isNaN(o)&&(o=null),isNaN(s)&&(s=null)),t=n(t[0]),null==i&&(i=t),null==s&&(o=s),null==o||null==s)var r=this.getBBox(1);return o=null==o?r.x+r.width/2:o,s=null==s?r.y+r.height/2:s,this.transform(this._.transform.concat([["s",t,i,o,s]])),this._.dirtyT=1,this},A.hide=function(){return!this.removed&&(this.node.style.display="none"),this},A.show=function(){return!this.removed&&(this.node.style.display=f),this},A._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},A.remove=function(){if(!this.removed&&this.node.parentNode){
this.paper.__set__&&this.paper.__set__.exclude(this),i.eve.unbind("raphael.*.*."+this.id),i._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;this.removed=!0}},A.attr=function(e,n){if(this.removed)return this;if(null==e){var o={};for(var s in this.attrs)this.attrs[t](s)&&(o[s]=this.attrs[s]);return o.gradient&&"none"==o.fill&&(o.fill=o.gradient)&&delete o.gradient,o.transform=this._.transform,o}if(null==n&&i.is(e,"string")){if(e==h&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var r=e.split(c),a={},l=0,d=r.length;d>l;l++)e=r[l],e in this.attrs?a[e]=this.attrs[e]:i.is(this.paper.customAttributes[e],"function")?a[e]=this.paper.customAttributes[e].def:a[e]=i._availableAttrs[e];return d-1?a:a[r[0]]}if(this.attrs&&null==n&&i.is(e,"array")){for(a={},l=0,d=e.length;d>l;l++)a[e[l]]=this.attr(e[l]);return a}var p;null!=n&&(p={},p[e]=n),null==n&&i.is(e,"object")&&(p=e);for(var f in p)u("raphael.attr."+f+"."+this.id,this,p[f]);if(p){for(f in this.paper.customAttributes)if(this.paper.customAttributes[t](f)&&p[t](f)&&i.is(this.paper.customAttributes[f],"function")){var m=this.paper.customAttributes[f].apply(this,[].concat(p[f]));this.attrs[f]=p[f];for(var g in m)m[t](g)&&(p[g]=m[g])}p.text&&"text"==this.type&&(this.textpath.string=p.text),D(this,p)}return this},A.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&i._tofront(this,this.paper),this},A.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),i._toback(this,this.paper)),this)},A.insertAfter=function(t){return this.removed?this:(t.constructor==i.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),i._insertafter(this,t,this.paper),this)},A.insertBefore=function(t){return this.removed?this:(t.constructor==i.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),i._insertbefore(this,t,this.paper),this)},A.blur=function(t){var e=this.node.runtimeStyle,n=e.filter;return n=n.replace(v,f),0!==+t?(this.attrs.blur=t,e.filter=n+p+d+".Blur(pixelradius="+(+t||1.5)+")",e.margin=i.format("-{0}px 0 0 -{0}px",s(+t||1.5))):(e.filter=n,e.margin=0,delete this.attrs.blur),this},i._engine.path=function(t,e){var i=M("shape");i.style.cssText=w,i.coordsize=b+p+b,i.coordorigin=e.coordorigin;var n=new R(i,e),o={fill:"none",stroke:"#000"};t&&(o.path=t),n.type="path",n.path=[],n.Path=f,D(n,o),e.canvas.appendChild(i);var s=M("skew");return s.on=!0,i.appendChild(s),n.skew=s,n.transform(f),n},i._engine.rect=function(t,e,n,o,s,r){var a=i._rectPath(e,n,o,s,r),l=t.path(a),h=l.attrs;return l.X=h.x=e,l.Y=h.y=n,l.W=h.width=o,l.H=h.height=s,h.r=r,h.path=a,l.type="rect",l},i._engine.ellipse=function(t,e,i,n,o){var s=t.path();s.attrs;return s.X=e-n,s.Y=i-o,s.W=2*n,s.H=2*o,s.type="ellipse",D(s,{cx:e,cy:i,rx:n,ry:o}),s},i._engine.circle=function(t,e,i,n){var o=t.path();o.attrs;return o.X=e-n,o.Y=i-n,o.W=o.H=2*n,o.type="circle",D(o,{cx:e,cy:i,r:n}),o},i._engine.image=function(t,e,n,o,s,r){var a=i._rectPath(n,o,s,r),l=t.path(a).attr({stroke:"none"}),c=l.attrs,u=l.node,d=u.getElementsByTagName(h)[0];return c.src=e,l.X=c.x=n,l.Y=c.y=o,l.W=c.width=s,l.H=c.height=r,c.path=a,l.type="image",d.parentNode==u&&u.removeChild(d),d.rotate=!0,d.src=e,d.type="tile",l._.fillpos=[n,o],l._.fillsize=[s,r],u.appendChild(d),S(l,1,1,0,0,0),l},i._engine.text=function(t,n,o,r){var a=M("shape"),l=M("path"),h=M("textpath");n=n||0,o=o||0,r=r||"",l.v=i.format("m{0},{1}l{2},{1}",s(n*b),s(o*b),s(n*b)+1),l.textpathok=!0,h.string=e(r),h.on=!0,a.style.cssText=w,a.coordsize=b+p+b,a.coordorigin="0 0";var c=new R(a,t),u={fill:"#000",stroke:"none",font:i._availableAttrs.font,text:r};c.shape=a,c.path=l,c.textpath=h,c.type="text",c.attrs.text=e(r),c.attrs.x=n,c.attrs.y=o,c.attrs.w=1,c.attrs.h=1,D(c,u),a.appendChild(h),a.appendChild(l),t.canvas.appendChild(a);var d=M("skew");return d.on=!0,a.appendChild(d),c.skew=d,c.transform(f),c},i._engine.setSize=function(t,e){var n=this.canvas.style;return this.width=t,this.height=e,t==+t&&(t+="px"),e==+e&&(e+="px"),n.width=t,n.height=e,n.clip="rect(0 "+t+" "+e+" 0)",this._viewBox&&i._engine.setViewBox.apply(this,this._viewBox),this},i._engine.setViewBox=function(t,e,n,o,s){i.eve("raphael.setViewBox",this,this._viewBox,[t,e,n,o,s]);var a,l,h=this.width,c=this.height,u=1/r(n/h,o/c);return s&&(a=c/o,l=h/n,h>n*a&&(t-=(h-n*a)/2/a),c>o*l&&(e-=(c-o*l)/2/l)),this._viewBox=[t,e,n,o,!!s],this._viewBoxShift={dx:-t,dy:-e,scale:u},this.forEach(function(t){t.transform("...")}),this};var M;i._engine.initWin=function(t){var e=t.document;e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),M=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(i){M=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},i._engine.initWin(i._g.win),i._engine.create=function(){var t=i._getContainer.apply(0,arguments),e=t.container,n=t.height,o=t.width,s=t.x,r=t.y;if(!e)throw new Error("VML container not found.");var a=new i._Paper,l=a.canvas=i._g.doc.createElement("div"),h=l.style;return s=s||0,r=r||0,o=o||512,n=n||342,a.width=o,a.height=n,o==+o&&(o+="px"),n==+n&&(n+="px"),a.coordsize=1e3*b+p+1e3*b,a.coordorigin="0 0",a.span=i._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),h.cssText=i.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",o,n),1==e?(i._g.doc.body.appendChild(l),h.left=s+"px",h.top=r+"px",h.position="absolute"):e.firstChild?e.insertBefore(l,e.firstChild):e.appendChild(l),a.renderfix=function(){},a},i.prototype.clear=function(){i.eve("raphael.clear",this),this.canvas.innerHTML=f,this.span=i._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},i.prototype.remove=function(){i.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]="function"==typeof this[t]?i._removedFactory(t):null;return!0};var P=i.st;for(var H in A)A[t](H)&&!P[t](H)&&(P[H]=function(t){return function(){var e=arguments;return this.forEach(function(i){i[t].apply(i,e)})}}(H))}}(),D.was?T.win.Raphael=i:Raphael=i,i}),/* @license
morris.js v0.5.1
Copyright 2014 Olly Smith All rights reserved.
Licensed under the BSD-2-Clause License.
*/
function(){var t,e,i,n,o=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},r={}.hasOwnProperty,a=function(t,e){function i(){this.constructor=t}for(var n in e)r.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};e=window.Morris={},t=jQuery,e.EventEmitter=function(){function t(){}return t.prototype.on=function(t,e){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this},t.prototype.fire=function(){var t,e,i,n,s,r,a;if(i=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[i]){for(r=this.handlers[i],a=[],n=0,s=r.length;s>n;n++)e=r[n],a.push(e.apply(null,t));return a}},t}(),e.commas=function(t){var e,i,n,o;return null!=t?(n=0>t?"-":"",e=Math.abs(t),i=Math.floor(e).toFixed(0),n+=i.replace(/(?=(?:\d{3})+$)(?!^)/g,","),o=e.toString(),o.length>i.length&&(n+=o.slice(i.length)),n):"-"},e.pad2=function(t){return(10>t?"0":"")+t},e.Grid=function(i){function n(e){this.hasToShow=s(this.hasToShow,this),this.resizeHandler=s(this.resizeHandler,this);var i=this;if("string"==typeof e.element?this.el=t(document.getElementById(e.element)):this.el=t(e.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=t.extend({},this.gridDefaults,this.defaults||{},e),"string"==typeof this.options.units&&(this.options.postUnits=e.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(t){var e,n,o,s,r;return n=i.el.offset(),r=t.pageX-n.left,i.selectFrom?(e=i.data[i.hitTest(Math.min(r,i.selectFrom))]._x,o=i.data[i.hitTest(Math.max(r,i.selectFrom))]._x,s=o-e,i.selectionRect.attr({x:e,width:s})):i.fire("hovermove",r,t.pageY-n.top)}),this.el.bind("mouseleave",function(t){return i.selectFrom&&(i.selectionRect.hide(),i.selectFrom=null),i.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(t){var e,n;return n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],e=i.el.offset(),i.fire("hovermove",n.pageX-e.left,n.pageY-e.top)}),this.el.bind("click",function(t){var e;return e=i.el.offset(),i.fire("gridclick",t.pageX-e.left,t.pageY-e.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(t){var e;return e=i.el.offset(),i.startRange(t.pageX-e.left)}),this.el.bind("mouseup",function(t){var e;return e=i.el.offset(),i.endRange(t.pageX-e.left),i.fire("hovermove",t.pageX-e.left,t.pageY-e.top)})),this.options.resize&&t(window).bind("resize",function(t){return null!=i.timeoutId&&window.clearTimeout(i.timeoutId),i.timeoutId=window.setTimeout(i.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return a(n,i),n.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",y2max:"auto",ymin:"auto 0",y2min:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1,yaxes:null},n.prototype.setData=function(i,n){var o,s,r,a,l,h,c,u,d,p,f,m,g,v,y,w,b,C,_,x,k;if(null==n&&(n=!0),this.options.data=i,null==i||0===i.length)return this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide());if(y={y:this.cumulative?0:null,y2:this.cumulative?0:null},w={y:this.cumulative?0:null,y2:this.cumulative?0:null},this.options.goals.length>0&&(c=Math.min.apply(Math,this.options.goals),h=Math.max.apply(Math,this.options.goals),w.y=null!=w.y?Math.min(w.y,c):c,y.y=null!=y.y?Math.max(y.y,h):h),this.data=function(){var t,n,o;for(o=[],l=t=0,n=i.length;n>t;l=++t)d=i[l],u={src:d},u.label=d[this.options.xkey],this.options.parseTime?(u.x=e.parseDate(u.label),this.options.dateFormat?u.label=this.options.dateFormat(u.x):"number"==typeof u.label&&(u.label=new Date(u.label).toString())):(u.x=l,this.options.xLabelFormat&&(u.label=this.options.xLabelFormat(u))),m={y:0,y2:0},u.y=function(){var t,e,i,n;for(i=this.options.ykeys,n=[],a=t=0,e=i.length;e>t;a=++t){v=i[a],b=d[v],"string"==typeof b&&(b=parseFloat(b)),null!=b&&"number"!=typeof b&&(b=null);var o=this.yAxe(t);null!=b&&this.hasToShow(a)&&(this.cumulative?m[o]+=b:null!=y[o]?(y[o]=Math.max(b,y[o]),w[o]=Math.min(b,w[o])):y[o]=w[o]=b),this.cumulative&&null!=m&&(y.y=Math.max(m,y.y),w.y=Math.min(m,w.y),y.y2=Math.max(m,y.y2),w.y2=Math.min(m,w.y2)),n.push(b)}return n}.call(this),o.push(u);return o}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(t,e){return(t.x>e.x)-(e.x>t.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0){if(this.options.parseTime)for(x=this.options.events,C=0,_=x.length;_>C;C++)o=x[C],o instanceof Array?(r=o[0],f=o[1],this.events.push([e.parseDate(r),e.parseDate(f)])):this.events.push(e.parseDate(o));else this.events=this.options.events;s=t.map(this.events,function(t){return t}),this.xmax=Math.max(this.xmax,Math.max.apply(Math,s)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,s))}return this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min","y",w.y),this.ymax=this.yboundary("max","y",y.y),this.ymin===this.ymax&&(w.y&&(this.ymin-=1),this.ymax+=1),this.y2min=this.yboundary("min","y2",w.y2),this.y2max=this.yboundary("max","y2",y.y2),this.y2min===this.y2max&&(w.y2&&(this.y2min-=1),this.y2max+=1),((k=this.options.axes)===!0||"both"===k||"y"===k||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1]),this.grid2=this.autoGridLines(this.y2min,this.y2max,this.options.numLines),this.y2min=Math.min(this.y2min,this.grid2[0]),this.y2max=Math.max(this.y2max,this.grid2[this.grid2.length-1])):(p=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var t,e,i,n;for(n=[],g=t=e=this.ymin,i=this.ymax;p>0?i>=t:t>=i;g=t+=p)n.push(g);return n}.call(this),p=(this.y2max-this.y2min)/(this.options.numLines-1),this.grid2=function(){var t,e,i,n;for(n=[],g=t=e=this.y2min,i=this.y2max;p>0?i>=t:t>=i;g=t+=p)n.push(g);return n}.call(this))),this.dirty=!0,n?this.redraw():void 0},n.prototype.yboundary=function(t,e,i){var n,o;return n=this.options[e+t],"string"==typeof n?"auto"===n.slice(0,4)?n.length>5?(o=parseInt(n.slice(5),10),null==i?o:Math[t](i,o)):null!=i?i:0:parseInt(n,10):n},n.prototype.autoGridLines=function(t,e,i){var n,o,s,r,a,l,h,c,u;return a=e-t,u=Math.floor(Math.log(a)/Math.log(10)),h=Math.pow(10,u),o=Math.floor(t/h)*h,n=Math.ceil(e/h)*h,l=(n-o)/(i-1),1===h&&l>1&&Math.ceil(l)!==l&&(l=Math.ceil(l),n=o+l*(i-1)),0>o&&n>0&&(o=Math.floor(t/l)*l,n=Math.ceil(e/l)*l),1>l?(r=Math.floor(Math.log(l)/Math.log(10)),s=function(){var t,e;for(e=[],c=t=o;l>0?n>=t:t>=n;c=t+=l)e.push(parseFloat(c.toFixed(1-r)));return e}()):s=function(){var t,e;for(e=[],c=t=o;l>0?n>=t:t>=n;c=t+=l)e.push(c);return e}(),s},n.prototype._calc=function(){var t,e,i,n,o,s,r,a,l,h,c=0;return s=this.el.width(),n=this.el.height(),(this.elementWidth!==s||this.elementHeight!==n||this.dirty)&&(this.elementWidth=s,this.elementHeight=n,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((a=this.options.axes)===!0||"both"===a||"y"===a)&&(r=function(){var t,e,n,o;for(n=this.grid,o=[],t=0,e=n.length;e>t;t++)i=n[t],o.push(this.measureText(this.yAxisFormat(i)).width);return o}.call(this),h=this.options.yaxes&&this.options.yaxes.indexOf("y2"),h>0&&(c=function(){var t,e,n,o,s;for(n=this.grid2,o=[],s=this.options.yaxes.indexOf("y2"),0>s&&(s=0),t=0,e=n.length;e>t;t++)i=n[t],o.push(this.measureText(this.yAxisFormat(i,s)).width);return o}.call(this)),this.options.horizontal?(this.bottom-=Math.max.apply(Math,r),h>0&&(this.top+=Math.max.apply(Math,c))):(this.left+=Math.max.apply(Math,r),h>0&&(this.right-=Math.max.apply(Math,c)))),((l=this.options.axes)===!0||"both"===l||"x"===l)&&(t=this.options.horizontal?-90:-this.options.xLabelAngle,e=function(){var e,i,n;for(n=[],o=e=0,i=this.data.length;i>=0?i>e:e>i;o=i>=0?++e:--e)n.push(this.measureText(this.data[o].label,t).height);return n}.call(this),this.options.horizontal?this.left+=Math.max.apply(Math,e):this.bottom-=Math.max.apply(Math,e)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.options.horizontal?(this.dx=this.height/(this.xmax-this.xmin),this.dy=this.width/(this.ymax-this.ymin),this.dy2=this.width/(this.y2max-this.y2min),this.yStart=this.left,this.yEnd=this.right,this.xStart=this.top,this.xEnd=this.bottom,this.xSize=this.height,this.ySize=this.width):(this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.dy2=this.height/(this.y2max-this.y2min),this.yStart=this.bottom,this.yEnd=this.top,this.xStart=this.left,this.xEnd=this.right,this.xSize=this.width,this.ySize=this.height),this.calc)?this.calc():void 0},n.prototype.yAxe=function(t){var e="y";return t>0&&this.options.yaxes&&"y2"==this.options.yaxes[t]&&(e="y2"),e},n.prototype.transY=function(t,e){void 0===e&&(e=-1);var i=this.yAxe(e);return this.options.horizontal?this.left+(t-this[i+"min"])*this["d"+i]:this.bottom-(t-this[i+"min"])*this["d"+i]},n.prototype.transX=function(t){return 1===this.data.length?(this.xStart+this.xEnd)/2:this.xStart+(t-this.xmin)*this.dx},n.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},n.prototype.measureText=function(t,e){var i,n;return null==e&&(e=0),n=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e),i=n.getBBox(),n.remove(),i},n.prototype.yAxisFormat=function(t,e){return"undefined"===e&&(e=0),this.yLabelFormat(t,e)},n.prototype.yLabelFormat=function(t,i){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t,i):""+this.options.preUnits+e.commas(t)+this.options.postUnits},n.prototype.getYAxisLabelX=function(){return this.left-this.options.padding/2},n.prototype.getY2AxisLabelX=function(){return this.right+this.options.padding/2},n.prototype.drawGrid=function(){var t,e,i,n,o,s,r,a,l,h,c,u,d;if(this.options.grid!==!1||(a=this.options.axes)===!0||"both"===a||"y"===a){for(this.options.horizontal?(t=this.getXAxisLabelY(),e=this.getX2AxisLabelY()):(t=this.getYAxisLabelX(),e=this.getY2AxisLabelX()),l=this.grid,h=this.grid2,d=[],u=-1,this.options.yaxes&&(u=this.options.yaxes.indexOf("y2")),0>u&&(u=0),s=0,r=l.length;r>s;s++)i=l[s],n=h[s],o=this.transY(i),((c=this.options.axes)===!0||"both"===c||"y"===c)&&(this.options.horizontal?(this.drawXAxisLabel(o,t,this.yAxisFormat(i)),this.drawXAxisLabel(o,e,this.yAxisFormat(n,u),"start")):(this.drawYAxisLabel(t,o,this.yAxisFormat(i)),this.drawYAxisLabel(e,o,this.yAxisFormat(n,u),"start"))),this.options.grid?(o=Math.floor(o)+.5,this.options.horizontal?d.push(this.drawGridLine("M"+o+","+this.xStart+"V"+this.xEnd)):d.push(this.drawGridLine("M"+this.xStart+","+o+"H"+this.xEnd))):d.push(void 0);return d}},n.prototype.drawGoals=function(){var t,e,i,n,o,s,r;for(s=this.options.goals,r=[],i=n=0,o=s.length;o>n;i=++n)e=s[i],t=this.options.goalLineColors[i%this.options.goalLineColors.length],r.push(this.drawGoal(e,t));return r},n.prototype.drawEvents=function(){var t,e,i,n,o,s,r;for(s=this.events,r=[],i=n=0,o=s.length;o>n;i=++n)e=s[i],t=this.options.eventLineColors[i%this.options.eventLineColors.length],r.push(this.drawEvent(e,t));return r},n.prototype.drawGoal=function(t,e){var i,n;return n=Math.floor(this.transY(t))+.5,i=this.options.horizontal?"M"+n+","+this.xStart+"V"+this.xEnd:"M"+this.xStart+","+n+"H"+this.xEnd,this.raphael.path(i).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)},n.prototype.drawEvent=function(t,e){var i,n,o,s;return t instanceof Array?(i=t[0],o=t[1],i=Math.floor(this.transX(i))+.5,o=Math.floor(this.transX(o))+.5,this.options.horizontal?this.raphael.rect(this.yStart,i,this.yEnd-this.yStart,o-i).attr({fill:e,stroke:!1}).toBack():this.raphael.rect(i,this.yEnd,o-i,this.yStart-this.yEnd).attr({fill:e,stroke:!1}).toBack()):(s=Math.floor(this.transX(t))+.5,n=this.options.horizontal?"M"+this.yStart+","+s+"H"+this.yEnd:"M"+s+","+this.yStart+"V"+this.yEnd,this.raphael.path(n).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth))},n.prototype.drawYAxisLabel=function(t,e,i,n){return void 0===n&&(n="end"),this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor",n)},n.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},n.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},n.prototype.endRange=function(t){var e,i;return this.selectFrom?(i=Math.min(this.selectFrom,t),e=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(e)].x}),this.selectFrom=null):void 0},n.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},n.prototype.hasToShow=function(t){return this.options.shown===!0||this.options.shown[t]===!0},n}(e.EventEmitter),e.parseDate=function(t){var e,i,n,o,s,r,a,l,h,c,u;return"number"==typeof t?t:(i=t.match(/^(\d+) Q(\d)$/),o=t.match(/^(\d+)-(\d+)$/),s=t.match(/^(\d+)-(\d+)-(\d+)$/),a=t.match(/^(\d+) W(\d+)$/),l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),h=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),i?new Date(parseInt(i[1],10),3*parseInt(i[2],10)-1,1).getTime():o?new Date(parseInt(o[1],10),parseInt(o[2],10)-1,1).getTime():s?new Date(parseInt(s[1],10),parseInt(s[2],10)-1,parseInt(s[3],10)).getTime():a?(c=new Date(parseInt(a[1],10),0,1),4!==c.getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7),c.getTime()+6048e5*parseInt(a[2],10)):l?l[6]?(r=0,"Z"!==l[6]&&(r=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(r=0-r)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+r)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():h?(u=parseFloat(h[6]),e=Math.floor(u),n=Math.round(1e3*(u-e)),h[8]?(r=0,"Z"!==h[8]&&(r=60*parseInt(h[10],10)+parseInt(h[11],10),"+"===h[9]&&(r=0-r)),Date.UTC(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10)+r,e,n)):new Date(parseInt(h[1],10),parseInt(h[2],10)-1,parseInt(h[3],10),parseInt(h[4],10),parseInt(h[5],10),e,n).getTime()):new Date(parseInt(t,10),0,1).getTime())},e.Hover=function(){function i(i){null==i&&(i={}),this.options=t.extend({},e.Hover.defaults,i),this.el=t("<div class='"+this.options["class"]+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return i.defaults={"class":"morris-hover morris-default-style"},i.prototype.update=function(t,e,i,n){return t?(this.html(t),this.show(),this.moveTo(e,i,n)):this.hide()},i.prototype.html=function(t){return this.el.html(t)},i.prototype.moveTo=function(t,e,i){var n,o,s,r,a,l;return a=this.options.parent.innerWidth(),r=this.options.parent.innerHeight(),o=this.el.outerWidth(),n=this.el.outerHeight(),s=Math.min(Math.max(0,t-o/2),a-o),null!=e?i===!0?(l=e-n/2,0>l&&(l=0)):(l=e-n-10,0>l&&(l=e+10,l+n>r&&(l=r/2-n/2))):l=r/2-n/2,this.el.css({left:s+"px",top:parseInt(l)+"px"})},i.prototype.show=function(){return this.el.show()},i.prototype.hide=function(){return this.el.hide()},i}(),e.Line=function(i){function n(t){return this.hilight=s(this.hilight,this),this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),this instanceof e.Line?void n.__super__.constructor.call(this,t):new e.Line(t)}return a(n,i),n.prototype.init=function(){return"always"!==this.options.hideHover?(this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},n.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,shown:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1,trendLine:!1,trendLineWidth:2,trendLineColors:["#689bc3","#a2b3bf","#64b764"]},n.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},n.prototype.calcPoints=function(){var t,e,i,n,o,s;for(o=this.data,s=[],i=0,n=o.length;n>i;i++)t=o[i],t._x=this.transX(t.x),t._y=function(){var i,n,o,s;for(o=t.y,s=[],i=0,n=o.length;n>i;i++)e=o[i],null!=e?s.push(this.transY(e,i)):s.push(e);return s}.call(this),s.push(t._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var i,n,o,s;for(o=t._y,s=[],i=0,n=o.length;n>i;i++)e=o[i],null!=e&&s.push(e);return s}())));return s},n.prototype.hitTest=function(t){var e,i,n,o,s;if(0===this.data.length)return null;for(s=this.data.slice(1),e=n=0,o=s.length;o>n&&(i=s[e],!(t<(i._x+this.data[e]._x)/2));e=++n);return e},n.prototype.onGridClick=function(t,e){var i;return i=this.hitTest(t),this.fire("click",i,this.data[i].src,t,e)},n.prototype.onHoverMove=function(t,e){var i;return i=this.hitTest(t),this.displayHoverForRow(i)},n.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.displayHoverForRow(null):void 0},n.prototype.displayHoverForRow=function(t){var e;return null!=t?((e=this.hover).update.apply(e,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},n.prototype.hoverContentForRow=function(e){var i,n,o,s,r,a,l;for(o=this.data[e],i=t("<div class='morris-hover-row-label'>").text(o.label),i=i.prop("outerHTML"),l=o.y,n=r=0,a=l.length;a>r;n=++r)s=l[n],this.options.labels[n]!==!1&&(i+="<div class='morris-hover-point' style='color: "+this.colorFor(o,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(s,n)+"\n</div>");return"function"==typeof this.options.hoverCallback&&(i=this.options.hoverCallback(e,this.options,i,o.src)),[i,o._x,o._ymax]},n.prototype.generatePaths=function(){var t,i,n,o;return this.paths=function(){var s,r,a,h;for(h=[],i=s=0,r=this.options.ykeys.length;r>=0?r>s:s>r;i=r>=0?++s:--s)o="boolean"==typeof this.options.smooth?this.options.smooth:(a=this.options.ykeys[i],l.call(this.options.smooth,a)>=0),t=function(){var t,e,o,s;for(o=this.data,s=[],t=0,e=o.length;e>t;t++)n=o[t],void 0!==n._y[i]&&s.push({x:n._x,y:n._y[i]});return s}.call(this),t=function(){var e,i,n;for(n=[],e=0,i=t.length;i>e;e++)c=t[e],null!==c.y&&n.push(c);return n}(),t.length>1?h.push(e.Line.createPath(t,o,this.bottom)):h.push(null);return h}.call(this)},n.prototype.draw=function(){var t;return((t=this.options.axes)===!0||"both"===t||"x"===t)&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},n.prototype.drawXAxis=function(){var t,i,n,o,s,r,a,l,h,c,u=this;for(a=this.bottom+this.options.padding/2,s=null,o=null,t=function(t,e){var i,n,r,l,h;return i=u.drawXAxisLabel(u.transX(e),a,t),h=i.getBBox(),i.transform("r"+-u.options.xLabelAngle),n=i.getBBox(),i.transform("t0,"+n.height/2+"..."),0!==u.options.xLabelAngle&&(l=-.5*h.width*Math.cos(u.options.xLabelAngle*Math.PI/180),i.transform("t"+l+",0...")),n=i.getBBox(),(null==s||s>=n.x+n.width||null!=o&&o>=n.x)&&n.x>=0&&n.x+n.width<u.el.width()?(0!==u.options.xLabelAngle&&(r=1.25*u.options.gridTextSize/Math.sin(u.options.xLabelAngle*Math.PI/180),o=n.x-r),s=n.x-u.options.xLabelMargin):i.remove()},n=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:e.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var t,e,i,n;for(i=this.data,n=[],t=0,e=i.length;e>t;t++)r=i[t],n.push([r.label,r.x]);return n}.call(this),n.reverse(),c=[],l=0,h=n.length;h>l;l++)i=n[l],c.push(t(i[0],i[1]));return c},n.prototype.drawSeries=function(){var t,e,i,n,o,s;for(this.seriesPoints=[],t=e=n=this.options.ykeys.length-1;0>=n?0>=e:e>=0;t=0>=n?++e:--e)this.hasToShow(t)&&((this.options.trendLine!==!1&&this.options.trendLine===!0||this.options.trendLine[t]===!0)&&this._drawTrendLine(t),this._drawLineFor(t));for(s=[],t=i=o=this.options.ykeys.length-1;0>=o?0>=i:i>=0;t=0>=o?++i:--i)this.hasToShow(t)?s.push(this._drawPointFor(t)):s.push(void 0);return s},n.prototype._drawPointFor=function(t){var e,i,n,o,s,r;for(this.seriesPoints[t]=[],s=this.data,r=[],n=0,o=s.length;o>n;n++)i=s[n],e=null,null!=i._y[t]&&(e=this.drawLinePoint(i._x,i._y[t],this.colorFor(i,t,"point"),t)),r.push(this.seriesPoints[t].push(e));return r},n.prototype._drawLineFor=function(t){var e;return e=this.paths[t],null!==e?this.drawLinePath(e,this.colorFor(null,t,"line"),t):void 0},n.prototype._drawTrendLine=function(t){var i,n,o,s,r,a,l,h,c,u,d,p,f,m,g;for(a=0,c=0,l=0,h=0,s=0,g=this.data,f=0,m=g.length;m>f;f++)u=g[f],d=u.x,p=u.y[t],void 0!==p&&(s+=1,a+=d,c+=p,l+=d*d,h+=d*p);return i=(s*h-a*c)/(s*l-a*a),n=c/s-i*a/s,o=[{},{}],o[0].x=this.transX(this.data[0].x),o[0].y=this.transY(this.data[0].x*i+n),o[1].x=this.transX(this.data[this.data.length-1].x),o[1].y=this.transY(this.data[this.data.length-1].x*i+n),r=e.Line.createPath(o,!1,this.bottom),r=this.raphael.path(r).attr("stroke",this.colorFor(null,t,"trendLine")).attr("stroke-width",this.options.trendLineWidth)},n.createPath=function(t,i,n){var o,s,r,a,l,h,c,u,d,p,f,m,g,v;for(c="",i&&(r=e.Line.gradients(t)),u={y:null},a=g=0,v=t.length;v>g;a=++g)o=t[a],null!=o.y&&(null!=u.y?i?(s=r[a],h=r[a-1],l=(o.x-u.x)/4,d=u.x+l,f=Math.min(n,u.y+l*h),p=o.x-l,m=Math.min(n,o.y-l*s),c+="C"+d+","+f+","+p+","+m+","+o.x+","+o.y):c+="L"+o.x+","+o.y:i&&null==r[a]||(c+="M"+o.x+","+o.y)),u=o;return c},n.gradients=function(t){var e,i,n,o,s,r,a,l;for(i=function(t,e){return(t.y-e.y)/(t.x-e.x)},l=[],n=r=0,a=t.length;a>r;n=++r)e=t[n],null!=e.y?(o=t[n+1]||{y:null},s=t[n-1]||{y:null},null!=s.y&&null!=o.y?l.push(i(s,o)):null!=s.y?l.push(i(s,e)):null!=o.y?l.push(i(e,o)):l.push(null)):l.push(null);return l},n.prototype.hilight=function(t){var e,i,n,o,s;if(null!==this.prevHilight&&this.prevHilight!==t)for(e=i=0,o=this.seriesPoints.length-1;o>=0?o>=i:i>=o;e=o>=0?++i:--i)this.seriesPoints[e][this.prevHilight]&&this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));if(null!==t&&this.prevHilight!==t)for(e=n=0,s=this.seriesPoints.length-1;s>=0?s>=n:n>=s;e=s>=0?++n:--n)this.seriesPoints[e][t]&&this.seriesPoints[e][t].animate(this.pointGrowSeries(e));return this.prevHilight=t},n.prototype.colorFor=function(t,e,i){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,e,i):"point"===i?this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]:"line"===i?this.options.lineColors[e%this.options.lineColors.length]:this.options.trendLineColors[e%this.options.trendLineColors.length]},n.prototype.drawXAxisLabel=function(t,e,i){return this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawLinePath=function(t,e,i){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(i)).attr("stroke-dasharray",this.dashArrayForSeries(i))},n.prototype.drawLinePoint=function(t,e,i,n){return this.raphael.circle(t,e,this.pointSizeForSeries(n)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(n)).attr("stroke",this.pointStrokeColorForSeries(n))},n.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},n.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},n.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},n.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},n.prototype.dashArrayForSeries=function(t){return this.options.dashArrays instanceof Array?this.options.dashArrays[t%this.options.dashArrays.length]:(this.options.dashArrays||(this.options.dashArrays=""),this.options.dashArrays)},n.prototype.pointGrowSeries=function(t){return 0!==this.pointSizeForSeries(t)?Raphael.animation({r:this.pointSizeForSeries(t)+3},25,"linear"):void 0},n.prototype.pointShrinkSeries=function(t){return Raphael.animation({r:this.pointSizeForSeries(t)},25,"linear")},n}(e.Grid),e.labelSeries=function(i,n,o,s,r){var a,l,h,c,u,d,p,f,m,g,v;if(h=200*(n-i)/o,l=new Date(i),p=e.LABEL_SPECS[s],void 0===p)for(v=e.AUTO_LABEL_ORDER,m=0,g=v.length;g>m;m++)if(c=v[m],d=e.LABEL_SPECS[c],h>=d.span){p=d;break}for(void 0===p&&(p=e.LABEL_SPECS.second),r&&(p=t.extend({},p,{fmt:r})),a=p.start(l),u=[];(f=a.getTime())<=n;)f>=i&&u.push([p.fmt(a),f]),p.incr(a);return u},i=function(t){return{span:60*t*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return""+e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())},incr:function(e){return e.setUTCMinutes(e.getUTCMinutes()+t)}}},n=function(t){return{span:1e3*t,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return""+e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())+":"+e.pad2(t.getSeconds())},incr:function(e){return e.setUTCSeconds(e.getUTCSeconds()+t)}}},e.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return""+t.getFullYear()+"-"+e.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:i(60),"30min":i(30),"15min":i(15),"10min":i(10),"5min":i(5),minute:i(1),"30sec":n(30),"15sec":n(15),"10sec":n(10),"5sec":n(5),second:n(1)},e.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],e.Area=function(i){function n(i){var s;return this instanceof e.Area?(s=t.extend({},o,i),this.cumulative=!s.behaveLikeLine,"auto"===s.fillOpacity&&(s.fillOpacity=s.behaveLikeLine?.8:1),void n.__super__.constructor.call(this,s)):new e.Area(i)}var o;return a(n,i),o={fillOpacity:"auto",behaveLikeLine:!1},n.prototype.calcPoints=function(){var t,e,i,n,o,s,r;for(s=this.data,r=[],n=0,o=s.length;o>n;n++)t=s[n],t._x=this.transX(t.x),e=0,t._y=function(){var n,o,s,r;for(s=t.y,r=[],n=0,o=s.length;o>n;n++)i=s[n],this.options.behaveLikeLine?r.push(this.transY(i)):(e+=i||0,r.push(this.transY(e)));return r}.call(this),r.push(t._ymax=Math.max.apply(Math,t._y));return r},n.prototype.drawSeries=function(){var t,e,i,n,o,s,r,a;for(this.seriesPoints=[],e=this.options.behaveLikeLine?function(){s=[];for(var t=0,e=this.options.ykeys.length-1;e>=0?e>=t:t>=e;e>=0?t++:t--)s.push(t);return s}.apply(this):function(){r=[];for(var t=o=this.options.ykeys.length-1;0>=o?0>=t:t>=0;0>=o?t++:t--)r.push(t);return r}.apply(this),a=[],i=0,n=e.length;n>i;i++)t=e[i],this._drawFillFor(t),this._drawLineFor(t),a.push(this._drawPointFor(t));return a},n.prototype._drawFillFor=function(t){var e;return e=this.paths[t],null!==e?(e+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(e,this.fillForSeries(t))):void 0},n.prototype.fillForSeries=function(t){var e;return e=Raphael.rgb2hsl(this.colorFor(this.data[t],t,"line")),Raphael.hsl(e.h,this.options.behaveLikeLine?.9*e.s:.75*e.s,Math.min(.98,this.options.behaveLikeLine?1.2*e.l:1.25*e.l))},n.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},n}(e.Line),e.Bar=function(i){function n(i){return this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),this instanceof e.Bar?void n.__super__.constructor.call(this,t.extend({},i,{parseTime:!1})):new e.Bar(i)}return a(n,i),n.prototype.init=function(){return this.cumulative=this.options.stacked,"always"!==this.options.hideHover?(this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},n.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50,horizontal:!1,shown:!0},n.prototype.calc=function(){var t;return this.calcBars(),this.options.hideHover===!1?(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1)):void 0},n.prototype.calcBars=function(){var t,e,i,n,o,s,r;for(s=this.data,r=[],t=n=0,o=s.length;o>n;t=++n)e=s[t],e._x=this.xStart+this.xSize*(t+.5)/this.data.length,r.push(e._y=function(){var t,n,o,s;for(o=e.y,s=[],t=0,n=o.length;n>t;t++)i=o[t],null!=i?s.push(this.transY(i)):s.push(null);return s}.call(this));return r},n.prototype.draw=function(){var t;return((t=this.options.axes)===!0||"both"===t||"x"===t)&&this.drawXAxis(),this.drawSeries()},n.prototype.drawXAxis=function(){var t,e,i,n,o,s,r,a,l,h,c,u,d,p,f,m,g;for(e=this.options.horizontal?this.getYAxisLabelX():this.getXAxisLabelY(),h=null,l=null,g=[],i=f=0,m=this.data.length;m>=0?m>f:f>m;i=m>=0?++f:--f)c=this.data[this.data.length-1-i],n=this.options.horizontal?this.drawYAxisLabel(e,c._x-.5*this.options.gridTextSize,c.label):this.drawXAxisLabel(c._x,e,c.label),t=this.options.horizontal?0:this.options.xLabelAngle,p=n.getBBox(),n.transform("r"+-t),o=n.getBBox(),n.transform("t0,"+o.height/2+"..."),0!==t&&(a=-.5*p.width*Math.cos(t*Math.PI/180),n.transform("t"+a+",0...")),this.options.horizontal?(d=o.y,u=o.height,r=this.el.height()):(d=o.x,u=o.width,r=this.el.width()),(null==h||h>=d+u||null!=l&&l>=d)&&d>=0&&r>d+u?(0!==t&&(s=1.25*this.options.gridTextSize/Math.sin(t*Math.PI/180),l=d-s),this.options.horizontal?g.push(h=d):g.push(h=d-this.options.xLabelMargin)):g.push(n.remove());return g},n.prototype.getXAxisLabelY=function(){return this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2)},n.prototype.getX2AxisLabelY=function(){return this.top-(this.options.xAxisLabelTopPadding||this.options.padding/2)},n.prototype.drawSeries=function(){var t,e,i,n,o,s,r,a,l,h,c,u,d,p,f,m,g,v;if(i=this.xSize/this.options.data.length,this.options.stacked)l=1;else for(l=0,n=g=0,v=this.options.ykeys.length-1;v>=0?v>=g:g>=v;n=v>=0?++g:--g)this.hasToShow(n)&&(l+=1);return t=(i*this.options.barSizeRatio-this.options.barGap*(l-1))/l,this.options.barSize&&(t=Math.min(t,this.options.barSize)),
d=i-t*l-this.options.barGap*(l-1),a=d/2,m=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var n,l,d,g;for(d=this.data,g=[],o=n=0,l=d.length;l>n;o=++n)h=d[o],s=0,g.push(function(){var n,l,d,g;for(d=h._y,g=[],c=n=0,l=d.length;l>n;c=++n)f=d[c],this.hasToShow(c)&&(null!==f?(m?(p=Math.min(f,m),e=Math.max(f,m)):(p=f,e=this.bottom),r=this.xStart+o*i+a,this.options.stacked||(r+=c*(t+this.options.barGap)),u=e-p,this.options.verticalGridCondition&&this.options.verticalGridCondition(h.x)&&(this.options.horizontal?this.drawBar(this.yStart,this.xStart+o*i,this.ySize,i,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius):this.drawBar(this.xStart+o*i,this.yEnd,i,this.ySize,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius)),this.options.stacked&&(p-=s),this.options.horizontal?(this.drawBar(p,r,u,t,this.colorFor(h,c,"bar"),this.options.barOpacity,this.options.barRadius),g.push(s-=u)):(this.drawBar(r,p,t,u,this.colorFor(h,c,"bar"),this.options.barOpacity,this.options.barRadius),g.push(s+=u))):g.push(null));return g}.call(this));return g}.call(this)},n.prototype.colorFor=function(t,e,i){var n,o;return"function"==typeof this.options.barColors?(n={x:t.x,y:t.y[e],label:t.label},o={index:e,key:this.options.ykeys[e],label:this.options.labels[e]},this.options.barColors.call(this,n,o,i)):this.options.barColors[e%this.options.barColors.length]},n.prototype.hitTest=function(t,e){var i;return 0===this.data.length?null:(i=this.options.horizontal?e:t,i=Math.max(Math.min(i,this.xEnd),this.xStart),Math.min(this.data.length-1,Math.floor((i-this.xStart)/(this.xSize/this.data.length))))},n.prototype.onGridClick=function(t,e){var i;return i=this.hitTest(t,e),this.fire("click",i,this.data[i].src,t,e)},n.prototype.onHoverMove=function(t,e){var i,n;return i=this.hitTest(t,e),(n=this.hover).update.apply(n,this.hoverContentForRow(i))},n.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.hover.hide():void 0},n.prototype.hoverContentForRow=function(e){var i,n,o,s,r,a,l,h;for(o=this.data[e],i=t("<div class='morris-hover-row-label'>").text(o.label),i=i.prop("outerHTML"),h=o.y,n=a=0,l=h.length;l>a;n=++a)r=h[n],this.options.labels[n]!==!1&&(i+="<div class='morris-hover-point' style='color: "+this.colorFor(o,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(r,n)+"\n</div>");return"function"==typeof this.options.hoverCallback&&(i=this.options.hoverCallback(e,this.options,i,o.src)),this.options.horizontal?(s=this.left+.5*this.width,r=this.top+(e+.5)*this.height/this.data.length,[i,s,r,!0]):(s=this.left+(e+.5)*this.width/this.data.length,[i,s])},n.prototype.drawXAxisLabel=function(t,e,i){var n;return n=this.raphael.text(t,e,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawBar=function(t,e,i,n,o,s,r){var a,l;return a=Math.max.apply(Math,r),l=0===a||a>n?this.raphael.rect(t,e,i,n):this.raphael.path(this.roundedRect(t,e,i,n,r)),l.attr("fill",o).attr("fill-opacity",s).attr("stroke","none")},n.prototype.roundedRect=function(t,e,i,n,o){return null==o&&(o=[0,0,0,0]),["M",t,o[0]+e,"Q",t,e,t+o[0],e,"L",t+i-o[1],e,"Q",t+i,e,t+i,e+o[1],"L",t+i,e+n-o[2],"Q",t+i,e+n,t+i-o[2],e+n,"L",t+o[3],e+n,"Q",t,e+n,t,e+n-o[3],"Z"]},n}(e.Grid),e.Donut=function(i){function n(i){this.resizeHandler=s(this.resizeHandler,this),this.select=s(this.select,this),this.click=s(this.click,this);var n=this;if(!(this instanceof e.Donut))return new e.Donut(i);if(this.options=t.extend({},this.defaults,i),"string"==typeof i.element?this.el=t(document.getElementById(i.element)):this.el=t(i.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==i.data&&0!==i.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&t(window).bind("resize",function(t){return null!=n.timeoutId&&window.clearTimeout(n.timeoutId),n.timeoutId=window.setTimeout(n.resizeHandler,100)}),this.setData(i.data))}return a(n,i),n.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:e.commas,resize:!1},n.prototype.redraw=function(){var t,i,n,o,s,r,a,l,h,c,u,d,p,f,m,g,v,y,w,b,C,_,x;for(this.raphael.clear(),i=this.el.width()/2,n=this.el.height()/2,p=(Math.min(i,n)-10)/3,u=0,b=this.values,f=0,v=b.length;v>f;f++)d=b[f],u+=d;for(l=5/(2*p),t=1.9999*Math.PI-l*this.data.length,r=0,s=0,this.segments=[],C=this.values,o=m=0,y=C.length;y>m;o=++m)d=C[o],h=r+l+t*(d/u),c=new e.DonutSegment(i,n,2*p,p,r,h,this.data[o].color||this.options.colors[s%this.options.colors.length],this.options.backgroundColor,s,this.raphael),c.render(),this.segments.push(c),c.on("hover",this.select),c.on("click",this.click),r=h,s+=1;for(this.text1=this.drawEmptyDonutLabel(i,n-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(i,n+10,this.options.labelColor,14),a=Math.max.apply(Math,this.values),s=0,_=this.values,x=[],g=0,w=_.length;w>g;g++){if(d=_[g],d===a){this.select(s);break}x.push(s+=1)}return x},n.prototype.setData=function(t){var e;return this.data=t,this.values=function(){var t,i,n,o;for(n=this.data,o=[],t=0,i=n.length;i>t;t++)e=n[t],o.push(parseFloat(e.value));return o}.call(this),this.redraw()},n.prototype.click=function(t){return this.fire("click",t,this.data[t])},n.prototype.select=function(t){var e,i,n,o,s,r;for(r=this.segments,o=0,s=r.length;s>o;o++)i=r[o],i.deselect();return n=this.segments[t],n.select(),e=this.data[t],this.setLabels(e.label,this.options.formatter(e.value,e))},n.prototype.setLabels=function(t,e){var i,n,o,s,r,a,l,h;return i=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,s=1.8*i,o=i/2,n=i/3,this.text1.attr({text:t,transform:""}),r=this.text1.getBBox(),a=Math.min(s/r.width,o/r.height),this.text1.attr({transform:"S"+a+","+a+","+(r.x+r.width/2)+","+(r.y+r.height)}),this.text2.attr({text:e,transform:""}),l=this.text2.getBBox(),h=Math.min(s/l.width,n/l.height),this.text2.attr({transform:"S"+h+","+h+","+(l.x+l.width/2)+","+l.y})},n.prototype.drawEmptyDonutLabel=function(t,e,i,n,o){var s;return s=this.raphael.text(t,e,"").attr("font-size",n).attr("fill",i),null!=o&&s.attr("font-weight",o),s},n.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},n}(e.EventEmitter),e.DonutSegment=function(t){function e(t,e,i,n,o,r,a,l,h,c){this.cx=t,this.cy=e,this.inner=i,this.outer=n,this.color=a,this.backgroundColor=l,this.index=h,this.raphael=c,this.deselect=s(this.deselect,this),this.select=s(this.select,this),this.sin_p0=Math.sin(o),this.cos_p0=Math.cos(o),this.sin_p1=Math.sin(r),this.cos_p1=Math.cos(r),this.is_long=r-o>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return a(e,t),e.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},e.prototype.calcSegment=function(t,e){var i,n,o,s,r,a,l,h,c,u;return c=this.calcArcPoints(t),i=c[0],o=c[1],n=c[2],s=c[3],u=this.calcArcPoints(e),r=u[0],l=u[1],a=u[2],h=u[3],"M"+i+","+o+("A"+t+","+t+",0,"+this.is_long+",0,"+n+","+s)+("L"+a+","+h)+("A"+e+","+e+",0,"+this.is_long+",1,"+r+","+l)+"Z"},e.prototype.calcArc=function(t){var e,i,n,o,s;return s=this.calcArcPoints(t),e=s[0],n=s[1],i=s[2],o=s[3],"M"+e+","+n+("A"+t+","+t+",0,"+this.is_long+",0,"+i+","+o)},e.prototype.render=function(){var t=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)})},e.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})},e.prototype.drawDonutSegment=function(t,e,i,n,o){return this.raphael.path(t).attr({fill:e,stroke:i,"stroke-width":3}).hover(n).click(o)},e.prototype.select=function(){return this.selected?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},e.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},e}(e.EventEmitter)}.call(this);var jstz={};jstz.HEMISPHERE_SOUTH="SOUTH",jstz.HEMISPHERE_NORTH="NORTH",jstz.HEMISPHERE_UNKNOWN="N/A",jstz.olson={},jstz.TimeZone=function(t,e,i){this.utc_offset=t,this.olson_tz=e,this.uses_dst=i},jstz.TimeZone.prototype.display=function(){this.ambiguity_check();var t="<b>UTC-offset</b>: "+this.utc_offset+"<br/>";return t+="<b>Zoneinfo key</b>: "+this.olson_tz+"<br/>",t+="<b>Zone uses DST</b>: "+(this.uses_dst?"yes":"no")+"<br/>"},jstz.TimeZone.prototype.ambiguity_check=function(){var t,e,i,n;if(t=jstz.olson.ambiguity_list[this.olson_tz],"undefined"!=typeof t)for(e=t.length,i=0;e>i;i+=1)if(n=t[i],jstz.date_is_dst(jstz.olson.dst_start_dates[n]))return void(this.olson_tz=n)},jstz.date_is_dst=function(t){var e,i;return i=t.getMonth()>5?jstz.get_june_offset():jstz.get_january_offset(),e=jstz.get_date_offset(t),i-e!==0},jstz.get_date_offset=function(t){return-t.getTimezoneOffset()},jstz.get_timezone_info=function(){var t,e,i;return t=jstz.get_january_offset(),e=jstz.get_june_offset(),i=t-e,0>i?{utc_offset:t,dst:1,hemisphere:jstz.HEMISPHERE_NORTH}:i>0?{utc_offset:e,dst:1,hemisphere:jstz.HEMISPHERE_SOUTH}:{utc_offset:t,dst:0,hemisphere:jstz.HEMISPHERE_UNKNOWN}},jstz.get_january_offset=function(){return jstz.get_date_offset(new Date(2011,0,1,0,0,0,0))},jstz.get_june_offset=function(){return jstz.get_date_offset(new Date(2011,5,1,0,0,0,0))},jstz.determine_timezone=function(){var t,e,i;return t=jstz.get_timezone_info(),e="",t.hemisphere===jstz.HEMISPHERE_SOUTH&&(e=",s"),i=t.utc_offset+","+t.dst+e,{timezone:jstz.olson.timezones[i],key:i}},jstz.olson.timezones={"-720,0":new jstz.TimeZone("-12:00","Etc/GMT+12",!1),"-660,0":new jstz.TimeZone("-11:00","Pacific/Pago_Pago",!1),"-600,1":new jstz.TimeZone("-11:00","America/Adak",!0),"-660,1,s":new jstz.TimeZone("-11:00","Pacific/Apia",!0),"-600,0":new jstz.TimeZone("-10:00","Pacific/Honolulu",!1),"-570,0":new jstz.TimeZone("-10:30","Pacific/Marquesas",!1),"-540,0":new jstz.TimeZone("-09:00","Pacific/Gambier",!1),"-540,1":new jstz.TimeZone("-09:00","America/Anchorage",!0),"-480,1":new jstz.TimeZone("-08:00","America/Los_Angeles",!0),"-480,0":new jstz.TimeZone("-08:00","Pacific/Pitcairn",!1),"-420,0":new jstz.TimeZone("-07:00","America/Phoenix",!1),"-420,1":new jstz.TimeZone("-07:00","America/Denver",!0),"-360,0":new jstz.TimeZone("-06:00","America/Guatemala",!1),"-360,1":new jstz.TimeZone("-06:00","America/Chicago",!0),"-360,1,s":new jstz.TimeZone("-06:00","Pacific/Easter",!0),"-300,0":new jstz.TimeZone("-05:00","America/Bogota",!1),"-300,1":new jstz.TimeZone("-05:00","America/New_York",!0),"-270,0":new jstz.TimeZone("-04:30","America/Caracas",!1),"-240,1":new jstz.TimeZone("-04:00","America/Halifax",!0),"-240,0":new jstz.TimeZone("-04:00","America/Santo_Domingo",!1),"-240,1,s":new jstz.TimeZone("-04:00","America/Asuncion",!0),"-210,1":new jstz.TimeZone("-03:30","America/St_Johns",!0),"-180,1":new jstz.TimeZone("-03:00","America/Godthab",!0),"-180,0":new jstz.TimeZone("-03:00","America/Argentina/Buenos_Aires",!1),"-180,1,s":new jstz.TimeZone("-03:00","America/Montevideo",!0),"-120,0":new jstz.TimeZone("-02:00","America/Noronha",!1),"-120,1":new jstz.TimeZone("-02:00","Etc/GMT+2",!0),"-60,1":new jstz.TimeZone("-01:00","Atlantic/Azores",!0),"-60,0":new jstz.TimeZone("-01:00","Atlantic/Cape_Verde",!1),"0,0":new jstz.TimeZone("00:00","Etc/UTC",!1),"0,1":new jstz.TimeZone("00:00","Europe/London",!0),"60,1":new jstz.TimeZone("+01:00","Europe/Berlin",!0),"60,0":new jstz.TimeZone("+01:00","Africa/Lagos",!1),"60,1,s":new jstz.TimeZone("+01:00","Africa/Windhoek",!0),"120,1":new jstz.TimeZone("+02:00","Asia/Beirut",!0),"120,0":new jstz.TimeZone("+02:00","Africa/Johannesburg",!1),"180,1":new jstz.TimeZone("+03:00","Europe/Moscow",!0),"180,0":new jstz.TimeZone("+03:00","Asia/Baghdad",!1),"210,1":new jstz.TimeZone("+03:30","Asia/Tehran",!0),"240,0":new jstz.TimeZone("+04:00","Asia/Dubai",!1),"240,1":new jstz.TimeZone("+04:00","Asia/Yerevan",!0),"270,0":new jstz.TimeZone("+04:30","Asia/Kabul",!1),"300,1":new jstz.TimeZone("+05:00","Asia/Yekaterinburg",!0),"300,0":new jstz.TimeZone("+05:00","Asia/Karachi",!1),"330,0":new jstz.TimeZone("+05:30","Asia/Kolkata",!1),"345,0":new jstz.TimeZone("+05:45","Asia/Kathmandu",!1),"360,0":new jstz.TimeZone("+06:00","Asia/Dhaka",!1),"360,1":new jstz.TimeZone("+06:00","Asia/Omsk",!0),"390,0":new jstz.TimeZone("+06:30","Asia/Rangoon",!1),"420,1":new jstz.TimeZone("+07:00","Asia/Krasnoyarsk",!0),"420,0":new jstz.TimeZone("+07:00","Asia/Jakarta",!1),"480,0":new jstz.TimeZone("+08:00","Asia/Shanghai",!1),"480,1":new jstz.TimeZone("+08:00","Asia/Irkutsk",!0),"525,0":new jstz.TimeZone("+08:45","Australia/Eucla",!0),"525,1,s":new jstz.TimeZone("+08:45","Australia/Eucla",!0),"540,1":new jstz.TimeZone("+09:00","Asia/Yakutsk",!0),"540,0":new jstz.TimeZone("+09:00","Asia/Tokyo",!1),"570,0":new jstz.TimeZone("+09:30","Australia/Darwin",!1),"570,1,s":new jstz.TimeZone("+09:30","Australia/Adelaide",!0),"600,0":new jstz.TimeZone("+10:00","Australia/Brisbane",!1),"600,1":new jstz.TimeZone("+10:00","Asia/Vladivostok",!0),"600,1,s":new jstz.TimeZone("+10:00","Australia/Sydney",!0),"630,1,s":new jstz.TimeZone("+10:30","Australia/Lord_Howe",!0),"660,1":new jstz.TimeZone("+11:00","Asia/Kamchatka",!0),"660,0":new jstz.TimeZone("+11:00","Pacific/Noumea",!1),"690,0":new jstz.TimeZone("+11:30","Pacific/Norfolk",!1),"720,1,s":new jstz.TimeZone("+12:00","Pacific/Auckland",!0),"720,0":new jstz.TimeZone("+12:00","Pacific/Tarawa",!1),"765,1,s":new jstz.TimeZone("+12:45","Pacific/Chatham",!0),"780,0":new jstz.TimeZone("+13:00","Pacific/Tongatapu",!1),"840,0":new jstz.TimeZone("+14:00","Pacific/Kiritimati",!1)},jstz.olson.dst_start_dates={"America/Denver":new Date(2011,2,13,3,0,0,0),"America/Mazatlan":new Date(2011,3,3,3,0,0,0),"America/Chicago":new Date(2011,2,13,3,0,0,0),"America/Mexico_City":new Date(2011,3,3,3,0,0,0),"Atlantic/Stanley":new Date(2011,8,4,7,0,0,0),"America/Asuncion":new Date(2011,9,2,3,0,0,0),"America/Santiago":new Date(2011,9,9,3,0,0,0),"America/Campo_Grande":new Date(2011,9,16,5,0,0,0),"America/Montevideo":new Date(2011,9,2,3,0,0,0),"America/Sao_Paulo":new Date(2011,9,16,5,0,0,0),"America/Los_Angeles":new Date(2011,2,13,8,0,0,0),"America/Santa_Isabel":new Date(2011,3,5,8,0,0,0),"America/Havana":new Date(2011,2,13,2,0,0,0),"America/New_York":new Date(2011,2,13,7,0,0,0),"Asia/Gaza":new Date(2011,2,26,23,0,0,0),"Asia/Beirut":new Date(2011,2,27,1,0,0,0),"Europe/Minsk":new Date(2011,2,27,3,0,0,0),"Europe/Istanbul":new Date(2011,2,27,7,0,0,0),"Asia/Damascus":new Date(2011,3,1,2,0,0,0),"Asia/Jerusalem":new Date(2011,3,1,6,0,0,0),"Africa/Cairo":new Date(2011,3,29,4,0,0,0),"Asia/Yerevan":new Date(2011,2,27,4,0,0,0),"Asia/Baku":new Date(2011,2,27,8,0,0,0),"Pacific/Auckland":new Date(2011,8,26,7,0,0,0),"Pacific/Fiji":new Date(2010,11,29,23,0,0,0),"America/Halifax":new Date(2011,2,13,6,0,0,0),"America/Goose_Bay":new Date(2011,2,13,2,1,0,0),"America/Miquelon":new Date(2011,2,13,5,0,0,0),"America/Godthab":new Date(2011,2,27,1,0,0,0)},jstz.olson.ambiguity_list={"America/Denver":["America/Denver","America/Mazatlan"],"America/Chicago":["America/Chicago","America/Mexico_City"],"America/Asuncion":["Atlantic/Stanley","America/Asuncion","America/Santiago","America/Campo_Grande"],"America/Montevideo":["America/Montevideo","America/Sao_Paulo"],"Asia/Beirut":["Asia/Gaza","Asia/Beirut","Europe/Minsk","Europe/Istanbul","Asia/Damascus","Asia/Jerusalem","Africa/Cairo"],"Asia/Yerevan":["Asia/Yerevan","Asia/Baku"],"Pacific/Auckland":["Pacific/Auckland","Pacific/Fiji"],"America/Los_Angeles":["America/Los_Angeles","America/Santa_Isabel"],"America/New_York":["America/Havana","America/New_York"],"America/Halifax":["America/Goose_Bay","America/Halifax"],"America/Godthab":["America/Miquelon","America/Godthab"]},/**
 * jQuery Detect Timezone plugin
 *
 * Copyright (c) 2011 Scott Watermasysk (scottwater@gmail.com)
 * Provided under the Do Whatever You Want With This Code License. (same as detect_timezone).
 *
 */
function(t){t.fn.set_timezone=function(t){return this.val(this.get_timezone(t)),this},t.fn.get_timezone=function(e){var i={format:"olson",debug:!1,"default":"America/New_York"};e&&t.extend(i,e);var n=jstz.determine_timezone(),o=n.timezone,s=i["default"];switch("undefined"!=o?(o.ambiguity_check(),s=o.olson_tz):i.debug&&alert("no timezone to be found. using default."),i.format){case"city":return s.split("/")[1];default:return s}}}(jQuery),/* ========================================================================
 * bootstrap-switch - v3.3.2
 * http://www.bootstrap-switch.org
 * ========================================================================
 * Copyright 2012-2013 Mattia Larentis
 *
 * ========================================================================
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================================
 */
function(){var t=[].slice;!function(e,i){"use strict";var n;return n=function(){function t(t,i){null==i&&(i={}),this.$element=e(t),this.options=e.extend({},e.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},i),this.$wrapper=e("<div>",{"class":function(t){return function(){var e;return e=[""+t.options.baseClass].concat(t._getClasses(t.options.wrapperClass)),e.push(t.options.state?""+t.options.baseClass+"-on":""+t.options.baseClass+"-off"),null!=t.options.size&&e.push(""+t.options.baseClass+"-"+t.options.size),t.options.disabled&&e.push(""+t.options.baseClass+"-disabled"),t.options.readonly&&e.push(""+t.options.baseClass+"-readonly"),t.options.indeterminate&&e.push(""+t.options.baseClass+"-indeterminate"),t.options.inverse&&e.push(""+t.options.baseClass+"-inverse"),t.$element.attr("id")&&e.push(""+t.options.baseClass+"-id-"+t.$element.attr("id")),e.join(" ")}}(this)()}),this.$container=e("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=e("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=e("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=e("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(e){return function(){return e.options.onInit.apply(t,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(e){return function(){return e.options.onSwitchChange.apply(t,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return t.prototype._constructor=t,t.prototype.state=function(t,e){return"undefined"==typeof t?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate&&this.indeterminate(!1),t=!!t,this.$element.prop("checked",t).trigger("change.bootstrapSwitch",e),this.$element)},t.prototype.toggleState=function(t){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",t)},t.prototype.size=function(t){return"undefined"==typeof t?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),t&&this.$wrapper.addClass(""+this.options.baseClass+"-"+t),this._width(),this._containerPosition(),this.options.size=t,this.$element)},t.prototype.animate=function(t){return"undefined"==typeof t?this.options.animate:(t=!!t,t===this.options.animate?this.$element:this.toggleAnimate())},t.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},t.prototype.disabled=function(t){return"undefined"==typeof t?this.options.disabled:(t=!!t,t===this.options.disabled?this.$element:this.toggleDisabled())},t.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},t.prototype.readonly=function(t){return"undefined"==typeof t?this.options.readonly:(t=!!t,t===this.options.readonly?this.$element:this.toggleReadonly())},t.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},t.prototype.indeterminate=function(t){return"undefined"==typeof t?this.options.indeterminate:(t=!!t,t===this.options.indeterminate?this.$element:this.toggleIndeterminate())},t.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},t.prototype.inverse=function(t){return"undefined"==typeof t?this.options.inverse:(t=!!t,t===this.options.inverse?this.$element:this.toggleInverse())},t.prototype.toggleInverse=function(){var t,e;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),e=this.$on.clone(!0),t=this.$off.clone(!0),this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element},t.prototype.onColor=function(t){var e;return e=this.options.onColor,"undefined"==typeof t?e:(null!=e&&this.$on.removeClass(""+this.options.baseClass+"-"+e),this.$on.addClass(""+this.options.baseClass+"-"+t),this.options.onColor=t,this.$element)},t.prototype.offColor=function(t){var e;return e=this.options.offColor,"undefined"==typeof t?e:(null!=e&&this.$off.removeClass(""+this.options.baseClass+"-"+e),this.$off.addClass(""+this.options.baseClass+"-"+t),this.options.offColor=t,this.$element)},t.prototype.onText=function(t){return"undefined"==typeof t?this.options.onText:(this.$on.html(t),this._width(),this._containerPosition(),this.options.onText=t,this.$element)},t.prototype.offText=function(t){return"undefined"==typeof t?this.options.offText:(this.$off.html(t),this._width(),this._containerPosition(),this.options.offText=t,this.$element)},t.prototype.labelText=function(t){return"undefined"==typeof t?this.options.labelText:(this.$label.html(t),this._width(),this.options.labelText=t,this.$element)},t.prototype.handleWidth=function(t){return"undefined"==typeof t?this.options.handleWidth:(this.options.handleWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.labelWidth=function(t){return"undefined"==typeof t?this.options.labelWidth:(this.options.labelWidth=t,this._width(),this._containerPosition(),this.$element)},t.prototype.baseClass=function(t){return this.options.baseClass},t.prototype.wrapperClass=function(t){return"undefined"==typeof t?this.options.wrapperClass:(t||(t=e.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(t).join(" ")),this.options.wrapperClass=t,this.$element)},t.prototype.radioAllOff=function(t){return"undefined"==typeof t?this.options.radioAllOff:(t=!!t,t===this.options.radioAllOff?this.$element:(this.options.radioAllOff=t,this.$element))},t.prototype.onInit=function(t){return"undefined"==typeof t?this.options.onInit:(t||(t=e.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=t,this.$element)},t.prototype.onSwitchChange=function(t){return"undefined"==typeof t?this.options.onSwitchChange:(t||(t=e.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=t,this.$element)},t.prototype.destroy=function(){var t;return t=this.$element.closest("form"),t.length&&t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},t.prototype._width=function(){var t,e;return t=this.$on.add(this.$off),t.add(this.$label).css("width",""),e="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,t.width(e),this.$label.width(function(t){return function(i,n){return"auto"!==t.options.labelWidth?t.options.labelWidth:e>n?e:n}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},t.prototype._containerPosition=function(t,e){return null==t&&(t=this.options.state),this.$container.css("margin-left",function(e){return function(){var i;return i=[0,"-"+e._handleWidth+"px"],e.options.indeterminate?"-"+e._handleWidth/2+"px":t?e.options.inverse?i[1]:i[0]:e.options.inverse?i[0]:i[1]}}(this)),e?setTimeout(function(){return e()},50):void 0},t.prototype._init=function(){var t,e;return t=function(t){return function(){return t._width(),t._containerPosition(null,function(){return t.options.animate?t.$wrapper.addClass(""+t.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?t():e=i.setInterval(function(n){return function(){return n.$wrapper.is(":visible")?(t(),i.clearInterval(e)):void 0}}(this),50)},t.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(t){return function(i,n){var o;return i.preventDefault(),i.stopImmediatePropagation(),o=t.$element.is(":checked"),t._containerPosition(o),o!==t.options.state?(t.options.state=o,t.$wrapper.toggleClass(""+t.options.baseClass+"-off").toggleClass(""+t.options.baseClass+"-on"),n?void 0:(t.$element.is(":radio")&&e("[name='"+t.$element.attr("name")+"']").not(t.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),t.$element.trigger("switchChange.bootstrapSwitch",[o]))):void 0}}(this),"focus.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.addClass(""+t.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(t){return function(e){return e.preventDefault(),t.$wrapper.removeClass(""+t.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(t){return function(e){if(e.which&&!t.options.disabled&&!t.options.readonly)switch(e.which){case 37:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!1);case 39:return e.preventDefault(),e.stopImmediatePropagation(),t.state(!0)}}}(this)})},t.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(t){return function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")}}(this))},t.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(t){return function(e){return t._dragStart||t.options.disabled||t.options.readonly?void 0:(e.preventDefault(),e.stopPropagation(),t._dragStart=(e.pageX||e.originalEvent.touches[0].pageX)-parseInt(t.$container.css("margin-left"),10),t.options.animate&&t.$wrapper.removeClass(""+t.options.baseClass+"-animate"),t.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(t){return function(e){var i;if(null!=t._dragStart&&(e.preventDefault(),i=(e.pageX||e.originalEvent.touches[0].pageX)-t._dragStart,!(i<-t._handleWidth||i>0)))return t._dragEnd=i,t.$container.css("margin-left",""+t._dragEnd+"px")}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(t){return function(e){var i;if(t._dragStart)return e.preventDefault(),t.options.animate&&t.$wrapper.addClass(""+t.options.baseClass+"-animate"),t._dragEnd?(i=t._dragEnd>-(t._handleWidth/2),t._dragEnd=!1,t.state(t.options.inverse?!i:i)):t.state(!t.options.state),t._dragStart=!1}}(this),"mouseleave.bootstrapSwitch":function(t){return function(e){return t.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},t.prototype._externalLabelHandler=function(){var t;return t=this.$element.closest("label"),t.on("click",function(e){return function(i){return i.preventDefault(),i.stopImmediatePropagation(),i.target===t[0]?e.toggleState():void 0}}(this))},t.prototype._formHandler=function(){var t;return t=this.$element.closest("form"),t.data("bootstrap-switch")?void 0:t.on("reset.bootstrapSwitch",function(){return i.setTimeout(function(){return t.find("input").filter(function(){return e(this).data("bootstrap-switch")}).each(function(){return e(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},t.prototype._getClasses=function(t){var i,n,o,s;if(!e.isArray(t))return[""+this.options.baseClass+"-"+t];for(n=[],o=0,s=t.length;s>o;o++)i=t[o],n.push(""+this.options.baseClass+"-"+i);return n},t}(),e.fn.bootstrapSwitch=function(){var i,o,s;return o=arguments[0],i=2<=arguments.length?t.call(arguments,1):[],s=this,this.each(function(){var t,r;return t=e(this),r=t.data("bootstrap-switch"),r||t.data("bootstrap-switch",r=new n(this,o)),"string"==typeof o?s=r[o].apply(r,i):void 0}),s},e.fn.bootstrapSwitch.Constructor=n,e.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}.call(this);/*!
 * Handsontable 0.13.1
 * Handsontable is a JavaScript library for editable tables with basic copy-paste compatibility with Excel and Google Docs
 *
 * Copyright (c) 2012-2014 Marcin Warpechowski
 * Copyright (c) 2015 Handsoncode sp. z o.o. <hello@handsontable.com>
 * Licensed under the MIT license.
 * http://handsontable.com/
 *
 * Date: Thu Mar 19 2015 15:05:12 GMT+0100 (CET)
 */
var Handsontable=function(t,e){e=e||{};var i=new Handsontable.Core(t,e);return i.init(),i};Handsontable.plugins={},function(t,e){"use strict";function i(){this.refCounter=0,this.init()}function n(){function t(){var t=this;t._registerTimeout(setTimeout(function(){t.updateSettings({observeChanges:!0})},0))}function i(t){return function(e,i){return"string"==typeof e[1]&&(e[1]=e[1].toLowerCase()),"string"==typeof i[1]&&(i[1]=i[1].toLowerCase()),e[1]===i[1]?0:null===e[1]||""===e[1]?1:null===i[1]||""===i[1]?-1:e[1]<i[1]?t?-1:1:e[1]>i[1]?t?1:-1:0}}function n(t){return function(e,i){if(e[1]===i[1])return 0;if(null===e[1])return 1;if(null===i[1])return-1;var n=new Date(e[1]),o=new Date(i[1]);return o>n?t?-1:1:n>o?t?1:-1:0}}function o(t){return"undefined"!=typeof t.sortColumn}var s=this;this.init=function(e){var i,n,o=this,r=o.getSettings().columnSorting;if(o.sortingEnabled=!!r,o.sortingEnabled){o.sortIndex=[];var h=a.call(o);"undefined"!=typeof h?(i=h.sortColumn,n=h.sortOrder):(i=r.column,n=r.sortOrder),s.sortByColumn.call(o,i,n),o.sort=function(){var t=Array.prototype.slice.call(arguments);return s.sortByColumn.apply(o,t)},"undefined"==typeof o.getSettings().observeChanges&&t.call(o),"afterInit"==e&&(l.call(o),o.addHook("afterCreateRow",s.afterCreateRow),o.addHook("afterRemoveRow",s.afterRemoveRow),o.addHook("afterLoadData",s.init))}else delete o.sort,o.removeHook("afterCreateRow",s.afterCreateRow),o.removeHook("afterRemoveRow",s.afterRemoveRow),o.removeHook("afterLoadData",s.init)},this.setSortingColumn=function(t,e){var i=this;return"undefined"==typeof t?(delete i.sortColumn,void delete i.sortOrder):(i.sortColumn===t&&"undefined"==typeof e?i.sortOrder=!i.sortOrder:i.sortOrder="undefined"!=typeof e?e:!0,void(i.sortColumn=t))},this.sortByColumn=function(t,i){var n=this;s.setSortingColumn.call(n,t,i),"undefined"!=typeof n.sortColumn&&(e.hooks.run(n,"beforeColumnSort",n.sortColumn,n.sortOrder),s.sort.call(n),n.render(),r.call(n),e.hooks.run(n,"afterColumnSort",n.sortColumn,n.sortOrder))};var r=function(){var t=this,i={};"undefined"!=typeof t.sortColumn&&(i.sortColumn=t.sortColumn),"undefined"!=typeof t.sortOrder&&(i.sortOrder=t.sortOrder),(i.hasOwnProperty("sortColumn")||i.hasOwnProperty("sortOrder"))&&e.hooks.run(t,"persistentStateSave","columnSorting",i)},a=function(){var t=this,i={};return e.hooks.run(t,"persistentStateLoad","columnSorting",i),i.value},l=function(){function t(){var t=n.view.TBODY.querySelector("tr").querySelectorAll("th");return t.length}function i(i){var n=e.Dom.closest(i,"TH");return e.Dom.index(n)-t()}var n=this,o=e.eventManager(n);o.addEventListener(n.rootElement,"click",function(t){if(e.Dom.hasClass(t.target,"columnSorting")){var o=i(t.target);s.sortByColumn.call(n,o)}})};this.sort=function(){var t=this;if("undefined"!=typeof t.sortOrder){t.sortingEnabled=!1,t.sortIndex.length=0;for(var e=this.colOffset(),o=0,s=this.countRows()-t.getSettings().minSpareRows;s>o;o++)this.sortIndex.push([o,t.getDataAtCell(o,this.sortColumn+e)]);var r,a=t.getCellMeta(0,t.sortColumn);switch(a.type){case"date":r=n;break;default:r=i}this.sortIndex.sort(r(t.sortOrder));for(var o=this.sortIndex.length;o<t.countRows();o++)this.sortIndex.push([o,t.getDataAtCell(o,this.sortColumn+e)]);t.sortingEnabled=!0}},this.translateRow=function(t){var e=this;return e.sortingEnabled&&e.sortIndex&&e.sortIndex.length&&e.sortIndex[t]?e.sortIndex[t][0]:t},this.untranslateRow=function(t){var e=this;if(e.sortingEnabled&&e.sortIndex&&e.sortIndex.length)for(var i=0;i<e.sortIndex.length;i++)if(e.sortIndex[i][0]==t)return i},this.getColHeader=function(t,i){this.getSettings().columnSorting&&t>=0&&e.Dom.addClass(i.querySelector(".colHeader"),"columnSorting")},this.afterCreateRow=function(t,e){var i=this;if(o(i)){for(var n=0;n<i.sortIndex.length;n++)i.sortIndex[n][0]>=t&&(i.sortIndex[n][0]+=e);for(var n=0;e>n;n++)i.sortIndex.splice(t+n,0,[t+n,i.getData()[t+n][i.sortColumn+i.colOffset()]]);r.call(i)}},this.afterRemoveRow=function(t,e){var i=this;if(o(i)){var n=s.translateRow.call(i,t);i.sortIndex.splice(t,e);for(var a=0;a<i.sortIndex.length;a++)i.sortIndex[a][0]>n&&(i.sortIndex[a][0]-=e);r.call(i)}},this.afterChangeSort=function(t){var e=this,i=!1,n={};if(t){for(var o=0;o<t.length;o++)if(t[o][1]==e.sortColumn){i=!0,n.row=s.translateRow.call(e,t[o][0]),n.col=t[o][1];break}i&&e._registerTimeout(setTimeout(function(){s.sort.call(e),e.render(),e.selectCell(s.untranslateRow.call(e,n.row),n.col)},0))}}}function o(t){var i=e.eventManager(t),n=function(t,e,i,n){n.setCellMeta(t,e,"comment",i),n.render()},o=function(t,e,i){n(t.from.row,t.from.col,e,i)},s=function(){var t=h();t.style.display="none",t.value=""},r=function(n){function r(e){if(i.removeEventListener(document,"mouseover"),"htCommentTextArea"!=e.target.className&&-1==e.target.innerHTML.indexOf("Comment")){var r=document.querySelector(".htCommentTextArea").value;r.trim().length>1&&o(n,r,t),a(),s()}}i.addEventListener(document,"mousedown",e.helper.proxy(r))},a=function(){i.removeEventListener(document,"mousedown"),i.addEventListener(document,"mousedown",e.helper.proxy(c))},l=function(i,n){var o=t.view.wt.wtTable.getCell(i.from),s=e.Dom.offset(o),a=t.getColWidth(i.from.col);n.style.position="absolute",n.style.left=s.left+a+"px",n.style.top=s.top+"px",n.style.zIndex=2,r(i,n)},h=function(t){var i=document.querySelector(".htComments");if(!i){i=document.createElement("DIV");var n=document.createElement("TEXTAREA");e.Dom.addClass(n,"htCommentTextArea"),i.appendChild(n),e.Dom.addClass(i,"htComments"),document.getElementsByTagName("body")[0].appendChild(i)}return t=t||"",document.querySelector(".htCommentTextArea").value=t,i},c=function(i){if(-1!=i.target.className.indexOf("htCommentCell")){a();var n=t.view.wt.wtTable.getCoords(i.target),o={from:new u(n.row,n.col)};e.Comments.showComment(o)}else"htCommentTextArea"!=i.target.className&&s()};return{init:function(){i.addEventListener(document,"mouseover",e.helper.proxy(c))},showComment:function(e){var i=t.getCellMeta(e.from.row,e.from.col),n="";i.comment&&(n=i.comment);var o=h(n);o.style.display="block",l(e,o)},removeComment:function(e,i){t.removeCellMeta(e,i,"comment"),t.render()},checkSelectionCommentsConsistency:function(){var e=!1,i=t.getSelectedRange().from;return t.getCellMeta(i.row,i.col).comment&&(e=!0),e}}}function s(e){var i,n=function(){t.localStorage[e+"__persistentStateKeys"]=JSON.stringify(i)},o=function(){var n=t.localStorage[e+"__persistentStateKeys"],o="string"==typeof n?JSON.parse(n):void 0;i=o?o:[]},s=function(){i=[],n()};o(),this.saveValue=function(o,s){t.localStorage[e+"_"+o]=JSON.stringify(s),-1==i.indexOf(o)&&(i.push(o),n())},this.loadValue=function(i,n){i="undefined"!=typeof i?i:n;var o=t.localStorage[e+"_"+i];return"undefined"==typeof o?void 0:JSON.parse(o)},this.reset=function(i){t.localStorage.removeItem(e+"_"+i)},this.resetAll=function(){for(var n=0;n<i.length;n++)t.localStorage.removeItem(e+"_"+i[n]);s()}}function r(){this.boundaries=null,this.callback=null}function a(){var t=[];return t.getInfo=function(t,e){for(var i=0,n=this.length;n>i;i++)if(this[i].row<=t&&this[i].row+this[i].rowspan-1>=t&&this[i].col<=e&&this[i].col+this[i].colspan-1>=e)return this[i]},t.setInfo=function(t){for(var e=0,i=this.length;i>e;e++)if(this[e].row===t.row&&this[e].col===t.col)return void(this[e]=t);this.push(t)},t.removeInfo=function(t,e){for(var i=0,n=this.length;n>i;i++)if(this[i].row===t&&this[i].col===e){this.splice(i,1);break}},t}function l(t){if(this.mergedCellInfoCollection=new a,Array.isArray(t))for(var e=0,i=t.length;i>e;e++)this.mergedCellInfoCollection.setInfo(t[e])}function h(){}function c(t,i){var n,o=function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};var t=10,e=40;this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var i={position:"absolute",height:e+"px",width:e+"px","border-radius":parseInt(e/1.5,10)+"px"};for(var n in i)i.hasOwnProperty(n)&&(this.selectionHandles.styles.bottomRightHitArea[n]=i[n],this.selectionHandles.styles.topLeftHitArea[n]=i[n]);var o={position:"absolute",height:t+"px",width:t+"px","border-radius":parseInt(t/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var n in o)o.hasOwnProperty(n)&&(this.selectionHandles.styles.bottomRight[n]=o[n],this.selectionHandles.styles.topLeft[n]=o[n]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)};if(i){var s=e.eventManager(t);this.instance=t,this.settings=i,this.main=document.createElement("div"),n=this.main.style,n.position="absolute",n.top=0,n.left=0;for(var r=["top","left","bottom","right","corner"],a=0;5>a;a++){var l=r[a],h=document.createElement("DIV");h.className="wtBorder "+(this.settings.className||""),this.settings[l]&&this.settings[l].hide&&(h.className+=" hidden"),n=h.style,n.backgroundColor=this.settings[l]&&this.settings[l].color?this.settings[l].color:i.border.color,n.height=this.settings[l]&&this.settings[l].width?this.settings[l].width+"px":i.border.width+"px",n.width=this.settings[l]&&this.settings[l].width?this.settings[l].width+"px":i.border.width+"px",this.main.appendChild(h)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.cornerDefaultStyle={width:"5px",height:"5px",borderWidth:"2px",borderStyle:"solid",borderColor:"#FFF"},this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),e.mobileBrowser&&o.call(this),this.disappear(),t.wtTable.bordersHolder||(t.wtTable.bordersHolder=document.createElement("div"),t.wtTable.bordersHolder.className="htBorders",t.wtTable.hider.appendChild(t.wtTable.bordersHolder)),t.wtTable.bordersHolder.insertBefore(this.main,t.wtTable.bordersHolder.firstChild);var c=!1;s.addEventListener(document.body,"mousedown",function(){c=!0}),s.addEventListener(document.body,"mouseup",function(){c=!1});for(var u=0,d=this.main.childNodes.length;d>u;u++)s.addEventListener(this.main.childNodes[u],"mouseenter",function(e){if(c&&t.getSetting("hideBorderOnMouseDownOver")){e.preventDefault(),e.stopImmediatePropagation();var i=this.getBoundingClientRect();this.style.display="none";var n=function(t){return t.clientY<Math.floor(i.top)?!0:t.clientY>Math.ceil(i.top+i.height)?!0:t.clientX<Math.floor(i.left)?!0:t.clientX>Math.ceil(i.left+i.width)?!0:void 0},o=function(t){n(t)&&(s.removeEventListener(document.body,"mousemove",o),this.style.display="block")};s.addEventListener(document.body,"mousemove",o)}})}}function u(t,e){"undefined"!=typeof t&&"undefined"!=typeof e?(this.row=t,this.col=e):(this.row=null,this.col=null)}function d(t,e,i){this.highlight=t,this.from=e,this.to=i}function p(t,e,i){this.offset=t,this.total=e,this.countTH=i}function f(t,e,i,n){var o,s=0;for(this.instance=t,this.containerSizeFn=e,this.cellSizesSum=0,this.cellSizes=[],this.cellStretch=[],this.cellCount=0,this.visibleCellCount=0,this.remainingSize=0,this.strategy=n;;){if(o=i(s),void 0===o)break;this.cellSizesSum<this.getContainerSize()&&this.visibleCellCount++,this.cellSizes.push(o),this.cellSizesSum+=o,this.cellCount++,s++}var r=this.getContainerSize();this.remainingSize=this.cellSizesSum-r}function m(t){var i=[];if(this.guid="wt_"+y(),t.cloneSource?(this.cloneSource=t.cloneSource,this.cloneOverlay=t.cloneOverlay,this.wtSettings=t.cloneSource.wtSettings,this.wtTable=new D(this,t.table),this.wtScroll=new b(this),this.wtViewport=t.cloneSource.wtViewport,this.wtEvent=new v(this),this.selections=this.cloneSource.selections):(this.wtSettings=new T(this,t),this.wtTable=new D(this,t.table),this.wtScroll=new b(this),this.wtViewport=new R(this),this.wtEvent=new v(this),this.selections=this.getSetting("selections"),this.wtScrollbars=new k(this)),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var n=0,o=this.wtTable.THEAD.childNodes[0].childNodes.length;o>n;n++)i.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(t,n){e.Dom.fastInnerText(n,i[t])}])}this.drawn=!1,this.drawInterrupted=!1}function g(t){this.instance=t,this.init(),this.clone=this.makeClone("debug"),this.clone.wtTable.holder.style.opacity=.4,this.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",this.lastTimeout=null,e.Dom.addClass(this.clone.wtTable.holder.parentNode,"wtDebugVisible")}function v(i){var n=this,o=e.eventManager(i);this.instance=i;var s=[null,null];this.dblClickTimeout=[null,null];var r,a,l=function(t){var i=n.parentCell(t.target);e.Dom.hasClass(t.target,"corner")?n.instance.getSetting("onCellCornerMouseDown",t,t.target):i.TD&&n.instance.hasSetting("onCellMouseDown")&&n.instance.getSetting("onCellMouseDown",t,i.coords,i.TD,n.instance),2!==t.button&&i.TD&&(s[0]=i.TD,clearTimeout(n.dblClickTimeout[0]),n.dblClickTimeout[0]=setTimeout(function(){s[0]=null},1e3))},h=function(t){n.instance.touchMoving=!0},c=function(t){o.addEventListener(this,"touchmove",h),n.checkIfTouchMove=setTimeout(function(){return n.instance.touchMoving===!0?(n.instance.touchMoving=void 0,void o.removeEventListener("touchmove",h,!1)):void l(t)},30)},u=function(t){if(n.instance.hasSetting("onCellMouseOver")){var i=n.instance.wtTable.TABLE,o=e.Dom.closest(t.target,["TD","TH"],i);o&&o!==a&&e.Dom.isChildOf(o,i)&&(a=o,n.instance.getSetting("onCellMouseOver",t,n.instance.wtTable.getCoords(o),o,n.instance))}},d=function(t){if(2!==t.button){var i=n.parentCell(t.target);i.TD===s[0]&&i.TD===s[1]?(e.Dom.hasClass(t.target,"corner")?n.instance.getSetting("onCellCornerDblClick",t,i.coords,i.TD,n.instance):n.instance.getSetting("onCellDblClick",t,i.coords,i.TD,n.instance),s[0]=null,s[1]=null):i.TD===s[0]&&(s[1]=i.TD,clearTimeout(n.dblClickTimeout[1]),n.dblClickTimeout[1]=setTimeout(function(){s[1]=null},500))}},p=function(t){clearTimeout(r),t.preventDefault(),d(t)};if(o.addEventListener(this.instance.wtTable.holder,"mousedown",l),o.addEventListener(this.instance.wtTable.TABLE,"mouseover",u),o.addEventListener(this.instance.wtTable.holder,"mouseup",d),this.instance.wtTable.holder.parentNode.parentNode&&e.mobileBrowser){var f="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");o.addEventListener(this.instance.wtTable.holder.parentNode.parentNode,"touchstart",function(t){n.instance.touchApplied=!0,e.Dom.isChildOf(t.target,f)&&c.call(t.target,t)}),o.addEventListener(this.instance.wtTable.holder.parentNode.parentNode,"touchend",function(t){n.instance.touchApplied=!1,e.Dom.isChildOf(t.target,f)&&p.call(t.target,t)}),n.instance.momentumScrolling||(n.instance.momentumScrolling={}),o.addEventListener(this.instance.wtTable.holder.parentNode.parentNode,"scroll",function(t){clearTimeout(n.instance.momentumScrolling._timeout),n.instance.momentumScrolling.ongoing||n.instance.getSetting("onBeforeTouchScroll"),n.instance.momentumScrolling.ongoing=!0,n.instance.momentumScrolling._timeout=setTimeout(function(){n.instance.touchApplied||(n.instance.momentumScrolling.ongoing=!1,n.instance.getSetting("onAfterMomentumScroll"))},200)})}o.addEventListener(t,"resize",function(){n.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),o.clear()}}function y(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()}function w(t,e,i){this.offset=t,this.total=e,this.countTH=i}function b(t){this.instance=t}function C(t){this.instance=t,this.type="corner",this.init(),this.clone=this.makeClone("corner")}function _(t){this.instance=t,this.type="horizontal",this.offset=0,this.init(),this.clone=this.makeClone("left")}function x(t){this.instance=t,this.type="vertical",this.init(),this.clone=this.makeClone("top")}function k(t){this.instance=t,t.update("scrollbarWidth",e.Dom.getScrollbarWidth()),t.update("scrollbarHeight",e.Dom.getScrollbarWidth()),this.vertical=new x(t),this.horizontal=new _(t),this.corner=new C(t),t.getSetting("debug")&&(this.debug=new g(t)),this.registerListeners()}function S(t,e){this.settings=t,this.cellRange=e||null,this.instanceBorders={}}function T(t,i){var n=this;this.instance=t,this.defaults={table:void 0,debug:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,data:void 0,fixedColumnsLeft:0,fixedRowsTop:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(t,i,o){var s=n.getSetting("data",t,i);e.Dom.fastInnerText(o,void 0===s||null===s?"":s)},columnWidth:function(t){},rowHeight:function(t){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1},this.settings={};for(var o in this.defaults)if(this.defaults.hasOwnProperty(o))if(void 0!==i[o])this.settings[o]=i[o];else{if(void 0===this.defaults[o])throw new Error('A required setting "'+o+'" was not provided');this.settings[o]=this.defaults[o]}}function D(t,i){this.instance=t,this.TABLE=i,e.Dom.removeTextNodes(this.TABLE);var n=this.TABLE.parentNode;if(!n||1!==n.nodeType||!e.Dom.hasClass(n,"wtHolder")){var o=document.createElement("DIV");o.className="wtSpreader",n&&n.insertBefore(o,this.TABLE),o.appendChild(this.TABLE)}if(this.spreader=this.TABLE.parentNode,n=this.spreader.parentNode,!n||1!==n.nodeType||!e.Dom.hasClass(n,"wtHolder")){var s=document.createElement("DIV");s.className="wtHider",n&&n.insertBefore(s,this.spreader),s.appendChild(this.spreader)}if(this.hider=this.spreader.parentNode,this.hiderStyle=this.hider.style,this.hiderStyle.position="relative",n=this.hider.parentNode,!n||1!==n.nodeType||!e.Dom.hasClass(n,"wtHolder")){var r=document.createElement("DIV");r.style.position="relative",r.className="wtHolder",t.cloneSource||(r.className+=" ht_master"),n&&n.insertBefore(r,this.hider),r.appendChild(this.hider)}if(this.holder=this.hider.parentNode,this.isWorkingOnClone()||(this.holder.parentNode.style.position="relative"),this.TBODY=this.TABLE.getElementsByTagName("TBODY")[0],this.TBODY||(this.TBODY=document.createElement("TBODY"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.getElementsByTagName("THEAD")[0],this.THEAD||(this.THEAD=document.createElement("THEAD"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.getElementsByTagName("COLGROUP")[0],this.COLGROUP||(this.COLGROUP=document.createElement("COLGROUP"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.instance.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length){var a=document.createElement("TR");this.THEAD.appendChild(a)}this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null}function E(t){this.wtTable=t,this.instance=t.instance,this.rowFilter=t.rowFilter,this.columnFilter=t.columnFilter,this.TABLE=t.TABLE,this.THEAD=t.THEAD,this.TBODY=t.TBODY,this.COLGROUP=t.COLGROUP,this.utils=E.utils}function R(i){this.instance=i,this.oversizedRows=[],this.oversizedCols=[],this.oversizedColumnHeaders=[];var n=this,o=e.eventManager(i);o.addEventListener(t,"resize",function(){n.clientHeight=n.getWorkspaceHeight()})}function A(t,e,i,n,o,s,r){function a(t,e){var n=0;if(d.stretchAllColumnsWidth[t]||(d.stretchAllColumnsWidth[t]=Math.round(e*d.stretchAllRatio)),d.stretchAllColumnsWidth.length===i&&d.needVerifyLastColumnWidth){d.needVerifyLastColumnWidth=!1;for(var o=0;o<d.stretchAllColumnsWidth.length;o++)n+=d.stretchAllColumnsWidth[o];n!=d.totalTargetWidth&&(d.stretchAllColumnsWidth[d.stretchAllColumnsWidth.length-1]+=d.totalTargetWidth-n)}return d.stretchAllColumnsWidth[t]}function l(t,e){return t===i-1?d.stretchLastWidth:null}var h,c,u,d=this,p=1,f=0,m=!0,g=50,v=[];for(this.scrollOffset=e,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.count=0,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=r,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],h=function(t){var e=n(t);return p=p||1,void 0===e&&(e=g),e},this.refreshStretching=function(t){for(var e,n,o=0,s=0;i>s;s++)e=h(s),o+=e;this.totalTargetWidth=t,n=o-t,"all"===this.stretch&&0>n?(this.stretchAllRatio=t/o,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0):"last"===this.stretch&&t!==1/0&&(this.stretchLastWidth=-n+h(i-1))},this.getStretchedColumnWidth=function(t,e){var i=null;return"all"===this.stretch&&0!==this.stretchAllRatio?i=a(t,e):"last"===this.stretch&&0!==this.stretchLastWidth&&(i=l(t,e)),i},u=0;i>u;u++)if(c=h(u),e>=f&&!s&&(this.startColumn=u),f>=e&&e+t>=f+c&&(null==this.startColumn&&(this.startColumn=u),this.endColumn=u),v.push(f),f+=c,s||(this.endColumn=u),f>=e+t){m=!1;break}if(this.endColumn==i-1&&m)for(this.startColumn=this.endColumn;this.startColumn>0;){var y=v[this.endColumn]+c-v[this.startColumn-1];if((t>=y||!s)&&this.startColumn--,y>t)break}null!==this.startColumn&&o&&o(this),this.startPosition=v[this.startColumn],void 0==this.startPosition&&(this.startPosition=null),null!=this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}function M(t,e,i,n,o,s){this.scrollOffset=e,this.startRow=null,this.startPosition=null,this.endRow=null,this.count=0;for(var r,a=0,l=!0,h=23,c=[],u=0;i>u;u++)if(r=n(u),void 0===r&&(r=h),e>=a&&!s&&(this.startRow=u),a>=e&&e+t>=a+r&&(null==this.startRow&&(this.startRow=u),this.endRow=u),c.push(a),a+=r,s||(this.endRow=u),a>=e+t){l=!1;break}if(this.endRow==i-1&&l)for(this.startRow=this.endRow;this.startRow>0;){var d=c[this.endRow]+r-c[this.startRow-1];if((t>=d||!s)&&this.startRow--,d>=t)break}null!==this.startRow&&o&&o(this),this.startPosition=c[this.startRow],void 0==this.startPosition&&(this.startPosition=null),null!=this.startRow&&(this.count=this.endRow-this.startRow+1)}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=e);e>i;i++)if(i in this&&this[i]===t)return i;return-1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){function i(t){return/NodeList/i.test(t.item)}function n(t){for(var e=[],i=0,n=t.length;n>i;i++)e[i]=t[i];return e}if("undefined"==typeof this||null===this)throw new TypeError;if("function"!=typeof t)throw new TypeError;e=e||this,i(e)&&(e=n(e));var o,s,r=e.length,a=[];for(o=0;r>o;o+=1)e.hasOwnProperty(o)&&(s=e[o],t.call(e,s,o,e)&&a.push(s));return a}),Array.isArray||(Array.isArray=function(t){return"[object Array]"==toString.call(t)}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var s,r,a=[];for(s in o)t.call(o,s)&&a.push(s);if(e)for(r=0;n>r;r++)t.call(o,i[r])&&a.push(i[r]);return a}}()),/*
 * Copyright 2012 The Polymer Authors. All rights reserved.
 * Use of this source code is governed by a BSD-style
 * license that can be found in the LICENSE file.
 */
"undefined"==typeof WeakMap&&!function(){var e=Object.defineProperty;try{var i=!0;e(function(){},"foo",{})}catch(n){i=!1}var o=+new Date%1e9,s=function(){this.name="__st"+(1e9*Math.random()>>>0)+(o++ +"__"),i||(this._wmCache=[])};i?s.prototype={set:function(t,i){var n=t[this.name];n&&n[0]===t?n[1]=i:e(t,this.name,{value:[t,i],writable:!0})},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){this.set(t,void 0)}}:s.prototype={set:function(t,e){if("undefined"!=typeof t&&"undefined"!=typeof e){for(var i=0,n=this._wmCache.length;n>i;i++)if(this._wmCache[i].key==t)return void(this._wmCache[i].value=e);this._wmCache.push({key:t,value:e})}},get:function(t){if("undefined"!=typeof t)for(var e=0,i=this._wmCache.length;i>e;e++)if(this._wmCache[e].key==t)return this._wmCache[e].value},"delete":function(t){if("undefined"!=typeof t)for(var e=0,i=this._wmCache.length;i>e;e++)this._wmCache[e].key==t&&Array.prototype.slice.call(this._wmCache,e,1)}},t.WeakMap=s}(),e.activeGuid=null,e.Core=function(t,i){function n(){var t=!1;return{validatorsInQueue:0,addValidatorToQueue:function(){this.validatorsInQueue++,t=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==t&&(t=!0,this.onQueueEmpty())}}}function o(t,i,o){function s(){var n;t.length&&(n=e.hooks.run(y,"beforeChange",t,i),"function"==typeof n?console.warn("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):n===!1&&t.splice(0,t.length)),o()}var r=new n;r.onQueueEmpty=s;for(var a=t.length-1;a>=0;a--)if(null===t[a])t.splice(a,1);else{var l=t[a][0],h=f.propToCol(t[a][1]),c=y.runHooks("modifyCol",h),u=y.getCellMeta(l,c);if("numeric"===u.type&&"string"==typeof t[a][3]&&t[a][3].length>0&&(/^-?[\d\s]*(\.|\,)?\d*$/.test(t[a][3])||u.format)){var d=t[a][3].length;"undefined"==typeof u.language?numeral.language("en"):t[a][3].indexOf(".")===d-3&&-1===t[a][3].indexOf(",")?numeral.language("en"):numeral.language(u.language),numeral.validate(t[a][3])&&(t[a][3]=numeral().unformat(t[a][3]))}y.getCellValidator(u)&&(r.addValidatorToQueue(),y.validateCell(t[a][3],u,function(e,i){return function(n){if("boolean"!=typeof n)throw new Error("Validation error: result is not boolean");n===!1&&i.allowInvalid===!1&&(t.splice(e,1),i.valid=!0,--e),r.removeValidatorFormQueue()}}(a,u),i))}r.checkIfQueueIsEmpty()}function s(t,i){var n=t.length-1;if(!(0>n)){for(;n>=0;n--)if(null!==t[n]){if(null!=t[n][2]||null!=t[n][3]){if(p.settings.allowInsertRow)for(;t[n][0]>y.countRows()-1;)f.createRow();if("array"===y.dataType&&p.settings.allowInsertColumn)for(;f.propToCol(t[n][1])>y.countCols()-1;)f.createCol();f.set(t[n][0],t[n][1],t[n][3])}}else t.splice(n,1);y.forceFullRender=!0,m.adjustRowsAndCols(),e.hooks.run(y,"beforeChangeRender",t,i),g.refreshBorders(null,!0),e.hooks.run(y,"afterChange",t,i||"edit")}}function r(t,e,i){return"object"==typeof t?t:[[t,e,i]]}function a(t){if(t.hasOwnProperty("type")){var i,n={};if("object"==typeof t.type)i=t.type;else if("string"==typeof t.type&&(i=e.cellTypes[t.type],void 0===i))throw new Error('You declared cell type "'+t.type+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');for(var o in i)i.hasOwnProperty(o)&&!t.hasOwnProperty(o)&&(n[o]=i[o]);return n}}function l(t){return e.hooks.run(y,"modifyRow",t)}function h(t){return e.hooks.run(y,"modifyCol",t)}function c(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}var p,f,m,g,v,y=this,w=function(){},b=e.eventManager(y);e.helper.extend(w.prototype,P.prototype),e.helper.extend(w.prototype,i),e.helper.extend(w.prototype,a(i)),this.rootElement=t,this.isHotTableEnv=e.Dom.isChildOfWebComponentTable(this.rootElement),e.eventManager.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("DIV"),this.container.className="htContainer",t.insertBefore(this.container,t.firstChild),this.guid="ht_"+e.helper.randomString(),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid),p={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new w,selRange:null,isPopulated:null,scrollable:null,firstRun:!0},m={alter:function(t,e,i,n,o){var s;switch(i=i||1,t){case"insert_row":s=f.createRow(e,i),s&&(g.isSelected()&&p.selRange.from.row>=e?(p.selRange.from.row=p.selRange.from.row+s,g.transformEnd(s,0)):g.refreshBorders());break;case"insert_col":if(s=f.createCol(e,i)){if(Array.isArray(y.getSettings().colHeaders)){var r=[e,0];r.length+=s,Array.prototype.splice.apply(y.getSettings().colHeaders,r)}g.isSelected()&&p.selRange.from.col>=e?(p.selRange.from.col=p.selRange.from.col+s,g.transformEnd(0,s)):g.refreshBorders()}break;case"remove_row":e=y.runHooks("modifyCol",e),f.removeRow(e,i),p.cellSettings.splice(e,i);var a=y.getSettings().fixedRowsTop;a>=e+1&&(y.getSettings().fixedRowsTop-=Math.min(i,a-e)),m.adjustRowsAndCols(),g.refreshBorders();break;case"remove_col":f.removeCol(e,i);for(var l=0,h=f.getAll().length;h>l;l++)l in p.cellSettings&&p.cellSettings[l].splice(e,i);var c=y.getSettings().fixedColumnsLeft;c>=e+1&&(y.getSettings().fixedColumnsLeft-=Math.min(i,c-e)),Array.isArray(y.getSettings().colHeaders)&&("undefined"==typeof e&&(e=-1),y.getSettings().colHeaders.splice(e,i)),m.adjustRowsAndCols(),g.refreshBorders();break;default:throw new Error('There is no such action "'+t+'"')}o||m.adjustRowsAndCols()},adjustRowsAndCols:function(){var t,e,i,n;if(e=y.countRows(),e<p.settings.minRows)for(t=0;t<p.settings.minRows-e;t++)f.createRow(y.countRows(),1,!0);if(i=y.countEmptyRows(!0),i<p.settings.minSpareRows)for(;i<p.settings.minSpareRows&&y.countRows()<p.settings.maxRows;i++)f.createRow(y.countRows(),1,!0);if(n=y.countEmptyCols(!0),!p.settings.columns&&y.countCols()<p.settings.minCols)for(;y.countCols()<p.settings.minCols;n++)f.createCol(y.countCols(),1,!0);if(!p.settings.columns&&"array"===y.dataType&&n<p.settings.minSpareCols)for(;n<p.settings.minSpareCols&&y.countCols()<p.settings.maxCols;n++)f.createCol(y.countCols(),1,!0);var o=y.countRows(),s=y.countCols();if((0===o||0===s)&&g.deselect(),g.isSelected()){var r,a=p.selRange.from.row,l=p.selRange.from.col,h=p.selRange.to.row,c=p.selRange.to.col;a>o-1?(a=o-1,r=!0,h>a&&(h=a)):h>o-1&&(h=o-1,r=!0,a>h&&(a=h)),l>s-1?(l=s-1,r=!0,c>l&&(c=l)):c>s-1&&(c=s-1,r=!0,l>c&&(l=c)),r&&y.selectCell(a,l,h,c)}},populateFromArray:function(t,i,n,o,s,r,a){var l,h,c,u,d=[],f={};if(h=i.length,0===h)return!1;var m,g,v,w;switch(s){case"shift_down":for(m=n?n.col-t.col+1:0,g=n?n.row-t.row+1:0,i=e.helper.translateRowsToColumns(i),c=0,u=i.length,v=Math.max(u,m);v>c;c++)if(u>c){for(l=0,h=i[c].length;g-h>l;l++)i[c].push(i[c][l%h]);i[c].unshift(t.col+c,t.row,0),y.spliceCol.apply(y,i[c])}else i[c%u][0]=t.col+c,y.spliceCol.apply(y,i[c%u]);break;case"shift_right":for(m=n?n.col-t.col+1:0,g=n?n.row-t.row+1:0,l=0,h=i.length,w=Math.max(h,g);w>l;l++)if(h>l){for(c=0,u=i[l].length;m-u>c;c++)i[l].push(i[l][c%u]);i[l].unshift(t.row+l,t.col,0),y.spliceRow.apply(y,i[l])}else i[l%h][0]=t.row+l,y.spliceRow.apply(y,i[l%h]);break;case"overwrite":default:f.row=t.row,f.col=t.col;var b={row:0,col:0},C={row:n&&t?n.row-t.row+1:1,col:n&&t?n.col-t.col+1:1};for(-1!==["up","left"].indexOf(r)?b={row:Math.ceil(C.row/h)||1,col:Math.ceil(C.col/i[0].length)||1}:-1!==["down","right"].indexOf(r)&&(b={row:1,col:1}),l=0;h>l&&!(n&&f.row>n.row||!p.settings.allowInsertRow&&f.row>y.countRows()-1||f.row>=p.settings.maxRows);l++){for(f.col=t.col,u=i[l]?i[l].length:0,c=0;u>c&&!(n&&f.col>n.col||!p.settings.allowInsertColumn&&f.col>y.countCols()-1||f.col>=p.settings.maxCols);c++){if(!y.getCellMeta(f.row,f.col).readOnly){var _,x=i[l][c],k={row:l,col:c};"autofill"===o&&(_=y.runHooks("beforeAutofillInsidePopulate",k,r,i,a,b,C),_&&(b="undefined"!=typeof _.iterators?_.iterators:b,x="undefined"!=typeof _.value?_.value:x)),d.push([f.row,f.col,x])}f.col++,n&&c===u-1&&(c=-1,-1!==["down","right"].indexOf(r)?b.col++:-1!==["up","left"].indexOf(r)&&b.col>1&&b.col--)}f.row++,b.col=1,n&&l===h-1&&(l=-1,-1!==["down","right"].indexOf(r)?b.row++:-1!==["up","left"].indexOf(r)&&b.row>1&&b.row--)}y.setDataAtCell(d,null,null,o||"populateFromArray")}}},this.selection=g={inProgress:!1,selectedHeader:{cols:!1,rows:!1},setSelectedHeaders:function(t,e){y.selection.selectedHeader.rows=t,y.selection.selectedHeader.cols=e},begin:function(){y.selection.inProgress=!0},finish:function(){var t=y.getSelected();e.hooks.run(y,"afterSelectionEnd",t[0],t[1],t[2],t[3]),e.hooks.run(y,"afterSelectionEndByProp",t[0],y.colToProp(t[1]),t[2],y.colToProp(t[3])),y.selection.inProgress=!1},isInProgress:function(){return y.selection.inProgress},setRangeStart:function(t,i){e.hooks.run(y,"beforeSetRangeStart",t),p.selRange=new d(t,t,t),g.setRangeEnd(t,null,i)},setRangeEnd:function(t,i,n){e.hooks.run(y,"beforeSetRangeEnd",t),y.selection.begin(),p.selRange.to=new u(t.row,t.col),p.settings.multiSelect||(p.selRange.from=t),y.view.wt.selections.current.clear(),y.view.wt.selections.current.add(p.selRange.highlight),y.view.wt.selections.area.clear(),g.isMultiple()&&(y.view.wt.selections.area.add(p.selRange.from),y.view.wt.selections.area.add(p.selRange.to)),(p.settings.currentRowClassName||p.settings.currentColClassName)&&(y.view.wt.selections.highlight.clear(),y.view.wt.selections.highlight.add(p.selRange.from),y.view.wt.selections.highlight.add(p.selRange.to)),e.hooks.run(y,"afterSelection",p.selRange.from.row,p.selRange.from.col,p.selRange.to.row,p.selRange.to.col),e.hooks.run(y,"afterSelectionByProp",p.selRange.from.row,f.colToProp(p.selRange.from.col),p.selRange.to.row,f.colToProp(p.selRange.to.col)),i!==!1&&y.view.mainViewIsActive()&&(p.selRange.from&&!g.isMultiple()?y.view.scrollViewport(p.selRange.from):y.view.scrollViewport(t)),g.refreshBorders(null,n)},refreshBorders:function(t,e){e||v.destroyEditor(t),y.view.render(),g.isSelected()&&!e&&v.prepareEditor()},isMultiple:function(){var t=!(p.selRange.to.col===p.selRange.from.col&&p.selRange.to.row===p.selRange.from.row),i=e.hooks.run(y,"afterIsMultipleSelection",t);return t?i:void 0},transformStart:function(t,e,i,n){var o=new u(t,e);y.runHooks("modifyTransformStart",o),p.selRange.highlight.row+t>y.countRows()-1?i&&p.settings.minSpareRows>0?y.alter("insert_row",y.countRows()):p.settings.autoWrapCol&&(o.row=1-y.countRows(),o.col=p.selRange.highlight.col+o.col==y.countCols()-1?1-y.countCols():1):p.settings.autoWrapCol&&p.selRange.highlight.row+o.row<0&&p.selRange.highlight.col+o.col>=0&&(o.row=y.countRows()-1,o.col=p.selRange.highlight.col+o.col==0?y.countCols()-1:-1),p.selRange.highlight.col+o.col>y.countCols()-1?i&&p.settings.minSpareCols>0?y.alter("insert_col",y.countCols()):p.settings.autoWrapRow&&(o.row=p.selRange.highlight.row+o.row==y.countRows()-1?1-y.countRows():1,o.col=1-y.countCols()):p.settings.autoWrapRow&&p.selRange.highlight.col+o.col<0&&p.selRange.highlight.row+o.row>=0&&(o.row=p.selRange.highlight.row+o.row==0?y.countRows()-1:-1,o.col=y.countCols()-1);var s=y.countRows(),r=y.countCols(),a=new u(p.selRange.highlight.row+o.row,p.selRange.highlight.col+o.col);a.row<0?a.row=0:a.row>0&&a.row>=s&&(a.row=s-1),a.col<0?a.col=0:a.col>0&&a.col>=r&&(a.col=r-1),g.setRangeStart(a,n)},transformEnd:function(t,e){var i=new u(t,e);y.runHooks("modifyTransformEnd",i);var n=y.countRows(),o=y.countCols(),s=new u(p.selRange.to.row+i.row,p.selRange.to.col+i.col);s.row<0?s.row=0:s.row>0&&s.row>=n&&(s.row=n-1),s.col<0?s.col=0:s.col>0&&s.col>=o&&(s.col=o-1),g.setRangeEnd(s,!0)},isSelected:function(){return null!==p.selRange},inInSelection:function(t){return g.isSelected()?p.selRange.includes(t):!1},deselect:function(){g.isSelected()&&(y.selection.inProgress=!1,p.selRange=null,y.view.wt.selections.current.clear(),y.view.wt.selections.area.clear(),(p.settings.currentRowClassName||p.settings.currentColClassName)&&y.view.wt.selections.highlight.clear(),v.destroyEditor(),g.refreshBorders(),e.hooks.run(y,"afterDeselect"))},selectAll:function(){p.settings.multiSelect&&(g.setRangeStart(new u(0,0)),g.setRangeEnd(new u(y.countRows()-1,y.countCols()-1),!1))},empty:function(){if(g.isSelected()){var t,e,i=p.selRange.getTopLeftCorner(),n=p.selRange.getBottomRightCorner(),o=[];for(t=i.row;t<=n.row;t++)for(e=i.col;e<=n.col;e++)y.getCellMeta(t,e).readOnly||o.push([t,e,""]);y.setDataAtCell(o)}}},this.init=function(){e.hooks.run(y,"beforeInit"),e.mobileBrowser&&e.Dom.addClass(y.rootElement,"mobile"),this.updateSettings(p.settings,!0),this.view=new e.TableView(this),v=new e.EditorManager(y,p,g,f),this.forceFullRender=!0,this.view.render(),"object"==typeof p.firstRun&&(e.hooks.run(y,"afterChange",p.firstRun[0],p.firstRun[1]),p.firstRun=!1),e.hooks.run(y,"afterInit")},this.validateCell=function(t,i,n,o){function s(t){var e=i.col,o=i.row,s=y.getCell(o,e,!0);s&&y.view.wt.wtSettings.settings.cellRenderer(o,e,s),n(t)}var r=y.getCellValidator(i);"[object RegExp]"===Object.prototype.toString.call(r)&&(r=function(t){return function(e,i){i(t.test(e))}}(r)),"function"==typeof r?(t=e.hooks.run(y,"beforeValidate",t,i.row,i.prop,o),y._registerTimeout(setTimeout(function(){r.call(i,t,function(n){n=e.hooks.run(y,"afterValidate",n,t,i.row,i.prop,o),i.valid=n,s(n),e.hooks.run(y,"postAfterValidate",n,t,i.row,i.prop,o)})},0))):(i.valid=!0,s(i.valid))},this.setDataAtCell=function(t,e,i,n){var a,l,h,c=r(t,e,i),u=[];for(a=0,l=c.length;l>a;a++){if("object"!=typeof c[a])throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof c[a][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");h=f.colToProp(c[a][1]),u.push([c[a][0],h,f.get(c[a][0],h),c[a][2]])}n||"object"!=typeof t||(n=e),o(u,n,function(){s(u,n)})},this.setDataAtRowProp=function(t,e,i,n){var a,l,h=r(t,e,i),c=[];for(a=0,l=h.length;l>a;a++)c.push([h[a][0],h[a][1],f.get(h[a][0],h[a][1]),h[a][2]]);n||"object"!=typeof t||(n=e),o(c,n,function(){s(c,n)})},this.listen=function(){e.activeGuid=y.guid,document.activeElement&&document.activeElement!==document.body?document.activeElement.blur():document.activeElement||document.body.focus()},this.unlisten=function(){e.activeGuid=null},this.isListening=function(){return e.activeGuid===y.guid},this.destroyEditor=function(t){g.refreshBorders(t)},this.populateFromArray=function(t,e,i,n,o,s,r,a,l){var h;if("object"!=typeof i||"object"!=typeof i[0])throw new Error("populateFromArray parameter `input` must be an array of arrays");return h="number"==typeof n?new u(n,o):null,m.populateFromArray(new u(t,e),i,h,s,r,a,l)},this.spliceCol=function(t,e,i){return f.spliceCol.apply(f,arguments)},this.spliceRow=function(t,e,i){return f.spliceRow.apply(f,arguments)},this.getSelected=function(){return g.isSelected()?[p.selRange.from.row,p.selRange.from.col,p.selRange.to.row,p.selRange.to.col]:void 0},this.getSelectedRange=function(){return g.isSelected()?p.selRange:void 0},this.render=function(){y.view&&(y.forceFullRender=!0,g.refreshBorders(null,!0))},this.loadData=function(t){function i(){p.cellSettings.length=0}if("object"==typeof t&&null!==t)t.push&&t.splice||(t=[t]);else{if(null!==t)throw new Error("loadData only accepts array of objects or array of arrays ("+typeof t+" given)");t=[];for(var n,o=0,s=p.settings.startRows;s>o;o++){n=[];for(var r=0,a=p.settings.startCols;a>r;r++)n.push(null);t.push(n)}}p.isPopulated=!1,w.prototype.data=t,Array.isArray(p.settings.dataSchema)||Array.isArray(t[0])?y.dataType="array":"function"==typeof p.settings.dataSchema?y.dataType="function":y.dataType="object",f=new e.DataMap(y,p,w),i(),m.adjustRowsAndCols(),e.hooks.run(y,"afterLoadData"),p.firstRun?p.firstRun=[null,"loadData"]:(e.hooks.run(y,"afterChange",null,"loadData"),y.render()),p.isPopulated=!0},this.getData=function(t,e,i,n){return"undefined"==typeof t?f.getAll():f.getRange(new u(t,e),new u(i,n),f.DESTINATION_RENDERER)},this.getCopyableData=function(t,e,i,n){return f.getCopyableText(new u(t,e),new u(i,n))},this.updateSettings=function(t,i){var n,o;if("undefined"!=typeof t.rows)throw new Error("'rows' setting is no longer supported. do you mean startRows, minRows or maxRows?");if("undefined"!=typeof t.cols)throw new Error("'cols' setting is no longer supported. do you mean startCols, minCols or maxCols?");for(n in t)"data"!==n&&(void 0!==e.hooks.hooks[n]||void 0!==e.hooks.legacy[n]?("function"==typeof t[n]||Array.isArray(t[n]))&&y.addHook(n,t[n]):!i&&t.hasOwnProperty(n)&&(w.prototype[n]=t[n]));if(void 0===t.data&&void 0===p.settings.data?y.loadData(null):void 0!==t.data?y.loadData(t.data):void 0!==t.columns&&f.createMap(),o=y.countCols(),p.cellSettings.length=0,o>0){var s,r;for(n=0;o>n;n++)p.columnSettings[n]=e.helper.columnFactory(w,p.columnsSettingConflicts),s=p.columnSettings[n].prototype,w.prototype.columns&&(r=w.prototype.columns[n],e.helper.extend(s,r),e.helper.extend(s,a(r)))}if("undefined"!=typeof t.cell)for(n in t.cell){var l=t.cell[n];y.setCellMetaObject(l.row,l.col,l)}if(e.hooks.run(y,"afterCellMetaReset"),"undefined"!=typeof t.className&&(w.prototype.className&&e.Dom.removeClass(y.rootElement,w.prototype.className),t.className&&e.Dom.addClass(y.rootElement,t.className)),"undefined"!=typeof t.height){var h=t.height;"function"==typeof h&&(h=h()),y.rootElement.style.height=h+"px"}if("undefined"!=typeof t.width){var c=t.width;"function"==typeof c&&(c=c()),y.rootElement.style.width=c+"px"}h&&(y.rootElement.style.overflow="auto"),i||e.hooks.run(y,"afterUpdateSettings"),m.adjustRowsAndCols(),y.view&&!p.firstRun&&(y.forceFullRender=!0,g.refreshBorders(null,!0))},this.getValue=function(){var t=y.getSelected();if(w.prototype.getValue){if("function"==typeof w.prototype.getValue)return w.prototype.getValue.call(y);if(t)return y.getData()[t[0]][w.prototype.getValue]}else if(t)return y.getDataAtCell(t[0],t[1])},this.getSettings=function(){return p.settings},this.clear=function(){g.selectAll(),g.empty()},this.alter=function(t,e,i,n,o){m.alter(t,e,i,n,o)},this.getCell=function(t,e,i){return y.view.getCellAtCoords(new u(t,e),i)},this.getCoords=function(t){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,t)},this.colToProp=function(t){return f.colToProp(t)},this.propToCol=function(t){return f.propToCol(t)},this.getDataAtCell=function(t,e){return f.get(t,f.colToProp(e))},this.getDataAtRowProp=function(t,e){return f.get(t,e)},this.getDataAtCol=function(t){var e=[];return e.concat.apply(e,f.getRange(new u(0,t),new u(p.settings.data.length-1,t),f.DESTINATION_RENDERER))},this.getDataAtProp=function(t){var e,i=[];return e=f.getRange(new u(0,f.propToCol(t)),new u(p.settings.data.length-1,f.propToCol(t)),f.DESTINATION_RENDERER),i.concat.apply(i,e)},this.getSourceDataAtCol=function(t){for(var e=[],i=p.settings.data,n=0;n<i.length;n++)e.push(i[n][t]);return e},this.getSourceDataAtRow=function(t){return p.settings.data[t]},this.getDataAtRow=function(t){var e=f.getRange(new u(t,0),new u(t,this.countCols()-1),f.DESTINATION_RENDERER);return e[0]},this.removeCellMeta=function(t,e,i){var n=y.getCellMeta(t,e);void 0!=n[i]&&delete p.cellSettings[t][e][i]},this.setCellMetaObject=function(t,e,i){if("object"==typeof i)for(var n in i){var o=i[n];this.setCellMeta(t,e,n,o)}},this.setCellMeta=function(t,i,n,o){p.cellSettings[t]||(p.cellSettings[t]=[]),p.cellSettings[t][i]||(p.cellSettings[t][i]=new p.columnSettings[i]),p.cellSettings[t][i][n]=o,e.hooks.run(y,"afterSetCellMeta",t,i,n,o)},this.getCellMeta=function(t,i){var n,o=f.colToProp(i);if(t=l(t),i=h(i),p.columnSettings[i]||(p.columnSettings[i]=e.helper.columnFactory(w,p.columnsSettingConflicts)),p.cellSettings[t]||(p.cellSettings[t]=[]),p.cellSettings[t][i]||(p.cellSettings[t][i]=new p.columnSettings[i]),n=p.cellSettings[t][i],n.row=t,n.col=i,n.prop=o,n.instance=y,e.hooks.run(y,"beforeGetCellMeta",t,i,n),e.helper.extend(n,a(n)),n.cells){var s=n.cells.call(n,t,i,o);s&&(e.helper.extend(n,s),e.helper.extend(n,a(s)))}return e.hooks.run(y,"afterGetCellMeta",t,i,n),n};var C=e.helper.cellMethodLookupFactory("renderer");this.getCellRenderer=function(t,i){var n=C.call(this,t,i);return e.renderers.getRenderer(n)},this.getCellEditor=e.helper.cellMethodLookupFactory("editor"),this.getCellValidator=e.helper.cellMethodLookupFactory("validator"),this.validateCells=function(t){var e=new n;e.onQueueEmpty=t;for(var i=y.countRows()-1;i>=0;){for(var o=y.countCols()-1;o>=0;)e.addValidatorToQueue(),y.validateCell(y.getDataAtCell(i,o),y.getCellMeta(i,o),function(){e.removeValidatorFormQueue()},"validateCells"),o--;i--}e.checkIfQueueIsEmpty()},this.getRowHeader=function(t){if(void 0===t){for(var e=[],i=0,n=y.countRows();n>i;i++)e.push(y.getRowHeader(i));return e}return Array.isArray(p.settings.rowHeaders)&&void 0!==p.settings.rowHeaders[t]?p.settings.rowHeaders[t]:"function"==typeof p.settings.rowHeaders?p.settings.rowHeaders(t):p.settings.rowHeaders&&"string"!=typeof p.settings.rowHeaders&&"number"!=typeof p.settings.rowHeaders?t+1:p.settings.rowHeaders},this.hasRowHeaders=function(){return!!p.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==p.settings.colHeaders&&null!==p.settings.colHeaders)return!!p.settings.colHeaders;for(var t=0,e=y.countCols();e>t;t++)if(y.getColHeader(t))return!0;return!1},this.getColHeader=function(t){if(void 0===t){for(var i=[],n=0,o=y.countCols();o>n;n++)i.push(y.getColHeader(n));return i}var s=t;return t=e.hooks.run(y,"modifyCol",t),p.settings.columns&&p.settings.columns[t]&&p.settings.columns[t].title?p.settings.columns[t].title:Array.isArray(p.settings.colHeaders)&&void 0!==p.settings.colHeaders[t]?p.settings.colHeaders[t]:"function"==typeof p.settings.colHeaders?p.settings.colHeaders(t):p.settings.colHeaders&&"string"!=typeof p.settings.colHeaders&&"number"!=typeof p.settings.colHeaders?e.helper.spreadsheetColumnLabel(s):p.settings.colHeaders},this._getColWidthFromSettings=function(t){var e=y.getCellMeta(0,t),i=e.width;if((void 0===i||i===p.settings.width)&&(i=e.colWidths),void 0!==i&&null!==i){switch(typeof i){case"object":i=i[t];break;case"function":i=i(t)}"string"==typeof i&&(i=parseInt(i,10))}return i},this.getColWidth=function(t){var i=y._getColWidthFromSettings(t);return i||(i=50),i=e.hooks.run(y,"modifyColWidth",i,t)},this._getRowHeightFromSettings=function(t){var e=p.settings.rowHeights;if(void 0!==e&&null!==e){switch(typeof e){case"object":e=e[t];break;case"function":e=e(t)}"string"==typeof e&&(e=parseInt(e,10))}return e},this.getRowHeight=function(t){var i=y._getRowHeightFromSettings(t);return i=e.hooks.run(y,"modifyRowHeight",i,t)},this.countRows=function(){return p.settings.data.length},this.countCols=function(){return"object"===y.dataType||"function"===y.dataType?p.settings.columns&&p.settings.columns.length?p.settings.columns.length:f.colToPropCache.length:"array"===y.dataType?p.settings.columns&&p.settings.columns.length?p.settings.columns.length:p.settings.data&&p.settings.data[0]&&p.settings.data[0].length?p.settings.data[0].length:0:void 0},this.rowOffset=function(){return y.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return y.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return y.view.wt.drawn?y.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return y.view.wt.drawn?y.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return y.view.wt.drawn?y.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return y.view.wt.drawn?y.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(t){for(var i,n=y.countRows()-1,o=0;n>=0;){if(i=e.hooks.run(this,"modifyRow",n),y.isEmptyRow(i))o++;else if(t)break;n--}return o},this.countEmptyCols=function(t){if(y.countRows()<1)return 0;for(var e=y.countCols()-1,i=0;e>=0;){if(y.isEmptyCol(e))i++;else if(t)break;e--}return i},this.isEmptyRow=function(t){return p.settings.isEmptyRow.call(y,t)},this.isEmptyCol=function(t){return p.settings.isEmptyCol.call(y,t)},this.selectCell=function(t,e,i,n,o){if("number"!=typeof t||0>t||t>=y.countRows())return!1;if("number"!=typeof e||0>e||e>=y.countCols())return!1;if("undefined"!=typeof i){if("number"!=typeof i||0>i||i>=y.countRows())return!1;if("number"!=typeof n||0>n||n>=y.countCols())return!1}var s=new u(t,e);return p.selRange=new d(s,s,s),document.activeElement&&document.activeElement!==document.documentElement&&document.activeElement!==document.body&&document.activeElement.blur(),y.listen(),"undefined"==typeof i?g.setRangeEnd(p.selRange.from,o):g.setRangeEnd(new u(i,n),o),y.selection.finish(),!0},this.selectCellByProp=function(t,e,i,n,o){return arguments[1]=f.propToCol(arguments[1]),"undefined"!=typeof arguments[3]&&(arguments[3]=f.propToCol(arguments[3])),y.selectCell.apply(y,arguments)},this.deselectCell=function(){g.deselect()},this.destroy=function(){y._clearTimeouts(),y.view&&y.view.destroy(),e.Dom.empty(y.rootElement),b.clear(),e.hooks.run(y,"afterDestroy"),e.hooks.destroy(y);for(var t in y)y.hasOwnProperty(t)&&("function"==typeof y[t]?"runHooks"!==t&&(y[t]=c):"guid"!==t&&(y[t]=null));p=null,f=null,m=null,g=null,v=null,y=null,w=null},this.getActiveEditor=function(){return v.getActiveEditor()},this.getInstance=function(){return y},this.addHook=function(t,i){e.hooks.add(t,i,y)},this.addHookOnce=function(t,i){e.hooks.once(t,i,y)},this.removeHook=function(t,i){e.hooks.remove(t,i,y)},this.runHooks=function(t,i,n,o,s,r,a){return e.hooks.run(y,t,i,n,o,s,r,a)},this.timeouts=[],this._registerTimeout=function(t){this.timeouts.push(t)},this._clearTimeouts=function(){for(var t=0,e=this.timeouts.length;e>t;t++)clearTimeout(this.timeouts[t])},this.version="0.13.1"};var P=function(){};if(P.prototype={data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:null,colHeaders:null,colWidths:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",persistentState:!1,currentRowClassName:void 0,currentColClassName:void 0,stretchH:"none",isEmptyRow:function(t){for(var e,i=0,n=this.countCols();n>i;i++)if(e=this.getDataAtCell(t,i),""!==e&&null!==e&&"undefined"!=typeof e)return!1;return!0},isEmptyCol:function(t){for(var e,i=0,n=this.countRows();n>i;i++)if(e=this.getDataAtCell(i,t),""!==e&&null!==e&&"undefined"!=typeof e)return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,search:!1,type:"text",copyable:!0,editor:"text",autoComplete:void 0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:10,viewportColumnRenderingOffset:10,groups:void 0,validator:void 0,manualColumnFreeze:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,format:void 0,className:void 0},e.DefaultSettings=P,function(t){function e(){function t(t){return null!==t&&!i(t)&&("string"==typeof t||"number"==typeof t)}function e(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function i(t){return t!==t}var n={arrayMap:[],weakMap:new WeakMap};return{get:function(i){return t(i)?n.arrayMap[i]:e(i)?n.weakMap.get(i):void 0},set:function(i,o){if(t(i))n.arrayMap[i]=o;else{if(!e(i))throw new Error("Invalid key type");n.weakMap.set(i,o)}},"delete":function(i){t(i)?delete n.arrayMap[i]:e(i)&&n.weakMap["delete"](i)}}}t.MultiMap||(t.MultiMap=e)}(t),!t.Handsontable)var e={};if(e.Dom={},e.Dom.enableImmediatePropagation=function(t){null!=t&&null==t.isImmediatePropagationEnabled&&(t.stopImmediatePropagation=function(){this.isImmediatePropagationEnabled=!1,this.cancelBubble=!0},t.isImmediatePropagationEnabled=!0,t.isImmediatePropagationStopped=function(){return!this.isImmediatePropagationEnabled})},e.Dom.closest=function(t,e,i){for(;null!=t&&t!==i;){if(1===t.nodeType&&e.indexOf(t.nodeName)>-1)return t;t=t.parentNode}return null},e.Dom.isChildOf=function(t,e){var i=t.parentNode,n=[];for("string"==typeof e?n=Array.prototype.slice.call(document.querySelectorAll(e),0):n.push(e);null!=i;){if(n.indexOf(i)>-1)return!0;i=i.parentNode}return!1},e.Dom.isChildOfWebComponentTable=function(t){function e(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName===n.toUpperCase()}var i,n="hot-table",o=!1;for(i="undefined"==typeof wrap?t:wrap(t);null!=i;){if(e(i)){o=!0;break}if(i.host&&i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(o=e(i.host))break;i=i.host}i=i.parentNode}return o},e.Dom.index=function(t){var e=0;if(t.previousSibling)for(;t=t.previousSibling;)++e;return e},document.documentElement.classList?(e.Dom.hasClass=function(t,e){return t.classList.contains(e)},e.Dom.addClass=function(t,e){e&&t.classList.add(e)},e.Dom.removeClass=function(t,e){t.classList.remove(e)}):(e.Dom.hasClass=function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},e.Dom.addClass=function(t,e){""===t.className?t.className=e:this.hasClass(t,e)||(t.className+=" "+e)},e.Dom.removeClass=function(t,e){if(this.hasClass(t,e)){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").trim()}}),e.Dom.removeTextNodes=function(t,e){if(3===t.nodeType)e.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1)for(var i=t.childNodes,n=i.length-1;n>=0;n--)this.removeTextNodes(i[n],t)},e.Dom.empty=function(t){for(var e;e=t.lastChild;)t.removeChild(e)},e.Dom.HTML_CHARACTERS=/(<(.*)>|&(.*);)/,e.Dom.fastInnerHTML=function(t,e){this.HTML_CHARACTERS.test(e)?t.innerHTML=e:this.fastInnerText(t,e)},document.createTextNode("test").textContent?e.Dom.fastInnerText=function(t,e){var i=t.firstChild;i&&3===i.nodeType&&null===i.nextSibling?i.textContent=e:(this.empty(t),t.appendChild(document.createTextNode(e)))}:e.Dom.fastInnerText=function(t,e){var i=t.firstChild;i&&3===i.nodeType&&null===i.nextSibling?i.data=e:(this.empty(t),t.appendChild(document.createTextNode(e)))},e.Dom.isVisible=function(t){function i(t){return"undefined"==typeof unwrap?t:unwrap(t)}for(var n=t;i(n)!==document.documentElement;){if(null===n)return!1;if(n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(n.host){if(n.host.impl)return e.Dom.isVisible(n.host.impl);if(n.host)return e.Dom.isVisible(n.host);throw new Error("Lost in Web Components world")}return!1}if("none"===n.style.display)return!1;n=n.parentNode}return!0},e.Dom.offset=function(e){var i,n,o,s,r;if(s=document.documentElement,this.hasCaptionProblem()&&e.firstChild&&"CAPTION"===e.firstChild.nodeName)return r=e.getBoundingClientRect(),{top:r.top+(t.pageYOffset||s.scrollTop)-(s.clientTop||0),left:r.left+(t.pageXOffset||s.scrollLeft)-(s.clientLeft||0)};for(i=e.offsetLeft,n=e.offsetTop,o=e;(e=e.offsetParent)&&e!==document.body;)i+=e.offsetLeft,n+=e.offsetTop,o=e;return o&&"fixed"===o.style.position&&(i+=t.pageXOffset||s.scrollLeft,n+=t.pageYOffset||s.scrollTop),{left:i,top:n}},e.Dom.getWindowScrollTop=function(){var e=t.scrollY;return void 0==e&&(e=document.documentElement.scrollTop),e},e.Dom.getWindowScrollLeft=function(){var e=t.scrollX;return void 0==e&&(e=document.documentElement.scrollLeft),e},e.Dom.getScrollTop=function(i){return i===t?e.Dom.getWindowScrollTop(i):i.scrollTop},e.Dom.getScrollLeft=function(i){return i===t?e.Dom.getWindowScrollLeft(i):i.scrollLeft},e.Dom.getScrollableElement=function(e){for(var i,n,o,s=e.parentNode,r=["auto","scroll"];s&&s.style;){if(i=s.style.overflow,n=s.style.overflowX,o=s.style.overflowY,"scroll"==i||"scroll"==n||"scroll"==o)return s;if(s.clientHeight<s.scrollHeight&&(-1!==r.indexOf(o)||-1!==r.indexOf(i)))return s;if(s.clientWidth<s.scrollWidth&&(-1!==r.indexOf(n)||-1!==r.indexOf(i)))return s;s=s.parentNode}return t},e.Dom.getComputedStyle=function(t){return t.currentStyle||document.defaultView.getComputedStyle(t)},e.Dom.outerWidth=function(t){return t.offsetWidth},e.Dom.outerHeight=function(t){return this.hasCaptionProblem()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName?t.offsetHeight+t.firstChild.offsetHeight:t.offsetHeight;
},e.Dom.innerHeight=function(t){return t.clientHeight||t.innerHeight},e.Dom.innerWidth=function(t){return t.clientWidth||t.innerWidth},e.Dom.addEvent=function(e,i,n){t.addEventListener?e.addEventListener(i,n,!1):e.attachEvent("on"+i,n)},e.Dom.removeEvent=function(e,i,n){t.removeEventListener?e.removeEventListener(i,n,!1):e.detachEvent("on"+i,n)},function(){function t(){var t=document.createElement("TABLE");t.style.borderSpacing=0,t.style.borderWidth=0,t.style.padding=0;var e=document.createElement("TBODY");t.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var i=document.createElement("CAPTION");i.innerHTML="c<br>c<br>c<br>c",i.style.padding=0,i.style.margin=0,t.insertBefore(i,e),document.body.appendChild(t),n=t.offsetHeight<2*t.lastChild.offsetHeight,document.body.removeChild(t)}function i(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),(document.body||document.documentElement).appendChild(e);var i=t.offsetWidth;e.style.overflow="scroll";var n=t.offsetWidth;return i==n&&(n=e.clientWidth),(document.body||document.documentElement).removeChild(e),i-n}var n;e.Dom.hasCaptionProblem=function(){return void 0===n&&t(),n},e.Dom.getCaretPosition=function(t){if(t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange();if(null==e)return 0;var i=t.createTextRange(),n=i.duplicate();return i.moveToBookmark(e.getBookmark()),n.setEndPoint("EndToStart",i),n.text.length}return 0},e.Dom.getSelectionEndPosition=function(t){if(t.selectionEnd)return t.selectionEnd;if(document.selection){var e=document.selection.createRange();if(null==e)return 0;var i=t.createTextRange();return i.text.indexOf(e.text)+e.text.length}},e.Dom.setCaretPosition=function(t,e,i){if(void 0===i&&(i=e),t.setSelectionRange)t.focus(),t.setSelectionRange(e,i);else if(t.createTextRange){var n=t.createTextRange();n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",e),n.select()}};var o;e.Dom.getScrollbarWidth=function(){return void 0===o&&(o=i()),o};var s=!document.createTextNode("test").textContent;e.Dom.isIE8=function(){return s};var r=!!document.documentMode;e.Dom.isIE9=function(){return r};var a=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);e.Dom.isSafari=function(){return a},e.Dom.setOverlayPosition=function(t,e,i){s||r?(t.style.top=i,t.style.left=e):a?t.style["-webkit-transform"]="translate3d("+e+","+i+",0)":t.style.transform="translate3d("+e+","+i+",0)"},e.Dom.getCssTransform=function(t){var e;return t.style.transform&&""!=(e=t.style.transform)?["transform",e]:t.style["-webkit-transform"]&&""!=(e=t.style["-webkit-transform"])?["-webkit-transform",e]:-1},e.Dom.resetCssTransform=function(t){t.transform&&""!=t.transform?t.transform="":t["-webkit-transform"]&&""!=t["-webkit-transform"]&&(t["-webkit-transform"]="")}}(),!t.Handsontable)var e={};e.countEventManagerListeners=0,e.eventManager=function(i){var n,o,s,r;if(!i)throw new Error("instance not defined");return i.eventListeners||(i.eventListeners=[]),n=function(n,s,r){var a;return a=function(t){var i,n,o=!1;if(void 0==t.target&&void 0!=t.srcElement&&(t.definePoperty?t.definePoperty("target",{value:t.srcElement}):t.target=t.srcElement),void 0==t.preventDefault&&(t.definePoperty?t.definePoperty("preventDefault",{value:function(){this.returnValue=!1}}):t.preventDefault=function(){this.returnValue=!1}),t.isTargetWebComponent=!1,e.eventManager.isHotTableEnv){for(t="undefined"==typeof wrap?t:wrap(t),n=t.path?t.path.length:0;n--;)"HOT-TABLE"===t.path[n].nodeName?o=!0:o&&t.path[n].shadowRoot&&(i=t.path[n]),0!==n||i||(i=t.path[n]);i||(i=t.target),t.isTargetWebComponent=!0,Object.defineProperty(t,"target",{get:function(){return"undefined"==typeof wrap?i:wrap(i)},enumerable:!0,configurable:!0})}r.call(this,t)},i.eventListeners.push({element:n,event:s,callback:r,callbackProxy:a}),t.addEventListener?n.addEventListener(s,a,!1):n.attachEvent("on"+s,a),e.countEventManagerListeners++,function(){o(n,s,r)}},o=function(t,n,o){for(var s,r=i.eventListeners.length;r--;)if(s=i.eventListeners[r],s.event==n&&s.element==t){if(o&&o!=s.callback)continue;i.eventListeners.splice(r,1),s.element.removeEventListener?s.element.removeEventListener(s.event,s.callbackProxy,!1):s.element.detachEvent("on"+s.event,s.callbackProxy),e.countEventManagerListeners--}},s=function(){for(var t,e=i.eventListeners.length;e--;)t=i.eventListeners[e],t&&o(t.element,t.event,t.callback)},r=function(e,i){var n,o;n={bubbles:!0,cancelable:"mousemove"!==i,view:t,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0},document.createEvent?(o=document.createEvent("MouseEvents"),o.initMouseEvent(i,n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget||document.body.parentNode)):o=document.createEventObject(),e.dispatchEvent?e.dispatchEvent(o):e.fireEvent("on"+i,o)},{addEventListener:n,removeEventListener:o,clear:s,fireEvent:r}},e.TableView=function(i){var n=this;this.eventManager=e.eventManager(i),this.instance=i,this.settings=i.getSettings();var o=i.rootElement.getAttribute("style");o&&i.rootElement.setAttribute("data-originalstyle",o),e.Dom.addClass(i.rootElement,"handsontable");var s=document.createElement("TABLE");s.className="htCore",this.THEAD=document.createElement("THEAD"),s.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),s.appendChild(this.TBODY),i.table=s,i.container.insertBefore(s,i.container.firstChild),this.eventManager.addEventListener(i.rootElement,"mousedown",function(e){n.isTextSelectionAllowed(e.target)||(a(),e.preventDefault(),t.focus())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(t){i.selection.isInProgress()&&!t.shiftKey&&i.selection.finish()});var r;this.isMouseDown=function(){return r},this.eventManager.addEventListener(document.documentElement,"mouseup",function(t){i.selection.isInProgress()&&1===t.which&&i.selection.finish(),r=!1,e.helper.isOutsideInput(document.activeElement)&&i.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(t){var e=t.target;if(!r){if(e!==n.instance.container)for(;e!==document.documentElement;){if(null===e){if(t.isTargetWebComponent)break;return}if(e===i.rootElement)return;e=e.parentNode}n.settings.outsideClickDeselects?i.deselectCell():i.destroyEditor()}}),this.eventManager.addEventListener(s,"selectstart",function(t){n.settings.fragmentSelection||t.preventDefault()});var a=function(){t.getSelection?t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges():document.selection&&document.selection.empty()},l=[new S({className:"current",border:{width:2,color:"#5292F7",cornerVisible:function(){return n.settings.fillHandle&&!n.isCellEdited()&&!i.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!n.isCellEdited()&&!i.selection.isMultiple()}}}),new S({className:"area",border:{width:1,color:"#89AFF9",cornerVisible:function(){return n.settings.fillHandle&&!n.isCellEdited()&&i.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!n.isCellEdited()&&i.selection.isMultiple()}}}),new S({className:"highlight",highlightRowClassName:n.settings.currentRowClassName,highlightColumnClassName:n.settings.currentColClassName}),new S({className:"fill",border:{width:1,color:"red"}})];l.current=l[0],l.area=l[1],l.highlight=l[2],l.fill=l[3];var h={debug:function(){return n.settings.debug},table:s,stretchH:this.settings.stretchH,data:i.getDataAtCell,totalRows:i.countRows,totalColumns:i.countCols,fixedColumnsLeft:function(){return n.settings.fixedColumnsLeft},fixedRowsTop:function(){return n.settings.fixedRowsTop},renderAllRows:n.settings.renderAllRows,rowHeaders:function(){var t=[];return i.hasRowHeaders()&&t.push(function(t,e){n.appendRowHeader(t,e)}),e.hooks.run(i,"afterGetRowHeaderRenderers",t),t},columnHeaders:function(){var t=[];return i.hasColHeaders()&&t.push(function(t,e){n.appendColHeader(t,e)}),e.hooks.run(i,"afterGetColumnHeaderRenderers",t),t},columnWidth:i.getColWidth,rowHeight:i.getRowHeight,cellRenderer:function(t,i,o){var s=n.instance.colToProp(i),r=n.instance.getCellMeta(t,i),a=n.instance.getCellRenderer(r),l=n.instance.getDataAtRowProp(t,s);a(n.instance,o,t,i,s,l,r),e.hooks.run(n.instance,"afterRenderer",o,t,i,s,l,r)},selections:l,hideBorderOnMouseDownOver:function(){return n.settings.fragmentSelection},onCellMouseDown:function(t,o,s,a){i.listen(),n.activeWt=a,r=!0,e.Dom.enableImmediatePropagation(t),e.hooks.run(i,"beforeOnCellMouseDown",t,o,s),t.isImmediatePropagationStopped()||(2===t.button&&i.selection.inInSelection(o)||(t.shiftKey?o.row>=0&&o.col>=0&&i.selection.setRangeEnd(o):(o.row<0||o.col<0)&&(o.row>=0||o.col>=0)?(o.row<0&&(i.selectCell(0,o.col,i.countRows()-1,o.col),i.selection.setSelectedHeaders(!1,!0)),o.col<0&&(i.selectCell(o.row,0,o.row,i.countCols()-1),i.selection.setSelectedHeaders(!0,!1))):(o.row=o.row<0?0:o.row,o.col=o.col<0?0:o.col,i.selection.setRangeStart(o))),e.hooks.run(i,"afterOnCellMouseDown",t,o,s),n.activeWt=n.wt)},onCellMouseOver:function(t,o,s,a){n.activeWt=a,o.row>=0&&o.col>=0?r&&i.selection.setRangeEnd(o):r&&(o.row<0&&(i.selection.setRangeEnd(new u(i.countRows()-1,o.col)),i.selection.setSelectedHeaders(!1,!0)),o.col<0&&(i.selection.setRangeEnd(new u(o.row,i.countCols()-1)),i.selection.setSelectedHeaders(!0,!1))),e.hooks.run(i,"afterOnCellMouseOver",t,o,s),n.activeWt=n.wt},onCellCornerMouseDown:function(t){t.preventDefault(),e.hooks.run(i,"afterOnCellCornerMouseDown",t)},beforeDraw:function(t){n.beforeRender(t)},onDraw:function(t){n.onDraw(t)},onScrollVertically:function(){i.runHooks("afterScrollVertically")},onScrollHorizontally:function(){i.runHooks("afterScrollHorizontally")},onBeforeDrawBorders:function(t,e){i.runHooks("beforeDrawBorders",t,e)},onBeforeTouchScroll:function(){i.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){i.runHooks("afterMomentumScroll")},viewportRowCalculatorOverride:function(t){n.settings.viewportRowRenderingOffset&&(t.startRow=Math.max(t.startRow-n.settings.viewportRowRenderingOffset,0),t.endRow=Math.min(t.endRow+n.settings.viewportRowRenderingOffset,i.countRows()-1)),i.runHooks("afterViewportRowCalculatorOverride",t)},viewportColumnCalculatorOverride:function(t){n.settings.viewportColumnRenderingOffset&&(t.startColumn=Math.max(t.startColumn-n.settings.viewportColumnRenderingOffset,0),t.endColumn=Math.min(t.endColumn+n.settings.viewportColumnRenderingOffset,i.countCols()-1)),i.runHooks("afterViewportColumnCalculatorOverride",t)}};e.hooks.run(i,"beforeInitWalkontable",h),this.wt=new m(h),this.activeWt=this.wt,this.eventManager.addEventListener(n.wt.wtTable.spreader,"mousedown",function(t){t.target===n.wt.wtTable.spreader&&3===t.which&&e.helper.stopPropagation(t)}),this.eventManager.addEventListener(n.wt.wtTable.spreader,"contextmenu",function(t){t.target===n.wt.wtTable.spreader&&3===t.which&&e.helper.stopPropagation(t)}),this.eventManager.addEventListener(document.documentElement,"click",function(){n.settings.observeDOMVisibility&&n.wt.drawInterrupted&&(n.instance.forceFullRender=!0,n.render())})},e.TableView.prototype.isTextSelectionAllowed=function(t){return e.helper.isInput(t)?!0:this.settings.fragmentSelection&&e.Dom.isChildOf(t,this.TBODY)?!0:!1},e.TableView.prototype.isCellEdited=function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()},e.TableView.prototype.beforeRender=function(t){t&&e.hooks.run(this.instance,"beforeRender",this.instance.forceFullRender)},e.TableView.prototype.onDraw=function(t){t&&e.hooks.run(this.instance,"afterRender",this.instance.forceFullRender)},e.TableView.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1},e.TableView.prototype.getCellAtCoords=function(t,e){var i=this.wt.getCell(t,e);return 0>i?null:i},e.TableView.prototype.scrollViewport=function(t){this.wt.scrollViewport(t)},e.TableView.prototype.appendRowHeader=function(t,i){var n=document.createElement("DIV"),o=document.createElement("SPAN");n.className="relative",o.className="rowHeader",t>-1?e.Dom.fastInnerHTML(o,this.instance.getRowHeader(t)):e.Dom.fastInnerText(o,String.fromCharCode(160)),n.appendChild(o),e.Dom.empty(i),i.appendChild(n),e.hooks.run(this.instance,"afterGetRowHeader",t,i)},e.TableView.prototype.appendColHeader=function(t,i){var n=document.createElement("DIV"),o=document.createElement("SPAN");n.className="relative",o.className="colHeader",t>-1?e.Dom.fastInnerHTML(o,this.instance.getColHeader(t)):(e.Dom.fastInnerText(o,String.fromCharCode(160)),e.Dom.addClass(o,"cornerHeader")),n.appendChild(o),e.Dom.empty(i),i.appendChild(n),e.hooks.run(this.instance,"afterGetColHeader",t,i)},e.TableView.prototype.maximumVisibleElementWidth=function(t){var e=this.wt.wtViewport.getWorkspaceWidth(),i=e-t;return i>0?i:0},e.TableView.prototype.maximumVisibleElementHeight=function(t){var e=this.wt.wtViewport.getWorkspaceHeight(),i=e-t;return i>0?i:0},e.TableView.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},e.TableView.prototype.destroy=function(){this.wt.destroy(),this.eventManager.clear()},function(t){function e(t){var e,i;i={},e=t,this.getInstance=function(t){return t.guid in i||(i[t.guid]=new e(t)),i[t.guid]}}var i={},n=new WeakMap;t.editors={registerEditor:function(t,o){var s=new e(o);"string"==typeof t&&(i[t]=s),n.set(o,s)},getEditor:function(t,e){var o;if("function"==typeof t)n.get(t)||this.registerEditor(null,t),o=n.get(t);else{if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter ');o=i[t]}if(!o)throw Error('No editor registered under name "'+t+'"');return o.getInstance(e)}}}(e),function(t){t.EditorManager=function(e,i,n){function o(t){var e="function"==typeof i.settings.enterMoves?i.settings.enterMoves(event):i.settings.enterMoves;t?n.transformStart(-e.row,-e.col):n.transformStart(e.row,e.col,!0)}function s(t){t?n.transformEnd(-1,0):n.transformStart(-1,0)}function r(t){t?n.transformEnd(1,0):n.transformStart(1,0)}function a(t){t?n.transformEnd(0,1):n.transformStart(0,1)}function l(t){t?n.transformEnd(0,-1):n.transformStart(0,-1)}function h(h){var c,d;if(e.isListening()&&(t.hooks.run(e,"beforeKeyDown",h),!g&&(t.Dom.enableImmediatePropagation(h),!h.isImmediatePropagationStopped()&&(i.lastKeyCode=h.keyCode,n.isSelected())))){if(c=(h.ctrlKey||h.metaKey)&&!h.altKey,p&&!p.isWaiting()&&!t.helper.isMetaKey(h.keyCode)&&!c&&!f.isEditorOpened())return void f.openEditor("",h);switch(d=h.shiftKey?n.setRangeEnd:n.setRangeStart,h.keyCode){case m.A:c&&(n.selectAll(),h.preventDefault(),t.helper.stopPropagation(h));break;case m.ARROW_UP:f.isEditorOpened()&&p&&!p.isWaiting()&&f.closeEditorAndSaveChanges(c),s(h.shiftKey),h.preventDefault(),t.helper.stopPropagation(h);break;case m.ARROW_DOWN:f.isEditorOpened()&&p&&!p.isWaiting()&&f.closeEditorAndSaveChanges(c),r(h.shiftKey),h.preventDefault(),t.helper.stopPropagation(h);break;case m.ARROW_RIGHT:f.isEditorOpened()&&p&&!p.isWaiting()&&f.closeEditorAndSaveChanges(c),a(h.shiftKey),h.preventDefault(),t.helper.stopPropagation(h);break;case m.ARROW_LEFT:f.isEditorOpened()&&p&&!p.isWaiting()&&f.closeEditorAndSaveChanges(c),l(h.shiftKey),h.preventDefault(),t.helper.stopPropagation(h);break;case m.TAB:var v="function"==typeof i.settings.tabMoves?i.settings.tabMoves(h):i.settings.tabMoves;h.shiftKey?n.transformStart(-v.row,-v.col):n.transformStart(v.row,v.col,!0),h.preventDefault(),t.helper.stopPropagation(h);break;case m.BACKSPACE:case m.DELETE:n.empty(h),f.prepareEditor(),h.preventDefault();break;case m.F2:f.openEditor(null,h),h.preventDefault();break;case m.ENTER:f.isEditorOpened()?(p&&p.state!==t.EditorState.WAITING&&f.closeEditorAndSaveChanges(c),o(h.shiftKey)):e.getSettings().enterBeginsEditing?f.openEditor(null,h):o(h.shiftKey),h.preventDefault(),h.stopImmediatePropagation();break;case m.ESCAPE:f.isEditorOpened()&&f.closeEditorAndRestoreOriginalValue(c),h.preventDefault();break;case m.HOME:d(h.ctrlKey||h.metaKey?new u(0,i.selRange.from.col):new u(i.selRange.from.row,0)),h.preventDefault(),t.helper.stopPropagation(h);break;case m.END:d(h.ctrlKey||h.metaKey?new u(e.countRows()-1,i.selRange.from.col):new u(i.selRange.from.row,e.countCols()-1)),h.preventDefault(),t.helper.stopPropagation(h);break;case m.PAGE_UP:n.transformStart(-e.countVisibleRows(),0),h.preventDefault(),t.helper.stopPropagation(h);break;case m.PAGE_DOWN:n.transformStart(e.countVisibleRows(),0),h.preventDefault(),t.helper.stopPropagation(h)}}}function c(){function t(t,e,i){"TD"==i.nodeName&&f.openEditor()}e.addHook("afterDocumentKeyDown",h),d.addEventListener(document.documentElement,"keydown",function(t){e.runHooks("afterDocumentKeyDown",t)}),e.view.wt.update("onCellDblClick",t),e.addHook("afterDestroy",function(){g=!0})}var d,p,f=this,m=t.helper.keyCode,g=!1;d=t.eventManager(e),this.destroyEditor=function(t){this.closeEditor(t)},this.getActiveEditor=function(){return p},this.prepareEditor=function(){var n,o,s,r,a,l,h;return p&&p.isWaiting()?void this.closeEditor(!1,!1,function(t){t&&f.prepareEditor()}):(n=i.selRange.highlight.row,o=i.selRange.highlight.col,s=e.colToProp(o),r=e.getCell(n,o),a=e.getDataAtCell(n,o),l=e.getCellMeta(n,o),h=e.getCellEditor(l),void(h?(p=t.editors.getEditor(h,e),p.prepare(n,o,s,r,a,l)):p=void 0))},this.isEditorOpened=function(){return p&&p.isOpened()},this.openEditor=function(t,e){p&&!p.cellProperties.readOnly&&p.beginEditing(t,e)},this.closeEditor=function(t,e,i){p?p.finishEditing(t,e,i):i&&i(!1)},this.closeEditorAndSaveChanges=function(t){return this.closeEditor(!1,t)},this.closeEditorAndRestoreOriginalValue=function(t){return this.closeEditor(!0,t)},c()}}(e),function(t){var e={};t.renderers={registerRenderer:function(t,i){e[t]=i},getRenderer:function(t){if("function"==typeof t)return t;if("string"!=typeof t)throw Error('Only strings and functions can be passed as "renderer" parameter ');if(!(t in e))throw Error('No editor registered under name "'+t+'"');return e[t]}}}(e),e.helper={},e.helper.isPrintableChar=function(t){return 32==t||t>=48&&57>=t||t>=96&&111>=t||t>=186&&192>=t||t>=219&&222>=t||t>=226||t>=65&&90>=t},e.helper.isMetaKey=function(t){var i=e.helper.keyCode,n=[i.ARROW_DOWN,i.ARROW_UP,i.ARROW_LEFT,i.ARROW_RIGHT,i.HOME,i.END,i.DELETE,i.BACKSPACE,i.F1,i.F2,i.F3,i.F4,i.F5,i.F6,i.F7,i.F8,i.F9,i.F10,i.F11,i.F12,i.TAB,i.PAGE_DOWN,i.PAGE_UP,i.ENTER,i.ESCAPE,i.SHIFT,i.CAPS_LOCK,i.ALT];return-1!=n.indexOf(t)},e.helper.isCtrlKey=function(t){var i=e.helper.keyCode;return-1!=[i.CONTROL_LEFT,224,i.COMMAND_LEFT,i.COMMAND_RIGHT].indexOf(t)},e.helper.stringify=function(t){switch(typeof t){case"string":case"number":return t+"";case"object":return null===t?"":t.toString();case"undefined":return"";default:return t.toString()}},e.helper.spreadsheetColumnLabel=function(t){for(var e,i=t+1,n="";i>0;)e=(i-1)%26,n=String.fromCharCode(65+e)+n,i=parseInt((i-e)/26,10);return n},e.helper.createSpreadsheetData=function(t,i){t="number"==typeof t?t:100,i="number"==typeof i?i:4;var n,o,s=[];for(n=0;t>n;n++){var r=[];for(o=0;i>o;o++)r.push(e.helper.spreadsheetColumnLabel(o)+(n+1));s.push(r)}return s},e.helper.createSpreadsheetObjectData=function(t,i){t="number"==typeof t?t:100,i="number"==typeof i?i:4;var n,o,s=[];for(n=0;t>n;n++){var r={};for(o=0;i>o;o++)r["prop"+o]=e.helper.spreadsheetColumnLabel(o)+(n+1);s.push(r)}return s},e.helper.isNumeric=function(t){var e=typeof t;return"number"==e?!isNaN(t)&&isFinite(t):"string"==e?t.length?1==t.length?/\d/.test(t):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(t):!1:"object"==e?!(!t||"number"!=typeof t.valueOf()||t instanceof Date):!1},e.helper.randomString=function(){return y()},e.helper.inherit=function(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t},e.helper.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])},e.helper.deepExtend=function(t,i){for(var n in i)i.hasOwnProperty(n)&&(i[n]&&"object"==typeof i[n]?(t[n]||(Array.isArray(i[n])?t[n]=[]:t[n]={}),e.helper.deepExtend(t[n],i[n])):t[n]=i[n])},e.helper.deepClone=function(t){return"object"==typeof t?JSON.parse(JSON.stringify(t)):t},e.helper.getPrototypeOf=function(t){var e;if("object"==typeof t.__proto__)e=t.__proto__;else{var i,n=t.constructor;"function"==typeof t.constructor&&(i=n,delete t.constructor&&(n=t.constructor,t.constructor=i)),e=n?n.prototype:null}return e},e.helper.columnFactory=function(t,i){function n(){}e.helper.inherit(n,t);for(var o=0,s=i.length;s>o;o++)n.prototype[i[o]]=void 0;return n},e.helper.translateRowsToColumns=function(t){var e,i,n,o,s=[],r=0;for(e=0,i=t.length;i>e;e++)for(n=0,o=t[e].length;o>n;n++)n==r&&(s.push([]),r++),s[n].push(t[e][n]);return s},e.helper.to2dArray=function(t){for(var e=0,i=t.length;i>e;)t[e]=[t[e]],e++},e.helper.extendArray=function(t,e){for(var i=0,n=e.length;n>i;)t.push(e[i]),i++},e.helper.isInput=function(t){var e=["INPUT","SELECT","TEXTAREA"];return e.indexOf(t.nodeName)>-1},e.helper.isOutsideInput=function(t){return e.helper.isInput(t)&&-1==t.className.indexOf("handsontableInput")},e.helper.keyCode={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86},e.helper.isObject=function(t){return"[object Object]"==Object.prototype.toString.call(t)},e.helper.pivot=function(t){var e=[];if(!t||0===t.length||!t[0]||0===t[0].length)return e;for(var i=t.length,n=t[0].length,o=0;i>o;o++)for(var s=0;n>s;s++)e[s]||(e[s]=[]),e[s][o]=t[o][s];return e},e.helper.proxy=function(t,e){return function(){return t.apply(e,arguments)}},e.helper.cellMethodLookupFactory=function(t,i){function n(t){var i=e.cellTypes[t];if("undefined"==typeof i)throw new Error('You declared cell type "'+t+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');return i}return i="undefined"==typeof i?!0:i,function(o,s){return function r(o){if(o){if(o.hasOwnProperty(t)&&void 0!==o[t])return o[t];if(o.hasOwnProperty("type")&&o.type){var s;if("string"!=typeof o.type)throw new Error("Cell type must be a string ");if(s=n(o.type),s.hasOwnProperty(t))return s[t];if(i)return}return r(e.helper.getPrototypeOf(o))}}("number"==typeof o?this.getCellMeta(o,s):o)}},e.helper.isMobileBrowser=function(t){return t||(t=navigator.userAgent),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},e.helper.isTouchSupported=function(){return"ontouchstart"in t},e.helper.stopPropagation=function(t){"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.helper.pageX=function(t){if(t.pageX)return t.pageX;var i=e.Dom.getWindowScrollLeft(),n=t.clientX+i;return n},e.helper.pageY=function(t){if(t.pageY)return t.pageY;var i=e.Dom.getWindowScrollTop(),n=t.clientY+i;return n},function(t){t.DataMap=function(t,e,i){this.instance=t,this.priv=e,this.GridSettings=i,this.dataSource=this.instance.getSettings().data,this.dataSource[0]?this.duckSchema=this.recursiveDuckSchema(this.dataSource[0]):this.duckSchema={},this.createMap()},t.DataMap.prototype.DESTINATION_RENDERER=1,t.DataMap.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,t.DataMap.prototype.recursiveDuckSchema=function(t){var e;if(Array.isArray(t))e=[];else{e={};for(var i in t)t.hasOwnProperty(i)&&("object"!=typeof t[i]||Array.isArray(t[i])?e[i]=null:e[i]=this.recursiveDuckSchema(t[i]))}return e},t.DataMap.prototype.recursiveDuckColumns=function(t,e,i){var n,o;if("undefined"==typeof e&&(e=0,i=""),"object"==typeof t&&!Array.isArray(t))for(o in t)t.hasOwnProperty(o)&&(null===t[o]?(n=i+o,this.colToPropCache.push(n),this.propToColCache.set(n,e),e++):e=this.recursiveDuckColumns(t[o],e,o+"."));return e},t.DataMap.prototype.createMap=function(){var t,e,i=this.getSchema();if("undefined"==typeof i)throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new MultiMap;var n=this.instance.getSettings().columns;if(n)for(t=0,e=n.length;e>t;t++)"undefined"!=typeof n[t].data&&(this.colToPropCache[t]=n[t].data,this.propToColCache.set(n[t].data,t));else this.recursiveDuckColumns(i)},t.DataMap.prototype.colToProp=function(e){return e=t.hooks.run(this.instance,"modifyCol",e),this.colToPropCache&&"undefined"!=typeof this.colToPropCache[e]?this.colToPropCache[e]:e},t.DataMap.prototype.propToCol=function(e){var i;return i="undefined"!=typeof this.propToColCache.get(e)?this.propToColCache.get(e):e,i=t.hooks.run(this.instance,"modifyCol",i)},t.DataMap.prototype.getSchema=function(){var t=this.instance.getSettings().dataSchema;return t?"function"==typeof t?t():t:this.duckSchema},t.DataMap.prototype.createRow=function(e,i,n){var o,s,r=this.instance.countCols(),a=0;i||(i=1),("number"!=typeof e||e>=this.instance.countRows())&&(e=this.instance.countRows()),s=e;for(var l=this.instance.getSettings().maxRows;i>a&&this.instance.countRows()<l;){if("array"===this.instance.dataType){o=[];for(var h=0;r>h;h++)o.push(null)}else"function"===this.instance.dataType?o=this.instance.getSettings().dataSchema(e):(o={},t.helper.deepExtend(o,this.getSchema()));e===this.instance.countRows()?this.dataSource.push(o):this.dataSource.splice(e,0,o),a++,s++}return t.hooks.run(this.instance,"afterCreateRow",e,a,n),this.instance.forceFullRender=!0,a},t.DataMap.prototype.createCol=function(e,i,n){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var o,s,r=this.instance.countRows(),a=this.dataSource,l=0;i||(i=1),s=e;for(var h=this.instance.getSettings().maxCols;i>l&&this.instance.countCols()<h;){if(o=t.helper.columnFactory(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof e||e>=this.instance.countCols()){for(var c=0;r>c;c++)"undefined"==typeof a[c]&&(a[c]=[]),a[c].push(null);this.priv.columnSettings.push(o)}else{for(var c=0;r>c;c++)a[c].splice(s,0,null);this.priv.columnSettings.splice(s,0,o)}l++,s++}return t.hooks.run(this.instance,"afterCreateCol",e,l,n),this.instance.forceFullRender=!0,l},t.DataMap.prototype.removeRow=function(e,i){i||(i=1),"number"!=typeof e&&(e=-i),e=(this.instance.countRows()+e)%this.instance.countRows();var n=this.physicalRowsToLogical(e,i),o=t.hooks.run(this.instance,"beforeRemoveRow",e,i);if(o!==!1){var s=this.dataSource,r=s.filter(function(t,e){return-1==n.indexOf(e)});s.length=0,Array.prototype.push.apply(s,r),t.hooks.run(this.instance,"afterRemoveRow",e,i),this.instance.forceFullRender=!0}},t.DataMap.prototype.removeCol=function(e,i){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");i||(i=1),"number"!=typeof e&&(e=-i),e=(this.instance.countCols()+e)%this.instance.countCols();var n=t.hooks.run(this.instance,"beforeRemoveCol",e,i);if(n!==!1){for(var o=this.dataSource,s=0,r=this.instance.countRows();r>s;s++)o[s].splice(e,i);this.priv.columnSettings.splice(e,i),t.hooks.run(this.instance,"afterRemoveCol",e,i),this.instance.forceFullRender=!0}},t.DataMap.prototype.spliceCol=function(e,i,n){var o=4<=arguments.length?[].slice.call(arguments,3):[],s=this.instance.getDataAtCol(e),r=s.slice(i,i+n),a=s.slice(i+n);t.helper.extendArray(o,a);for(var l=0;n>l;)o.push(null),l++;return t.helper.to2dArray(o),this.instance.populateFromArray(i,e,o,null,null,"spliceCol"),r},t.DataMap.prototype.spliceRow=function(e,i,n){var o=4<=arguments.length?[].slice.call(arguments,3):[],s=this.instance.getSourceDataAtRow(e),r=s.slice(i,i+n),a=s.slice(i+n);t.helper.extendArray(o,a);for(var l=0;n>l;)o.push(null),l++;return this.instance.populateFromArray(e,i,[o],null,null,"spliceRow"),r},t.DataMap.prototype.get=function(e,i){if(e=t.hooks.run(this.instance,"modifyRow",e),"string"==typeof i&&i.indexOf(".")>-1){var n=i.split("."),o=this.dataSource[e];if(!o)return null;for(var s=0,r=n.length;r>s;s++)if(o=o[n[s]],"undefined"==typeof o)return null;return o}return"function"==typeof i?i(this.dataSource.slice(e,e+1)[0]):this.dataSource[e]?this.dataSource[e][i]:null};var e=t.helper.cellMethodLookupFactory("copyable",!1);t.DataMap.prototype.getCopyable=function(t,i){return e.call(this.instance,t,this.propToCol(i))?this.get(t,i):""},t.DataMap.prototype.set=function(e,i,n,o){if(e=t.hooks.run(this.instance,"modifyRow",e,o||"datamapGet"),"string"==typeof i&&i.indexOf(".")>-1){for(var s=i.split("."),r=this.dataSource[e],a=0,l=s.length-1;l>a;a++)"undefined"==typeof r[s[a]]&&(r[s[a]]={}),r=r[s[a]];r[s[a]]=n}else"function"==typeof i?i(this.dataSource.slice(e,e+1)[0],n):this.dataSource[e][i]=n},t.DataMap.prototype.physicalRowsToLogical=function(e,i){for(var n,o=this.instance.countRows(),s=(o+e)%o,r=[],a=i;o>s&&a;)n=t.hooks.run(this.instance,"modifyRow",s),r.push(n),a--,s++;return r},t.DataMap.prototype.clear=function(){for(var t=0;t<this.instance.countRows();t++)for(var e=0;e<this.instance.countCols();e++)this.set(t,this.colToProp(e),"")},t.DataMap.prototype.getAll=function(){return this.dataSource},t.DataMap.prototype.getRange=function(t,e,i){var n,o,s,r,a,l=[],h=i===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(o=Math.max(t.row,e.row),r=Math.max(t.col,e.col),n=Math.min(t.row,e.row);o>=n;n++){for(a=[],s=Math.min(t.col,e.col);r>=s;s++)a.push(h.call(this,n,this.colToProp(s)));l.push(a)}return l},t.DataMap.prototype.getText=function(t,e){return SheetClip.stringify(this.getRange(t,e,this.DESTINATION_RENDERER))},t.DataMap.prototype.getCopyableText=function(t,e){return SheetClip.stringify(this.getRange(t,e,this.DESTINATION_CLIPBOARD_GENERATOR))}}(e),function(t){t.renderers.cellDecorator=function(e,i,n,o,s,r,a){a.className&&(i.className?i.className=i.className+" "+a.className:i.className=a.className),a.readOnly&&t.Dom.addClass(i,a.readOnlyCellClassName),a.valid===!1&&a.invalidCellClassName?t.Dom.addClass(i,a.invalidCellClassName):t.Dom.removeClass(i,a.invalidCellClassName),a.wordWrap===!1&&a.noWordWrapClassName&&t.Dom.addClass(i,a.noWordWrapClassName),!r&&a.placeholder&&t.Dom.addClass(i,a.placeholderCellClassName)}}(e),function(t){var e=function(e,i,n,o,s,r,a){t.renderers.cellDecorator.apply(this,arguments),!r&&a.placeholder&&(r=a.placeholder);var l=t.helper.stringify(r);if(e.getSettings().trimWhitespace||(l=l.replace(/ /g,String.fromCharCode(160))),a.rendererTemplate){t.Dom.empty(i);var h=document.createElement("TEMPLATE");h.setAttribute("bind","{{}}"),h.innerHTML=a.rendererTemplate,HTMLTemplateElement.decorate(h),h.model=e.getSourceDataAtRow(n),i.appendChild(h)}else t.Dom.fastInnerText(i,l)};t.renderers.TextRenderer=e,t.renderers.registerRenderer("text",e)}(e),function(t){var e=document.createElement("DIV");e.className="htAutocompleteWrapper";var i=document.createElement("DIV");i.className="htAutocompleteArrow",i.appendChild(document.createTextNode(String.fromCharCode(9660)));var n=function(n,o,s,r,a,l,h){var c=(e.cloneNode(!0),i.cloneNode(!0));if(t.renderers.TextRenderer(n,o,s,r,a,l,h),o.appendChild(c),t.Dom.addClass(o,"htAutocomplete"),o.firstChild||o.appendChild(document.createTextNode(String.fromCharCode(160))),!n.acArrowListener){var d=t.eventManager(n);n.acArrowListener=function(e){t.Dom.hasClass(e.target,"htAutocompleteArrow")&&n.view.wt.getSetting("onCellDblClick",null,new u(s,r),o)},d.addEventListener(n.rootElement,"mousedown",n.acArrowListener),n.addHookOnce("afterDestroy",function(){d.clear()})}};t.AutocompleteRenderer=n,t.renderers.AutocompleteRenderer=n,t.renderers.registerRenderer("autocomplete",n)}(e),function(t){var e=document.createElement("INPUT");e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("autocomplete","off");var i=function(i,n,o,s,r,a,l){var h=t.eventManager(i);"undefined"==typeof l.checkedTemplate&&(l.checkedTemplate=!0),"undefined"==typeof l.uncheckedTemplate&&(l.uncheckedTemplate=!1),t.Dom.empty(n);var c=e.cloneNode(!1);
a===l.checkedTemplate||a===t.helper.stringify(l.checkedTemplate)?(c.checked=!0,n.appendChild(c)):a===l.uncheckedTemplate||a===t.helper.stringify(l.uncheckedTemplate)?n.appendChild(c):null===a?(c.className+=" noValue",n.appendChild(c)):t.Dom.fastInnerText(n,"#bad value#"),l.readOnly?h.addEventListener(c,"click",function(t){t.preventDefault()}):(h.addEventListener(c,"mousedown",function(e){t.helper.stopPropagation(e)}),h.addEventListener(c,"mouseup",function(e){t.helper.stopPropagation(e)}),h.addEventListener(c,"change",function(){this.checked?i.setDataAtRowProp(o,r,l.checkedTemplate):i.setDataAtRowProp(o,r,l.uncheckedTemplate)})),i.CheckboxRenderer&&i.CheckboxRenderer.beforeKeyDownHookBound||(i.CheckboxRenderer={beforeKeyDownHookBound:!0},i.addHook("beforeKeyDown",function(e){if(t.Dom.enableImmediatePropagation(e),e.keyCode==t.helper.keyCode.SPACE||e.keyCode==t.helper.keyCode.ENTER)for(var n,o,s,r=i.getSelectedRange(),a=r.getTopLeftCorner(),l=r.getBottomRightCorner(),c=a.row;c<=l.row;c++)for(var u=a.col;u<=l.col;u++)if(n=i.getCell(c,u),s=i.getCellMeta(c,u),o=n.querySelectorAll("input[type=checkbox]"),o.length>0&&!s.readOnly){e.isImmediatePropagationStopped()||(e.stopImmediatePropagation(),e.preventDefault());for(var d=0,p=o.length;p>d;d++)o[d].checked=!o[d].checked,h.fireEvent(o[d],"change")}}))};t.CheckboxRenderer=i,t.renderers.CheckboxRenderer=i,t.renderers.registerRenderer("checkbox",i)}(e),function(t){var e=function(e,i,n,o,s,r,a){t.helper.isNumeric(r)&&("undefined"!=typeof a.language&&numeral.language(a.language),r=numeral(r).format(a.format||"0"),t.Dom.addClass(i,"htNumeric")),t.renderers.TextRenderer(e,i,n,o,s,r,a)};t.NumericRenderer=e,t.renderers.NumericRenderer=e,t.renderers.registerRenderer("numeric",e)}(e),function(t){var e=function(e,i,n,o,s,r,a){t.renderers.TextRenderer.apply(this,arguments),r=i.innerHTML;var l,h=a.hashLength||r.length,c=a.hashSymbol||"*";for(l="";l.split(c).length-1<h;l+=c);t.Dom.fastInnerHTML(i,l)};t.PasswordRenderer=e,t.renderers.PasswordRenderer=e,t.renderers.registerRenderer("password",e)}(e),function(t){function e(e,i,n,o,s,r,a){t.renderers.cellDecorator.apply(this,arguments),t.Dom.fastInnerHTML(i,r)}t.renderers.registerRenderer("html",e),t.renderers.HtmlRenderer=e}(e),function(t){function e(e){this.instance=e,this.state=t.EditorState.VIRGIN,this._opened=!1,this._closeCallback=null,this.init()}t.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"},e.prototype._fireCallbacks=function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)},e.prototype.init=function(){},e.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},e.prototype.setValue=function(t){throw Error("Editor setValue() method unimplemented")},e.prototype.open=function(){throw Error("Editor open() method unimplemented")},e.prototype.close=function(){throw Error("Editor close() method unimplemented")},e.prototype.prepare=function(e,i,n,o,s,r){this.TD=o,this.row=e,this.col=i,this.prop=n,this.originalValue=s,this.cellProperties=r,this.state=t.EditorState.VIRGIN},e.prototype.extend=function(){function t(){i.apply(this,arguments)}function e(t,e){function i(){}return i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t}var i=this.constructor;return e(t,i)},e.prototype.saveValue=function(t,e){var i,n;e?(i=this.instance.getSelected(),i[0]>i[2]&&(n=i[0],i[0]=i[2],i[2]=n),i[1]>i[3]&&(n=i[1],i[1]=i[3],i[3]=n),this.instance.populateFromArray(i[0],i[1],t,i[2],i[3],"edit")):this.instance.populateFromArray(this.row,this.col,t,null,null,"edit")},e.prototype.beginEditing=function(e,i){this.state==t.EditorState.VIRGIN&&(this.instance.view.scrollViewport(new u(this.row,this.col)),this.instance.view.render(),this.state=t.EditorState.EDITING,e="string"==typeof e?e:this.originalValue,this.setValue(t.helper.stringify(e)),this.open(i),this._opened=!0,this.focus(),this.instance.view.render())},e.prototype.finishEditing=function(e,i,n){var o,s=this;if(n){var r=this._closeCallback;this._closeCallback=function(t){r&&r(t),n(t)}}if(!this.isWaiting()){if(this.state==t.EditorState.VIRGIN)return void this.instance._registerTimeout(setTimeout(function(){s._fireCallbacks(!0)},0));if(this.state==t.EditorState.EDITING){if(e)return this.cancelChanges(),void this.instance.view.render();o=this.instance.getSettings().trimWhitespace?[["string"==typeof this.getValue()?String.prototype.trim.call(this.getValue()||""):this.getValue()]]:[[this.getValue()]],this.state=t.EditorState.WAITING,this.saveValue(o,i),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(e){s.state=t.EditorState.FINISHED,s.discardEditor(e)}):(this.state=t.EditorState.FINISHED,this.discardEditor(!0))}}},e.prototype.cancelChanges=function(){this.state=t.EditorState.FINISHED,this.discardEditor()},e.prototype.discardEditor=function(e){this.state===t.EditorState.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=t.EditorState.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this.state=t.EditorState.VIRGIN,this._fireCallbacks(!0)))},e.prototype.isOpened=function(){return this._opened},e.prototype.isWaiting=function(){return this.state===t.EditorState.WAITING},t.editors.BaseEditor=e}(e),function(t){var e=t.editors.BaseEditor.prototype.extend();e.prototype.init=function(){var e=this;this.createElements(),this.eventManager=new t.eventManager(this),this.bindEvents(),this.autoResize=O(),this.instance.addHook("afterDestroy",function(){e.destroy()})},e.prototype.getValue=function(){return this.TEXTAREA.value},e.prototype.setValue=function(t){this.TEXTAREA.value=t};var i=function(e){var i,n,o=this,s=o.getActiveEditor();if(i=t.helper.keyCode,n=(e.ctrlKey||e.metaKey)&&!e.altKey,t.Dom.enableImmediatePropagation(e),e.target===s.TEXTAREA&&!e.isImmediatePropagationStopped()){if(17===e.keyCode||224===e.keyCode||91===e.keyCode||93===e.keyCode)return void e.stopImmediatePropagation();switch(e.keyCode){case i.ARROW_RIGHT:t.Dom.getCaretPosition(s.TEXTAREA)!==s.TEXTAREA.value.length&&e.stopImmediatePropagation();break;case i.ARROW_LEFT:0!==t.Dom.getCaretPosition(s.TEXTAREA)&&e.stopImmediatePropagation();break;case i.ENTER:var r=s.instance.getSelected(),a=!(r[0]===r[2]&&r[1]===r[3]);if(n&&!a||e.altKey){if(s.isOpened()){var l=t.Dom.getCaretPosition(s.TEXTAREA),h=s.getValue(),c=h.slice(0,l)+"\n"+h.slice(l);s.setValue(c),t.Dom.setCaretPosition(s.TEXTAREA,l+1)}else s.beginEditing(s.originalValue+"\n");e.stopImmediatePropagation()}e.preventDefault();break;case i.A:case i.X:case i.C:case i.V:n&&e.stopImmediatePropagation();break;case i.BACKSPACE:case i.DELETE:case i.HOME:case i.END:e.stopImmediatePropagation()}s.autoResize.resize(String.fromCharCode(e.keyCode))}};e.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",i)},e.prototype.close=function(){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",i)},e.prototype.focus=function(){this.TEXTAREA.focus(),t.Dom.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},e.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),t.Dom.addClass(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),t.Dom.addClass(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var e=this;this.instance._registerTimeout(setTimeout(function(){e.refreshDimensions()},0))},e.prototype.checkEditorSection=function(){return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?"corner":"top":this.col<this.instance.getSettings().fixedColumnsLeft?"left":void 0},e.prototype.getEditedCell=function(){var t,e=this.checkEditorSection();switch(e){case"top":t=this.instance.view.wt.wtScrollbars.vertical.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"corner":t=this.instance.view.wt.wtScrollbars.corner.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":t=this.instance.view.wt.wtScrollbars.horizontal.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=t&&-2!=t?t:void 0},e.prototype.refreshDimensions=function(){if(this.state===t.EditorState.EDITING&&(this.TD=this.getEditedCell(),this.TD)){var e,i=t.Dom.offset(this.TD),n=t.Dom.offset(this.instance.rootElement),o=i.top-n.top-1,s=i.left-n.left-1,r=this.instance.getSettings(),a=r.rowHeaders?1:0,l=r.colHeaders?1:0,h=this.checkEditorSection();switch(h){case"top":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.vertical.clone.wtTable.holder.parentNode);break;case"left":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.horizontal.clone.wtTable.holder.parentNode);break;case"corner":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.corner.clone.wtTable.holder.parentNode)}0>o&&(o=0),0>s&&(s=0),l&&0===this.instance.getSelected()[0]&&(o+=1),e&&-1!=e?this.textareaParentStyle[e[0]]=e[1]:t.Dom.resetCssTransform(this.textareaParentStyle),this.textareaParentStyle.top=o+"px",this.textareaParentStyle.left=s+"px";var c=this.TD.offsetTop-this.instance.view.wt.wtScrollbars.vertical.getScrollPosition(),u=this.TD.offsetLeft-this.instance.view.wt.wtScrollbars.horizontal.getScrollPosition(),d=t.Dom.innerWidth(this.TD)-8,p=this.instance.view.maximumVisibleElementWidth(u)-8,f=this.TD.scrollHeight+1,m=this.instance.view.maximumVisibleElementHeight(c)-2;parseInt(this.TD.style.borderTopWidth,10)>0&&(f-=1),parseInt(this.TD.style.borderLeftWidth,10)>0&&a>0&&(d-=1),this.TEXTAREA.style.fontSize=t.Dom.getComputedStyle(this.TD).fontSize,this.TEXTAREA.style.fontFamily=t.Dom.getComputedStyle(this.TD).fontFamily,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(f,m),maxHeight:m,minWidth:Math.min(d,p),maxWidth:p},!0),this.textareaParentStyle.display="block"}},e.prototype.bindEvents=function(){var e=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(e){t.helper.stopPropagation(e)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(e){t.helper.stopPropagation(e)}),this.instance.addHook("afterScrollVertically",function(){e.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterRowResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterDestroy",function(){e.eventManager.clear()})},e.prototype.destroy=function(){this.eventManager.clear()},t.editors.TextEditor=e,t.editors.registerEditor("text",t.editors.TextEditor)}(e),function(e){var i=e.editors.BaseEditor.prototype.extend(),n={},o=function(){this.controls={},this.controls.leftButton=document.createElement("DIV"),this.controls.leftButton.className="leftButton",this.controls.rightButton=document.createElement("DIV"),this.controls.rightButton.className="rightButton",this.controls.upButton=document.createElement("DIV"),this.controls.upButton.className="upButton",this.controls.downButton=document.createElement("DIV"),this.controls.downButton.className="downButton";for(var t in this.controls)this.controls.hasOwnProperty(t)&&this.positionControls.appendChild(this.controls[t])};i.prototype.valueChanged=function(){return this.initValue!=this.getValue()},i.prototype.init=function(){var t=this;this.eventManager=new e.eventManager(this.instance),this.createElements(),this.bindEvents(),this.instance.addHook("afterDestroy",function(){t.destroy()})},i.prototype.getValue=function(){return this.TEXTAREA.value},i.prototype.setValue=function(t){this.initValue=t,this.TEXTAREA.value=t},i.prototype.createElements=function(){this.editorContainer=document.createElement("DIV"),this.editorContainer.className="htMobileEditorContainer",this.cellPointer=document.createElement("DIV"),this.cellPointer.className="cellPointer",this.moveHandle=document.createElement("DIV"),this.moveHandle.className="moveHandle",this.inputPane=document.createElement("DIV"),this.inputPane.className="inputs",this.positionControls=document.createElement("DIV"),this.positionControls.className="positionControls",this.TEXTAREA=document.createElement("TEXTAREA"),e.Dom.addClass(this.TEXTAREA,"handsontableInput"),this.inputPane.appendChild(this.TEXTAREA),this.editorContainer.appendChild(this.cellPointer),this.editorContainer.appendChild(this.moveHandle),this.editorContainer.appendChild(this.inputPane),this.editorContainer.appendChild(this.positionControls),o.call(this),document.body.appendChild(this.editorContainer)},i.prototype.onBeforeKeyDown=function(t){var i=this,n=i.getActiveEditor();if(e.Dom.enableImmediatePropagation(t),t.target===n.TEXTAREA&&!t.isImmediatePropagationStopped()){var o=e.helper.keyCode;switch(t.keyCode){case o.ENTER:n.close(),t.preventDefault();break;case o.BACKSPACE:t.stopImmediatePropagation()}}},i.prototype.open=function(){this.instance.addHook("beforeKeyDown",this.onBeforeKeyDown),e.Dom.addClass(this.editorContainer,"active"),e.Dom.removeClass(this.cellPointer,"hidden"),this.updateEditorPosition()},i.prototype.focus=function(){this.TEXTAREA.focus(),e.Dom.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},i.prototype.close=function(){this.TEXTAREA.blur(),this.instance.removeHook("beforeKeyDown",this.onBeforeKeyDown),e.Dom.removeClass(this.editorContainer,"active")},i.prototype.scrollToView=function(){var t=this.instance.getSelectedRange().highlight;this.instance.view.scrollViewport(t)},i.prototype.hideCellPointer=function(){e.Dom.hasClass(this.cellPointer,"hidden")||e.Dom.addClass(this.cellPointer,"hidden")},i.prototype.updateEditorPosition=function(i,o){if(i&&o)i=parseInt(i,10),o=parseInt(o,10),this.editorContainer.style.top=o+"px",this.editorContainer.style.left=i+"px";else{var s=this.instance.getSelected(),r=this.instance.getCell(s[0],s[1]);if(n.cellPointer||(n.cellPointer={height:e.Dom.outerHeight(this.cellPointer),width:e.Dom.outerWidth(this.cellPointer)}),n.editorContainer||(n.editorContainer={width:e.Dom.outerWidth(this.editorContainer)}),void 0!==r){var a=this.instance.view.wt.wtScrollbars.horizontal.scrollHandler==t?0:e.Dom.getScrollLeft(this.instance.view.wt.wtScrollbars.horizontal.scrollHandler),l=this.instance.view.wt.wtScrollbars.vertical.scrollHandler==t?0:e.Dom.getScrollTop(this.instance.view.wt.wtScrollbars.vertical.scrollHandler),h=e.Dom.offset(r),c=e.Dom.outerWidth(r),u={x:a,y:l};this.editorContainer.style.top=parseInt(h.top+e.Dom.outerHeight(r)-u.y+n.cellPointer.height,10)+"px",this.editorContainer.style.left=parseInt(t.innerWidth/2-n.editorContainer.width/2,10)+"px",h.left+c/2>parseInt(this.editorContainer.style.left,10)+n.editorContainer.width?this.editorContainer.style.left=t.innerWidth-n.editorContainer.width+"px":h.left+c/2<parseInt(this.editorContainer.style.left,10)+20&&(this.editorContainer.style.left="0px"),this.cellPointer.style.left=parseInt(h.left-n.cellPointer.width/2-e.Dom.offset(this.editorContainer).left+c/2-u.x,10)+"px"}}},i.prototype.updateEditorData=function(){var t=this.instance.getSelected(),e=this.instance.getDataAtCell(t[0],t[1]);this.row=t[0],this.col=t[1],this.setValue(e),this.updateEditorPosition()},i.prototype.prepareAndSave=function(){var t;return this.valueChanged()?(t=this.instance.getSettings().trimWhitespace?[[String.prototype.trim.call(this.getValue())]]:[[this.getValue()]],void this.saveValue(t)):!0},i.prototype.bindEvents=function(){var i=this;this.eventManager.addEventListener(this.controls.leftButton,"touchend",function(t){i.prepareAndSave(),i.instance.selection.transformStart(0,-1,null,!0),i.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.controls.rightButton,"touchend",function(t){i.prepareAndSave(),i.instance.selection.transformStart(0,1,null,!0),i.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.controls.upButton,"touchend",function(t){i.prepareAndSave(),i.instance.selection.transformStart(-1,0,null,!0),i.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.controls.downButton,"touchend",function(t){i.prepareAndSave(),i.instance.selection.transformStart(1,0,null,!0),i.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.moveHandle,"touchstart",function(t){if(1==t.touches.length){var e=t.touches[0],n={x:i.editorContainer.offsetLeft,y:i.editorContainer.offsetTop},o={x:e.pageX-n.x,y:e.pageY-n.y};i.eventManager.addEventListener(this,"touchmove",function(t){var e=t.touches[0];i.updateEditorPosition(e.pageX-o.x,e.pageY-o.y),i.hideCellPointer(),t.preventDefault()})}}),this.eventManager.addEventListener(document.body,"touchend",function(t){e.Dom.isChildOf(t.target,i.editorContainer)||e.Dom.isChildOf(t.target,i.instance.rootElement)||i.close()}),this.eventManager.addEventListener(this.instance.view.wt.wtScrollbars.horizontal.scrollHandler,"scroll",function(e){i.instance.view.wt.wtScrollbars.horizontal.scrollHandler!=t&&i.hideCellPointer()}),this.eventManager.addEventListener(this.instance.view.wt.wtScrollbars.vertical.scrollHandler,"scroll",function(e){i.instance.view.wt.wtScrollbars.vertical.scrollHandler!=t&&i.hideCellPointer()})},i.prototype.destroy=function(){this.eventManager.clear(),this.editorContainer.parentNode.removeChild(this.editorContainer)},e.editors.MobileTextEditor=i,e.editors.registerEditor("mobile",e.editors.MobileTextEditor)}(e),function(t){var e=t.editors.BaseEditor.prototype.extend();e.prototype.beginEditing=function(){var t=this.TD.querySelector('input[type="checkbox"]');t&&t.click()},e.prototype.finishEditing=function(){},e.prototype.init=function(){},e.prototype.open=function(){},e.prototype.close=function(){},e.prototype.getValue=function(){},e.prototype.setValue=function(){},e.prototype.focus=function(){},t.editors.CheckboxEditor=e,t.editors.registerEditor("checkbox",e)}(e),function(e){var i=e.editors.TextEditor.prototype.extend();i.prototype.init=function(){if("function"!=typeof moment)throw new Error("You need to include moment.js to your project.");if("function"!=typeof Pikaday)throw new Error("You need to include Pikaday to your project.");e.editors.TextEditor.prototype.init.apply(this,arguments),this.isCellEdited=!1;var t=this;this.instance.addHook("afterDestroy",function(){t.parentDestroyed=!0,t.destroyElements()})},i.prototype.createElements=function(){var t=this;e.editors.TextEditor.prototype.createElements.apply(this,arguments),this.defaultDateFormat="DD/MM/YYYY",this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,e.Dom.addClass(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker);var i=this.TEXTAREA,n={format:t.defaultDateFormat,field:i,trigger:i,container:t.datePicker,reposition:!1,bound:!1,onSelect:function(e){isNaN(e.getTime())||(e=moment(e).format(t.cellProperties.dateFormat||t.defaultDateFormat)),t.setValue(e),t.hideDatepicker()},onClose:function(){t.parentDestroyed||t.finishEditing(!1)}};this.$datePicker=new Pikaday(n);var o=e.eventManager(this);o.addEventListener(this.datePicker,"mousedown",function(t){e.helper.stopPropagation(t)}),this.hideDatepicker()},i.prototype.destroyElements=function(){this.$datePicker.destroy()},i.prototype.prepare=function(){this._opened=!1,e.editors.TextEditor.prototype.prepare.apply(this,arguments)},i.prototype.open=function(t){e.editors.TextEditor.prototype.open.call(this),this.showDatepicker(t)},i.prototype.close=function(){var t=this;this._opened=!1,this.instance._registerTimeout(setTimeout(function(){t.instance.selection.refreshBorders()},0)),e.editors.TextEditor.prototype.close.apply(this,arguments)},i.prototype.finishEditing=function(t,i){if(t){var n=this.originalValue;void 0!==n&&this.setValue(n)}this.hideDatepicker(),e.editors.TextEditor.prototype.finishEditing.apply(this,arguments)},i.prototype.showDatepicker=function(i){var n,o=this.TD.getBoundingClientRect(),s=this.cellProperties.dateFormat||this.defaultDateFormat,r=this.$datePicker.config(),a=this.instance.view.isMouseDown(),l=i?e.helper.isMetaKey(i.keyCode):!1;this.datePickerStyle.top=t.pageYOffset+o.top+e.Dom.outerHeight(this.TD)+"px",this.datePickerStyle.left=t.pageXOffset+o.left+"px",this.$datePicker._onInputFocus=function(){},r.format=s,this.originalValue?(n=this.originalValue,moment(n,s,!0).isValid()&&this.$datePicker.setMoment(moment(n,s),!0),l||a||this.setValue("")):this.cellProperties.defaultDate&&(n=this.cellProperties.defaultDate,r.defaultDate=n,moment(n,s,!0).isValid()&&this.$datePicker.setMoment(moment(n,s),!0),l||a||this.setValue("")),this.datePickerStyle.display="block",this.$datePicker.show()},i.prototype.hideDatepicker=function(){this.datePickerStyle.display="none",this.$datePicker.hide()},e.editors.DateEditor=i,e.editors.registerEditor("date",i)}(e),function(t){var e=t.editors.TextEditor.prototype.extend();e.prototype.createElements=function(){t.editors.TextEditor.prototype.createElements.apply(this,arguments);var e=document.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.htEditor=new t(e),this.assignHooks()},e.prototype.prepare=function(e,i,n,o,s,r){t.editors.TextEditor.prototype.prepare.apply(this,arguments);var a=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,cells:function(){return{readOnly:!0}},fillHandle:!1,afterOnCellMouseDown:function(){var t=this.getValue();void 0!==t&&a.setValue(t),a.instance.destroyEditor()}};this.cellProperties.handsontable&&t.helper.extend(l,r.handsontable),this.htEditor&&this.htEditor.destroy(),this.htEditor=new t(this.htContainer,l)};var i=function(e){if(null!=e&&null==e.isImmediatePropagationEnabled&&(e.stopImmediatePropagation=function(){this.isImmediatePropagationEnabled=!1,this.cancelBubble=!0},e.isImmediatePropagationEnabled=!0,e.isImmediatePropagationStopped=function(){return!this.isImmediatePropagationEnabled}),!e.isImmediatePropagationStopped()){var i,n=this.getActiveEditor(),o=n.htEditor.getInstance();if(e.keyCode==t.helper.keyCode.ARROW_DOWN)if(o.getSelected()){var s=o.getSelected()[0],r=o.countRows()-1;i=Math.min(r,s+1)}else i=0;else if(e.keyCode==t.helper.keyCode.ARROW_UP&&o.getSelected()){var s=o.getSelected()[0];i=s-1}void 0!==i&&(0>i?o.deselectCell():o.selectCell(i,0),e.preventDefault(),e.stopImmediatePropagation(),n.instance.listen(),n.TEXTAREA.focus())}};e.prototype.open=function(){this.instance.addHook("beforeKeyDown",i),t.editors.TextEditor.prototype.open.apply(this,arguments),this.htEditor.render(),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),t.Dom.setCaretPosition(this.TEXTAREA,0,this.TEXTAREA.value.length)},e.prototype.close=function(){this.instance.removeHook("beforeKeyDown",i),this.instance.listen(),t.editors.TextEditor.prototype.close.apply(this,arguments)},e.prototype.focus=function(){this.instance.listen(),t.editors.TextEditor.prototype.focus.apply(this,arguments)},e.prototype.beginEditing=function(e){var i=this.instance.getSettings().onBeginEditing;i&&i()===!1||t.editors.TextEditor.prototype.beginEditing.apply(this,arguments)},e.prototype.finishEditing=function(e,i){if(this.htEditor.isListening()&&this.instance.listen(),this.htEditor.getSelected()){var n=this.htEditor.getInstance().getValue();void 0!==n&&this.setValue(n)}return t.editors.TextEditor.prototype.finishEditing.apply(this,arguments)},e.prototype.assignHooks=function(){var t=this;this.instance.addHook("afterDestroy",function(){t.htEditor&&t.htEditor.destroy()})},t.editors.HandsontableEditor=e,t.editors.registerEditor("handsontable",e)}(e),function(e){var i=e.editors.HandsontableEditor.prototype.extend();i.prototype.init=function(){e.editors.HandsontableEditor.prototype.init.apply(this,arguments);var t=this.htEditor.getInstance();t.updateSettings({height:1}),this.query=null,this.choices=[]},i.prototype.createElements=function(){e.editors.HandsontableEditor.prototype.createElements.apply(this,arguments);var i=function(){return-1!=t.navigator.platform.indexOf("Mac")?"htMacScroll":""};e.Dom.addClass(this.htContainer,"autocompleteEditor"),e.Dom.addClass(this.htContainer,i())};var n=!1,o=function(t){n=!1;var i=this.getActiveEditor(),o=e.helper.keyCode;if(e.helper.isPrintableChar(t.keyCode)||t.keyCode===o.BACKSPACE||t.keyCode===o.DELETE||t.keyCode===o.INSERT){var s=0;if(t.keyCode===o.C&&(t.ctrlKey||t.metaKey))return;i.isOpened()||(s+=10),i.instance._registerTimeout(setTimeout(function(){i.queryChoices(i.TEXTAREA.value),n=!0},s))}};i.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",o),e.editors.HandsontableEditor.prototype.prepare.apply(this,arguments)},i.prototype.open=function(){e.editors.HandsontableEditor.prototype.open.apply(this,arguments),this.TEXTAREA.style.visibility="visible",this.focus(),this.htContainer.style.overflow="hidden";var t=this.htEditor.getInstance(),i=this;t.updateSettings({colWidths:[e.Dom.outerWidth(this.TEXTAREA)-2],afterRenderer:function(t,e,n,o,s){var r=this.getCellMeta(e,n).filteringCaseSensitive===!0;if(s){var a=r?s.indexOf(this.query):s.toLowerCase().indexOf(i.query.toLowerCase());if(-1!=a){var l=s.substr(a,i.query.length);t.innerHTML=s.replace(l,"<strong>"+l+"</strong>")}}}}),n&&(n=!1),i.instance._registerTimeout(setTimeout(function(){i.queryChoices(i.TEXTAREA.value),i.htContainer.style.overflow="auto"},0))},i.prototype.close=function(){e.editors.HandsontableEditor.prototype.close.apply(this,arguments)},i.prototype.queryChoices=function(t){if(this.query=t,"function"==typeof this.cellProperties.source){var e=this;this.cellProperties.source(t,function(t){e.updateChoicesList(t)})}else if(Array.isArray(this.cellProperties.source)){var i;if(t&&this.cellProperties.filter!==!1){var n=this.cellProperties.filteringCaseSensitive===!0,o=t.toLowerCase();i=this.cellProperties.source.filter(function(e){return n?-1!=e.indexOf(t):-1!=e.toLowerCase().indexOf(o)})}else i=this.cellProperties.source;this.updateChoicesList(i)}else this.updateChoicesList([])},i.prototype.updateChoicesList=function(t){var n,o=e.Dom.getCaretPosition(this.TEXTAREA),s=e.Dom.getSelectionEndPosition(this.TEXTAREA),r=i.sortByRelevance(this.getValue(),t,this.cellProperties.filteringCaseSensitive);if(0!=this.cellProperties.filter){for(var a=[],l=0,h=r.length;h>l;l++)a.push(t[r[l]]);n=0,t=a}else n=r[0];this.choices=t,this.htEditor.loadData(e.helper.pivot([t])),this.htEditor.updateSettings({height:this.getDropdownHeight()}),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(n),this.instance.listen(),this.TEXTAREA.focus(),e.Dom.setCaretPosition(this.TEXTAREA,o,o!=s?s:void 0)},i.prototype.finishEditing=function(t){t||this.instance.removeHook("beforeKeyDown",o),e.editors.HandsontableEditor.prototype.finishEditing.apply(this,arguments)},i.prototype.highlightBestMatchingChoice=function(t){"number"==typeof t?this.htEditor.selectCell(t,0):this.htEditor.deselectCell()},i.sortByRelevance=function(t,e,i){var n,o,s,r,a,l=[],h=t.length,c=[];if(0===h){for(r=0,a=e.length;a>r;r++)c.push(r);return c}for(r=0,a=e.length;a>r;r++)n=e[r],o=i?n.indexOf(t):n.toLowerCase().indexOf(t.toLowerCase()),-1!=o&&(s=n.length-o-h,l.push({baseIndex:r,index:o,charsLeft:s,value:n}));for(l.sort(function(t,e){return-1===e.index?-1:-1===t.index?1:t.index<e.index?-1:e.index<t.index?1:t.index===e.index?t.charsLeft<e.charsLeft?-1:t.charsLeft>e.charsLeft?1:0:void 0}),r=0,a=l.length;a>r;r++)c.push(l[r].baseIndex);return c},i.prototype.getDropdownHeight=function(){var t=this.htEditor.getInstance().getRowHeight(0)||23;return this.choices.length>=10?10*t:this.choices.length*t+8},e.editors.AutocompleteEditor=i,e.editors.registerEditor("autocomplete",i)}(e),function(t){var e=t.editors.TextEditor.prototype.extend();e.prototype.createElements=function(){t.editors.TextEditor.prototype.createElements.apply(this,arguments),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,t.Dom.empty(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)},t.editors.PasswordEditor=e,t.editors.registerEditor("password",e)}(e),function(t){var e=t.editors.BaseEditor.prototype.extend();e.prototype.init=function(){this.select=document.createElement("SELECT"),t.Dom.addClass(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select)},e.prototype.prepare=function(){t.editors.BaseEditor.prototype.prepare.apply(this,arguments);var e,i=this.cellProperties.selectOptions;e="function"==typeof i?this.prepareOptions(i(this.row,this.col,this.prop)):this.prepareOptions(i),t.Dom.empty(this.select);for(var n in e)if(e.hasOwnProperty(n)){var o=document.createElement("OPTION");o.value=n,t.Dom.fastInnerHTML(o,e[n]),this.select.appendChild(o)}},e.prototype.prepareOptions=function(t){var e={};if(Array.isArray(t))for(var i=0,n=t.length;n>i;i++)e[t[i]]=t[i];else"object"==typeof t&&(e=t);return e},e.prototype.getValue=function(){return this.select.value},e.prototype.setValue=function(t){this.select.value=t};var i=function(e){var i=this,n=i.getActiveEditor();switch(e.keyCode){case t.helper.keyCode.ARROW_UP:var o=n.select.find("option:selected").prev();1==o.length&&o.prop("selected",!0),e.stopImmediatePropagation(),e.preventDefault();break;case t.helper.keyCode.ARROW_DOWN:var s=n.select.find("option:selected").next();1==s.length&&s.prop("selected",!0),e.stopImmediatePropagation(),e.preventDefault()}};e.prototype.checkEditorSection=function(){return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?"corner":"top":this.col<this.instance.getSettings().fixedColumnsLeft?"left":void 0},e.prototype.open=function(){var e,n=t.Dom.outerWidth(this.TD),o=t.Dom.outerHeight(this.TD),s=t.Dom.offset(this.instance.rootElement),r=t.Dom.offset(this.TD),a=this.checkEditorSection();switch(a){case"top":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.vertical.clone.wtTable.holder.parentNode);break;case"left":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.horizontal.clone.wtTable.holder.parentNode);break;case"corner":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.corner.clone.wtTable.holder.parentNode)}var l=this.select.style;e&&-1!=e?l[e[0]]=e[1]:t.Dom.resetCssTransform(this.select),l.height=o+"px",l.minWidth=n+"px",l.top=r.top-s.top+"px",l.left=r.left-s.left+"px",l.margin="0px",l.display="",this.instance.addHook("beforeKeyDown",i)},e.prototype.close=function(){this.select.style.display="none",this.instance.removeHook("beforeKeyDown",i)},e.prototype.focus=function(){this.select.focus()},t.editors.SelectEditor=e,t.editors.registerEditor("select",e)}(e),function(t){var e=t.editors.AutocompleteEditor.prototype.extend();e.prototype.prepare=function(){t.editors.AutocompleteEditor.prototype.prepare.apply(this,arguments),this.cellProperties.filter=!1,this.cellProperties.strict=!0},t.editors.DropdownEditor=e,t.editors.registerEditor("dropdown",e)}(e),function(t){var e=t.editors.TextEditor.prototype.extend();e.prototype.beginEditing=function(e){var i=t.editors.TextEditor.prototype;if("undefined"==typeof e&&this.originalValue){var n=""+this.originalValue;"undefined"!=typeof this.cellProperties.language&&numeral.language(this.cellProperties.language);var o=numeral.languageData().delimiters.decimal;n=n.replace(".",o),i.beginEditing.apply(this,[n])}else i.beginEditing.apply(this,arguments)},t.editors.NumericEditor=e,t.editors.registerEditor("numeric",e)}(e),e.NumericValidator=function(t,e){null===t&&(t=""),e(/^-?\d*(\.|\,)?\d*$/.test(t))},e.DateValidator=function(t,i){var n=null,o=!0,s=e.editors.getEditor("date",this.instance);null===t&&(t="");var r=moment(new Date(t)).isValid(),a=moment(t,this.dateFormat||s.defaultDateFormat,!0).isValid();r||(o=!1),!r&&a&&(o=!0),r&&!a&&(this.correctFormat===!0?(n=H(t,this.dateFormat),this.instance.setDataAtCell(this.row,this.col,n,"dateValidator"),
o=!0):o=!1),i(o)};var H=function(t,e){return t=moment(new Date(t)).format(e)},I=function(t,e){var i=t,n="string"==typeof i?i.toLowerCase():null;return function(t){for(var o=!1,s=0,r=t.length;r>s;s++){if(i===t[s]){o=!0;break}if(n===t[s].toLowerCase()){o=!0;break}}e(o)}};e.AutocompleteValidator=function(t,e){this.strict&&this.source?"function"==typeof this.source?this.source(t,I(t,e)):I(t,e)(this.source):e(!0)},e.mobileBrowser=e.helper.isMobileBrowser(),e.AutocompleteCell={editor:e.editors.AutocompleteEditor,renderer:e.renderers.AutocompleteRenderer,validator:e.AutocompleteValidator},e.CheckboxCell={editor:e.editors.CheckboxEditor,renderer:e.renderers.CheckboxRenderer},e.TextCell={editor:e.mobileBrowser?e.editors.MobileTextEditor:e.editors.TextEditor,renderer:e.renderers.TextRenderer},e.NumericCell={editor:e.editors.NumericEditor,renderer:e.renderers.NumericRenderer,validator:e.NumericValidator,dataType:"number"},e.DateCell={editor:e.editors.DateEditor,validator:e.DateValidator,renderer:e.renderers.AutocompleteRenderer},e.HandsontableCell={editor:e.editors.HandsontableEditor,renderer:e.renderers.AutocompleteRenderer},e.PasswordCell={editor:e.editors.PasswordEditor,renderer:e.renderers.PasswordRenderer,copyable:!1},e.DropdownCell={editor:e.editors.DropdownEditor,renderer:e.renderers.AutocompleteRenderer,validator:e.AutocompleteValidator},e.cellTypes={text:e.TextCell,date:e.DateCell,numeric:e.NumericCell,checkbox:e.CheckboxCell,autocomplete:e.AutocompleteCell,handsontable:e.HandsontableCell,password:e.PasswordCell,dropdown:e.DropdownCell},e.cellLookup={validator:{numeric:e.NumericValidator,autocomplete:e.AutocompleteValidator}};/**
 * autoResize - resizes a DOM element to the width and height of another DOM element
 *
 * Copyright 2014, Marcin Warpechowski
 * Licensed under the MIT license
 */
var O=function(){var i,n={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},o=document.body,s=document.createTextNode(""),r=document.createElement("SPAN"),a=function(e,i,n){t.attachEvent?e.attachEvent("on"+i,n):e.addEventListener(i,n,!1)},l=function(e,i,n){t.removeEventListener?e.removeEventListener(i,n,!1):e.detachEvent("on"+i,n)},h=function(t){var a,l;t?/^[a-zA-Z \.,\\\/\|0-9]$/.test(t)||(t="."):t="",void 0!==s.textContent?s.textContent=i.value+t:s.data=i.value+t,r.style.fontSize=e.Dom.getComputedStyle(i).fontSize,r.style.fontFamily=e.Dom.getComputedStyle(i).fontFamily,r.style.whiteSpace="pre",o.appendChild(r),a=r.clientWidth+2,o.removeChild(r),i.style.height=n.minHeight+"px",n.minWidth>a?i.style.width=n.minWidth+"px":a>n.maxWidth?i.style.width=n.maxWidth+"px":i.style.width=a+"px",l=i.scrollHeight?i.scrollHeight-1:0,n.minHeight>l?i.style.height=n.minHeight+"px":n.maxHeight<l?(i.style.height=n.maxHeight+"px",i.style.overflowY="visible"):i.style.height=l+"px"},c=function(){t.setTimeout(h,0)},u=function(t){if(t&&t.minHeight)if("inherit"==t.minHeight)n.minHeight=i.clientHeight;else{var e=parseInt(t.minHeight);isNaN(e)||(n.minHeight=e)}if(t&&t.maxHeight)if("inherit"==t.maxHeight)n.maxHeight=i.clientHeight;else{var o=parseInt(t.maxHeight);isNaN(o)||(n.maxHeight=o)}if(t&&t.minWidth)if("inherit"==t.minWidth)n.minWidth=i.clientWidth;else{var a=parseInt(t.minWidth);isNaN(a)||(n.minWidth=a)}if(t&&t.maxWidth)if("inherit"==t.maxWidth)n.maxWidth=i.clientWidth;else{var l=parseInt(t.maxWidth);isNaN(l)||(n.maxWidth=l)}r.firstChild||(r.className="autoResize",r.style.display="inline-block",r.appendChild(s))},d=function(t,e,o){i=t,u(e),"TEXTAREA"==i.nodeName&&(i.style.resize="none",i.style.overflowY="",i.style.height=n.minHeight+"px",i.style.minWidth=n.minWidth+"px",i.style.maxWidth=n.maxWidth+"px",i.style.overflowY="hidden"),o&&(a(i,"change",h),a(i,"cut",c),a(i,"paste",c),a(i,"drop",c),a(i,"keydown",c)),h()};return{init:function(t,e,i){d(t,e,i)},unObserve:function(){l(i,"change",h),l(i,"cut",c),l(i,"paste",c),l(i,"drop",c),l(i,"keydown",c)},resize:h}};/**
 * SheetClip - Spreadsheet Clipboard Parser
 * version 0.2
 *
 * This tiny library transforms JavaScript arrays to strings that are pasteable by LibreOffice, OpenOffice,
 * Google Docs and Microsoft Excel.
 *
 * Copyright 2012, Marcin Warpechowski
 * Licensed under the MIT license.
 * http://github.com/warpech/sheetclip/
 */
!function(t){function e(t){return t.split('"').length-1}t.SheetClip={parse:function(t){var i,n,o,s,r,a,l,h=[],c=0;for(o=t.split("\n"),o.length>1&&""===o[o.length-1]&&o.pop(),i=0,n=o.length;n>i;i+=1){for(o[i]=o[i].split("	"),s=0,r=o[i].length;r>s;s+=1)h[c]||(h[c]=[]),a&&0===s?(l=h[c].length-1,h[c][l]=h[c][l]+"\n"+o[i][0],a&&1&e(o[i][0])&&(a=!1,h[c][l]=h[c][l].substring(0,h[c][l].length-1).replace(/""/g,'"'))):s===r-1&&0===o[i][s].indexOf('"')?(h[c].push(o[i][s].substring(1).replace(/""/g,'"')),a=!0):(h[c].push(o[i][s].replace(/""/g,'"')),a=!1);a||(c+=1)}return h},stringify:function(t){var e,i,n,o,s,r="";for(e=0,i=t.length;i>e;e+=1){for(o=t[e].length,n=0;o>n;n+=1)n>0&&(r+="	"),s=t[e][n],r+="string"==typeof s?s.indexOf("\n")>-1?'"'+s.replace(/"/g,'""')+'"':s:null===s||void 0===s?"":s;r+="\n"}return r}}}(t);var N=function(){var t;return{getInstance:function(){return t?t.hasBeenDestroyed()&&t.init():t=new i,t.refCounter++,t}}}();i.prototype.init=function(){var t,i;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[],this._eventManager=e.eventManager(this),i=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("DIV"),this.elDiv.id="CopyPasteDiv",t=this.elDiv.style,t.position="fixed",t.top="-10000px",t.left="-10000px",i.appendChild(this.elDiv),this.elTextarea=document.createElement("TEXTAREA"),this.elTextarea.className="copyPaste",this.elTextarea.onpaste=function(t){return"WebkitAppearance"in document.documentElement.style?(this.value=t.clipboardData.getData("Text"),!1):void 0},t=this.elTextarea.style,t.width="10000px",t.height="10000px",t.overflow="hidden",this.elDiv.appendChild(this.elTextarea),"undefined"!=typeof t.opacity&&(t.opacity=0)),this.keyDownRemoveEvent=this._eventManager.addEventListener(document.documentElement,"keydown",this.onKeyDown.bind(this),!1)},i.prototype.onKeyDown=function(t){var e=this,i=!1;if(t.metaKey?i=!0:t.ctrlKey&&-1===navigator.userAgent.indexOf("Mac")&&(i=!0),i){if(document.activeElement!==this.elTextarea&&(""!==this.getSelectionText()||-1!==["INPUT","SELECT","TEXTAREA"].indexOf(document.activeElement.nodeName)))return;this.selectNodeText(this.elTextarea),setTimeout(function(){e.selectNodeText(e.elTextarea)},0)}!i||67!==t.keyCode&&86!==t.keyCode&&88!==t.keyCode||(88===t.keyCode?setTimeout(function(){e.triggerCut(t)},0):86===t.keyCode&&setTimeout(function(){e.triggerPaste(t)},0))},i.prototype.selectNodeText=function(t){t&&t.select()},i.prototype.getSelectionText=function(){var e="";return t.getSelection?e=t.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e},i.prototype.copyable=function(t){if("string"!=typeof t&&void 0===t.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=t},i.prototype.onCut=function(t){this.cutCallbacks.push(t)},i.prototype.onPaste=function(t){this.pasteCallbacks.push(t)},i.prototype.removeCallback=function(t){var e,i;for(e=0,i=this.copyCallbacks.length;i>e;e++)if(this.copyCallbacks[e]===t)return this.copyCallbacks.splice(e,1),!0;for(e=0,i=this.cutCallbacks.length;i>e;e++)if(this.cutCallbacks[e]===t)return this.cutCallbacks.splice(e,1),!0;for(e=0,i=this.pasteCallbacks.length;i>e;e++)if(this.pasteCallbacks[e]===t)return this.pasteCallbacks.splice(e,1),!0;return!1},i.prototype.triggerCut=function(t){var e=this;e.cutCallbacks&&setTimeout(function(){for(var i=0,n=e.cutCallbacks.length;n>i;i++)e.cutCallbacks[i](t)},50)},i.prototype.triggerPaste=function(t,e){var i=this;i.pasteCallbacks&&setTimeout(function(){for(var n=e||i.elTextarea.value,o=0,s=i.pasteCallbacks.length;s>o;o++)i.pasteCallbacks[o](n,t)},50)},i.prototype.destroy=function(){this.hasBeenDestroyed()||0!==--this.refCounter||(this.elDiv&&this.elDiv.parentNode&&(this.elDiv.parentNode.removeChild(this.elDiv),this.elDiv=null,this.elTextarea=null),this.keyDownRemoveEvent())},i.prototype.hasBeenDestroyed=function(){return!this.refCounter};var L;!function(e){function i(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function n(t,e){var o;for(var s in t)if(t.hasOwnProperty(s)){if(t[s]===e)return i(s)+"/";if("object"==typeof t[s]&&(o=n(t[s],e),""!=o))return i(s)+"/"+o}return""}function o(t,e){if(t===e)return"/";var i=n(t,e);if(""===i)throw new Error("Object not found in root");return"/"+i}function s(t){for(var e=0,i=y.length;i>e;e++)if(y[e].obj===t)return y[e]}function r(t,e){for(var i=0,n=t.observers.length;n>i;i++)if(t.observers[i].callback===e)return t.observers[i].observer}function a(t,e){for(var i=0,n=t.observers.length;n>i;i++)if(t.observers[i].observer===e)return void t.observers.splice(i,1)}function l(t,e){d(e),Object.observe?u(e,t):clearTimeout(e.next);var i=s(t);a(i,e)}function h(e,i){var n,a=[],l=e,h=s(e);if(h?n=r(h,i):(h=new w(e),y.push(h)),n)return n;if(Object.observe)n=function(t){u(n,e),c(n,e);for(var s=0,r=t.length;r>s;){if(("length"!==t[s].name||!_(t[s].object))&&"__Jasmine_been_here_before__"!==t[s].name){var h=t[s].type;switch(h){case"new":h="add";break;case"deleted":h="delete";break;case"updated":h="update"}v[h].call(t[s],a,o(l,t[s].object))}s++}a&&i&&i(a),n.patches=a,a=[]};else if(n={},h.value=JSON.parse(JSON.stringify(e)),i){n.callback=i,n.next=null;var p=this.intervals||[100,1e3,1e4,6e4],f=0,m=function(){d(n)},g=function(){clearTimeout(n.next),n.next=setTimeout(function(){m(),f=0,n.next=setTimeout(C,p[f++])},0)},C=function(){m(),f==p.length&&(f=p.length-1),n.next=setTimeout(C,p[f++])};"undefined"!=typeof t&&(t.addEventListener?(t.addEventListener("mousedown",g),t.addEventListener("mouseup",g),t.addEventListener("keydown",g)):(t.attachEvent("onmousedown",g),t.attachEvent("onmouseup",g),t.attachEvent("onkeydown",g))),n.next=setTimeout(C,p[f++])}return n.patches=a,n.object=e,h.observers.push(new b(i,n)),c(n,e)}function c(t,e){if(Object.observe){Object.observe(e,t);for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n&&"object"==typeof n&&c(t,n)}}return t}function u(t,e){if(Object.observe){Object.unobserve(e,t);for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];n&&"object"==typeof n&&u(t,n)}}return t}function d(t){if(Object.observe)Object.deliverChangeRecords(t);else{for(var e,i=0,n=y.length;n>i;i++)if(y[i].obj===t.object){e=y[i];break}p(e.value,t.object,t.patches,"")}var o=t.patches;return o.length>0&&(t.patches=[],t.callback&&t.callback(o)),o}function p(t,e,n,o){for(var s=C(e),r=C(t),a=!1,l=!1,h=r.length-1;h>=0;h--){var c=r[h],u=t[c];if(e.hasOwnProperty(c)){var d=e[c];u instanceof Object?p(u,d,n,o+"/"+i(c)):u!=d&&(a=!0,n.push({op:"replace",path:o+"/"+i(c),value:d}),t[c]=d)}else n.push({op:"remove",path:o+"/"+i(c)}),delete t[c],l=!0}if(l||s.length!=r.length)for(var h=0;h<s.length;h++){var c=s[h];t.hasOwnProperty(c)||(n.push({op:"add",path:o+"/"+i(c),value:e[c]}),t[c]=JSON.parse(JSON.stringify(e[c])))}}function f(t,e){for(var i,n=!1,o=0,s=e.length;s>o;){i=e[o];for(var r=i.path.split("/"),a=t,l=1,h=r.length;;)if(_(a)){var c=parseInt(r[l],10);if(l++,l>=h){n=g[i.op].call(i,a,c,t);break}a=a[c]}else{var u=r[l];if(-1!=u.indexOf("~")&&(u=u.replace(/~1/g,"/").replace(/~0/g,"~")),l++,l>=h){n=m[i.op].call(i,a,u,t);break}a=a[u]}o++}return n}var m={add:function(t,e){return t[e]=this.value,!0},remove:function(t,e){return delete t[e],!0},replace:function(t,e){return t[e]=this.value,!0},move:function(t,e,i){var n={op:"_get",path:this.from};return f(i,[n]),f(i,[{op:"remove",path:this.from}]),f(i,[{op:"add",path:this.path,value:n.value}]),!0},copy:function(t,e,i){var n={op:"_get",path:this.from};return f(i,[n]),f(i,[{op:"add",path:this.path,value:n.value}]),!0},test:function(t,e){return JSON.stringify(t[e])===JSON.stringify(this.value)},_get:function(t,e){this.value=t[e]}},g={add:function(t,e){return t.splice(e,0,this.value),!0},remove:function(t,e){return t.splice(e,1),!0},replace:function(t,e){return t[e]=this.value,!0},move:m.move,copy:m.copy,test:m.test,_get:m._get},v={add:function(t,e){var n={op:"add",path:e+i(this.name),value:this.object[this.name]};t.push(n)},"delete":function(t,e){var n={op:"remove",path:e+i(this.name)};t.push(n)},update:function(t,e){var n={op:"replace",path:e+i(this.name),value:this.object[this.name]};t.push(n)}},y=[];e.intervals;var w=function(){function t(t){this.observers=[],this.obj=t}return t}(),b=function(){function t(t,e){this.callback=t,this.observer=e}return t}();e.unobserve=l,e.observe=h,e.generate=d;var C;C=Object.keys?Object.keys:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e};var _;_=Array.isArray?Array.isArray:function(t){return t.push&&"number"==typeof t.length},e.apply=f}(L||(L={})),"undefined"!=typeof exports&&(exports.apply=L.apply,exports.observe=L.observe,exports.unobserve=L.unobserve,exports.generate=L.generate),e.PluginHookClass=function(){function t(){this.hooks=e(),this.globalBucket={},this.legacy=i}var e=function(){return{beforeInitWalkontable:[],beforeInit:[],beforeRender:[],beforeSetRangeEnd:[],beforeDrawBorders:[],beforeChange:[],beforeChangeRender:[],beforeRemoveCol:[],beforeRemoveRow:[],beforeValidate:[],beforeGetCellMeta:[],beforeAutofill:[],beforeKeyDown:[],beforeOnCellMouseDown:[],beforeTouchScroll:[],afterInit:[],afterLoadData:[],afterUpdateSettings:[],afterRender:[],afterRenderer:[],afterChange:[],afterValidate:[],afterGetCellMeta:[],afterSetCellMeta:[],afterGetColHeader:[],afterGetRowHeader:[],afterDestroy:[],afterRemoveRow:[],afterCreateRow:[],afterRemoveCol:[],afterCreateCol:[],afterDeselect:[],afterSelection:[],afterSelectionByProp:[],afterSelectionEnd:[],afterSelectionEndByProp:[],afterOnCellMouseDown:[],afterOnCellMouseOver:[],afterOnCellCornerMouseDown:[],afterScrollVertically:[],afterScrollHorizontally:[],afterCellMetaReset:[],afterIsMultipleSelectionCheck:[],afterDocumentKeyDown:[],afterMomentumScroll:[],beforeCellAlignment:[],modifyColWidth:[],modifyRowHeight:[],modifyRow:[],modifyCol:[]}},i={onBeforeChange:"beforeChange",onChange:"afterChange",onCreateRow:"afterCreateRow",onCreateCol:"afterCreateCol",onSelection:"afterSelection",onCopyLimit:"afterCopyLimit",onSelectionEnd:"afterSelectionEnd",onSelectionByProp:"afterSelectionByProp",onSelectionEndByProp:"afterSelectionEndByProp"};return t.prototype.getBucket=function(t){return t?(t.pluginHookBucket||(t.pluginHookBucket={}),t.pluginHookBucket):this.globalBucket},t.prototype.add=function(t,e,n){if(Array.isArray(e))for(var o=0,s=e.length;s>o;o++)this.add(t,e[o]);else{t in i&&(t=i[t]);var r=this.getBucket(n);"undefined"==typeof r[t]&&(r[t]=[]),e.skip=!1,-1==r[t].indexOf(e)&&r[t].push(e)}return this},t.prototype.once=function(t,e,i){if(Array.isArray(e))for(var n=0,o=e.length;o>n;n++)e[n].runOnce=!0,this.add(t,e[n],i);else e.runOnce=!0,this.add(t,e,i)},t.prototype.remove=function(t,e,n){var o=!1;t in i&&(t=i[t]);var s=this.getBucket(n);if("undefined"!=typeof s[t])for(var r=0,a=s[t].length;a>r;r++)if(s[t][r]==e){s[t][r].skip=!0,o=!0;break}return o},t.prototype.run=function(t,e,n,o,s,r,a,l){return e in i&&(e=i[e]),n=this._runBucket(this.globalBucket,t,e,n,o,s,r,a,l),n=this._runBucket(this.getBucket(t),t,e,n,o,s,r,a,l)},t.prototype._runBucket=function(t,e,i,n,o,s,r,a,l){var h,c,u,d=t[i];if(d)for(c=0,u=d.length;u>c;c++)d[c].skip||(h=d[c].call(e,n,o,s,r,a,l),void 0!==h&&(n=h),d[c].runOnce&&this.remove(i,d[c],t===this.globalBucket?null:e));return n},t.prototype.destroy=function(t){var e=this.getBucket(t);for(var i in e)if(e.hasOwnProperty(i))for(var n=0,o=e[i].length;o>n;n++)this.remove(i,e[i],t)},t.prototype.register=function(t){this.isRegistered(t)||(this.hooks[t]=[])},t.prototype.deregister=function(t){delete this.hooks[t]},t.prototype.isRegistered=function(t){return"undefined"!=typeof this.hooks[t]},t.prototype.getRegistered=function(){return Object.keys(this.hooks)},t}(),e.hooks=new e.PluginHookClass,e.PluginHooks=e.hooks,function(t){function e(){function e(t){var e=document,i=this;i.table=e.createElement("table"),i.theadTh=e.createElement("th"),i.table.appendChild(e.createElement("thead")).appendChild(e.createElement("tr")).appendChild(i.theadTh),i.tableStyle=i.table.style,i.tableStyle.tableLayout="auto",i.tableStyle.width="auto",i.tbody=e.createElement("tbody"),i.table.appendChild(i.tbody),i.container=e.createElement("div"),i.container.className=t.rootElement.className+" hidden",i.containerStyle=i.container.style,i.container.appendChild(i.table)}var n=this,o=5;this.beforeInit=function(){var t=this;t.autoColumnWidths=[],t.getSettings().autoColumnSize!==!1?t.autoColumnSizeTmp||(t.autoColumnSizeTmp={table:null,tableStyle:null,theadTh:null,tbody:null,container:null,containerStyle:null,determineBeforeNextRender:!0},t.addHook("beforeRender",i.determineIfChanged),t.addHook("modifyColWidth",i.modifyColWidth),t.addHook("afterDestroy",i.afterDestroy),t.determineColumnWidth=n.determineColumnWidth):t.autoColumnSizeTmp&&(t.removeHook("beforeRender",i.determineIfChanged),t.removeHook("modifyColWidth",i.modifyColWidth),t.removeHook("afterDestroy",i.afterDestroy),delete t.determineColumnWidth,n.afterDestroy.call(t))},this.determineIfChanged=function(t){t&&i.determineColumnsWidth.apply(this,arguments)},this.determineColumnWidth=function(i){var n=this,s=n.autoColumnSizeTmp;s.container||e.call(s,n),s.container.className=n.rootElement.className+" htAutoColumnSize",s.table.className=n.table.className;for(var r=n.countRows(),a={},l=0,h=0;r>h;h++){var c=t.helper.stringify(n.getDataAtCell(h,i)),u=c.length;u>l&&(l=u),a[u]||(a[u]={needed:o,strings:[]}),a[u].needed&&(a[u].strings.push({value:c,row:h}),a[u].needed--)}var d=n.getSettings();d.colHeaders&&n.view.appendColHeader(i,s.theadTh),t.Dom.empty(s.tbody);for(var p in a)if(a.hasOwnProperty(p))for(var f=0,m=a[p].strings.length;m>f;f++){var g=a[p].strings[f].row,v=n.getCellMeta(g,i);v.col=i,v.row=g;var y=n.getCellRenderer(v),w=document.createElement("tr"),b=document.createElement("td");y(n,b,g,i,n.colToProp(i),a[p].strings[f].value,v),h++,w.appendChild(b),s.tbody.appendChild(w)}var C=n.rootElement.parentNode;C.appendChild(s.container);var _=t.Dom.outerWidth(s.table);return C.removeChild(s.container),_},this.determineColumnsWidth=function(){var t=this,e=this.getSettings();if(e.autoColumnSize||!e.colWidths)for(var i=this.countCols(),o=0;i>o;o++)t._getColWidthFromSettings(o)||(this.autoColumnWidths[o]=n.determineColumnWidth.call(t,o))},this.modifyColWidth=function(t,e){return this.autoColumnWidths[e]&&this.autoColumnWidths[e]>t?this.autoColumnWidths[e]:t},this.afterDestroy=function(){var t=this;t.autoColumnSizeTmp&&t.autoColumnSizeTmp.container&&t.autoColumnSizeTmp.container.parentNode&&t.autoColumnSizeTmp.container.parentNode.removeChild(t.autoColumnSizeTmp.container),t.autoColumnSizeTmp=null}}var i=new e;t.hooks.add("beforeInit",i.beforeInit),t.hooks.add("afterUpdateSettings",i.beforeInit)}(e);var z=new n;e.hooks.add("afterInit",function(){z.init.call(this,"afterInit")}),e.hooks.add("afterUpdateSettings",function(){z.init.call(this,"afterUpdateSettings")}),e.hooks.add("modifyRow",z.translateRow),e.hooks.add("afterGetColHeader",z.getColHeader),e.hooks.register("beforeColumnSort"),e.hooks.register("afterColumnSort"),function(t){function e(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),t+=" "+e)}function i(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),t+=" "+e)}function n(t){for(var e={},i=t.from.row;i<=t.to.row;i++)for(var n=t.from.col;n<=t.to.col;n++)e[i]||(e[i]=[]),e[i][n]=this.getCellMeta(i,n).className;return e}function o(t,n,o,s){var r=this.getCellMeta(t,n),a=s;r.className&&(a="vertical"===o?e(r.className,s):i(r.className,s)),this.setCellMeta(t,n,"className",a)}function s(t,e,i){var s=n.call(this,t);if(this.runHooks("beforeCellAlignment",s,t,e,i),t.from.row==t.to.row&&t.from.col==t.to.col)o.call(this,t.from.row,t.from.col,e,i);else for(var r=t.from.row;r<=t.to.row;r++)for(var a=t.from.col;a<=t.to.col;a++)o.call(this,r,a,e,i);this.render()}function r(e,i){this.instance=e;var n=this;if(n.menus=[],n.htMenus={},n.triggerRows=[],n.eventManager=t.eventManager(n),this.enabled=!0,this.instance.addHook("afterDestroy",function(){n.destroy()}),this.defaultOptions={items:[{key:"row_above",name:"Insert row above",callback:function(t,e){this.alter("insert_row",e.start.row)},disabled:function(){var t=this.getSelected(),e=[0,t[1],this.countRows()-1,t[1]],i=e.join(",")==t.join(",");return t[0]<0||this.countRows()>=this.getSettings().maxRows||i}},{key:"row_below",name:"Insert row below",callback:function(t,e){this.alter("insert_row",e.end.row+1)},disabled:function(){var t=this.getSelected(),e=[0,t[1],this.countRows()-1,t[1]],i=e.join(",")==t.join(",");return this.getSelected()[0]<0||this.countRows()>=this.getSettings().maxRows||i}},r.SEPARATOR,{key:"col_left",name:"Insert column on the left",callback:function(t,e){this.alter("insert_col",e.start.col)},disabled:function(){var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],i=e.join(",")==t.join(",");return this.getSelected()[1]<0||this.countCols()>=this.getSettings().maxCols||i}},{key:"col_right",name:"Insert column on the right",callback:function(t,e){this.alter("insert_col",e.end.col+1)},disabled:function(){var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],i=e.join(",")==t.join(",");return t[1]<0||this.countCols()>=this.getSettings().maxCols||i}},r.SEPARATOR,{key:"remove_row",name:"Remove row",callback:function(t,e){var i=e.end.row-e.start.row+1;this.alter("remove_row",e.start.row,i)},disabled:function(){var t=this.getSelected(),e=[0,t[1],this.countRows()-1,t[1]],i=e.join(",")==t.join(",");return t[0]<0||i}},{key:"remove_col",name:"Remove column",callback:function(t,e){var i=e.end.col-e.start.col+1;this.alter("remove_col",e.start.col,i)},disabled:function(){var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],i=e.join(",")==t.join(",");return t[1]<0||i}},r.SEPARATOR,{key:"undo",name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}},{key:"redo",name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}},r.SEPARATOR,{key:"make_read_only",name:function(){var t="Read only",e=n.checkSelectionReadOnlyConsistency(this);return e&&(t=n.markSelected(t)),t},callback:function(){var t=n.checkSelectionReadOnlyConsistency(this),e=this;this.getSelectedRange().forAll(function(i,n){e.getCellMeta(i,n).readOnly=t?!1:!0}),this.render()}},r.SEPARATOR,{key:"alignment",name:"Alignment",submenu:{items:[{name:function(){var t="Left",e=n.checkSelectionAlignment(this,"htLeft");return e&&(t=n.markSelected(t)),t},callback:function(){s.call(this,this.getSelectedRange(),"horizontal","htLeft")},disabled:!1},{name:function(){var t="Center",e=n.checkSelectionAlignment(this,"htCenter");return e&&(t=n.markSelected(t)),t},callback:function(){s.call(this,this.getSelectedRange(),"horizontal","htCenter")},disabled:!1},{name:function(){var t="Right",e=n.checkSelectionAlignment(this,"htRight");return e&&(t=n.markSelected(t)),t},callback:function(){s.call(this,this.getSelectedRange(),"horizontal","htRight")},disabled:!1},{name:function(){var t="Justify",e=n.checkSelectionAlignment(this,"htJustify");return e&&(t=n.markSelected(t)),t},callback:function(){s.call(this,this.getSelectedRange(),"horizontal","htJustify")},disabled:!1},r.SEPARATOR,{name:function(){var t="Top",e=n.checkSelectionAlignment(this,"htTop");return e&&(t=n.markSelected(t)),t},callback:function(){s.call(this,this.getSelectedRange(),"vertical","htTop")},disabled:!1},{name:function(){var t="Middle",e=n.checkSelectionAlignment(this,"htMiddle");return e&&(t=n.markSelected(t)),t},callback:function(){s.call(this,this.getSelectedRange(),"vertical","htMiddle")},disabled:!1},{name:function(){var t="Bottom",e=n.checkSelectionAlignment(this,"htBottom");return e&&(t=n.markSelected(t)),t},callback:function(){s.call(this,this.getSelectedRange(),"vertical","htBottom")},disabled:!1}]}}]},n.options={},t.helper.extend(n.options,this.options),this.bindMouseEvents(),this.markSelected=function(t){return"<span class='selected'>"+String.fromCharCode(10003)+"</span>"+t},this.checkSelectionAlignment=function(t,e){var i=!1;return t.getSelectedRange().forAll(function(n,o){var s=t.getCellMeta(n,o).className;return s&&-1!=s.indexOf(e)?(i=!0,!1):void 0}),i},!this.instance.getSettings().allowInsertRow){var o=l(this.defaultOptions.items,"row_above");this.defaultOptions.items.splice(o,1);var a=l(this.defaultOptions.items,"row_above");this.defaultOptions.items.splice(a,1),this.defaultOptions.items.splice(a,1)}if(!this.instance.getSettings().allowInsertColumn){var h=l(this.defaultOptions.items,"col_left");this.defaultOptions.items.splice(h,1);var c=l(this.defaultOptions.items,"col_right");this.defaultOptions.items.splice(c,1),this.defaultOptions.items.splice(c,1)}var u,d,p=!1,f=!1;this.instance.getSettings().allowRemoveRow||(u=l(this.defaultOptions.items,"remove_row"),this.defaultOptions.items.splice(u,1),p=!0),this.instance.getSettings().allowRemoveColumn||(d=l(this.defaultOptions.items,"remove_col"),this.defaultOptions.items.splice(d,1),f=!0),p&&f&&this.defaultOptions.items.splice(d,1),this.checkSelectionReadOnlyConsistency=function(t){var e=!1;return t.getSelectedRange().forAll(function(i,n){return t.getCellMeta(i,n).readOnly?(e=!0,!1):void 0}),e},t.hooks.run(e,"afterContextMenuDefaultOptions",this.defaultOptions)}function a(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i].key===e)return t[i]}function l(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i].key===e)return i}function h(){if(!this.rootElement.className.indexOf("htContextMenu")){for(var t=0,e=0,i=this.getSettings().data.length,n=0;i>n;n++)this.getSettings().data[n].name==r.SEPARATOR.name?t+=2:e+=26;this.view.wt.wtScrollbars.vertical.fixedContainer.style.height=e+t+"px"}}function c(){var e=this,i=e.getSettings().contextMenu,n=t.helper.isObject(i)?i:{};i?(e.contextMenu||(e.contextMenu=new r(e,n)),e.contextMenu.enable()):e.contextMenu&&(e.contextMenu.destroy(),delete e.contextMenu)}r.prototype.createMenu=function(e,i){e&&(e=e.replace(/ /g,"_"),e="htContextSubMenu_"+e);var n;return n=e?document.querySelector(".htContextMenu."+e):document.querySelector(".htContextMenu"),n||(n=document.createElement("DIV"),t.Dom.addClass(n,"htContextMenu"),e&&t.Dom.addClass(n,e),document.getElementsByTagName("body")[0].appendChild(n)),this.menus.indexOf(n)<0&&(this.menus.push(n),i=i||0,this.triggerRows.push(i)),n},r.prototype.bindMouseEvents=function(){function e(e){var i=this.instance.getSettings();this.closeAll(),e.preventDefault(),t.helper.stopPropagation(e);var n=this.instance.getSettings().rowHeaders,o=this.instance.getSettings().colHeaders;if(n||o){if(n&&o){var s=e.target.parentNode.querySelectorAll(".cornerHeader").length>0;if(s)return}}else if(!("TD"==e.target.nodeName||t.Dom.hasClass(e.target,"current")&&t.Dom.hasClass(e.target,"wtBorder")))return;var a=this.createMenu(),l=this.getItems(i.contextMenu);this.show(a,l),this.setMenuPosition(e,a),this.eventManager.addEventListener(document.documentElement,"mousedown",t.helper.proxy(r.prototype.closeAll,this))}var i=t.eventManager(this.instance);i.addEventListener(this.instance.rootElement,"contextmenu",t.helper.proxy(e,this))},r.prototype.bindTableEvents=function(){this._afterScrollCallback=function(){},this.instance.addHook("afterScrollVertically",this._afterScrollCallback),this.instance.addHook("afterScrollHorizontally",this._afterScrollCallback)},r.prototype.unbindTableEvents=function(){this._afterScrollCallback&&(this.instance.removeHook("afterScrollVertically",this._afterScrollCallback),this.instance.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)},r.prototype.performAction=function(t,e){var i=this,n=e.getSelected()[0],o=e.getData()[n];if(o.disabled!==!0&&("function"!=typeof o.disabled||o.disabled.call(this.instance)!==!0)&&!o.hasOwnProperty("submenu")){if("function"!=typeof o.callback)return;var s=this.instance.getSelectedRange(),a=r.utils.normalizeSelection(s);o.callback.call(this.instance,o.key,a,t),i.closeAll()}},r.prototype.unbindMouseEvents=function(){this.eventManager.clear();var e=t.eventManager(this.instance);e.removeEventListener(this.instance.rootElement,"contextmenu")},r.prototype.show=function(e,i){var n=this;e.removeAttribute("style"),e.style.display="block";var o={data:i,colHeaders:!1,colWidths:[200],readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:t.helper.proxy(this.renderer,this)}],renderAllRows:!0,beforeKeyDown:function(t){n.onBeforeKeyDown(t,s)},afterOnCellMouseOver:function(t,e,i){n.onCellMouseOver(t,e,i,s)}},s=new t(e,o);this.eventManager.removeEventListener(e,"mousedown"),this.eventManager.addEventListener(e,"mousedown",function(t){n.performAction(t,s)}),this.bindTableEvents(),s.listen(),this.htMenus[s.guid]=s},r.prototype.close=function(t){this.hide(t),this.eventManager.clear(),this.unbindTableEvents(),this.instance.listen()},r.prototype.closeAll=function(){for(;this.menus.length>0;){var t=this.menus.pop();t&&this.close(t)}this.triggerRows=[]},r.prototype.closeLastOpenedSubMenu=function(){var t=this.menus.pop();t&&this.hide(t)},r.prototype.hide=function(t){t.style.display="none";var e=this.htMenus[t.id];e.destroy(),delete this.htMenus[t.id]},r.prototype.renderer=function(e,i,n,o,s,a){function l(t){return t.hasOwnProperty("submenu")}function h(t){return new RegExp(r.SEPARATOR.name,"i").test(t.name)}function c(t){return t.disabled===!0||"function"==typeof t.disabled&&t.disabled.call(u.instance)===!0}var u=this,d=e.getData()[n],p=document.createElement("DIV");"function"==typeof a&&(a=a.call(this.instance)),t.Dom.empty(i),i.appendChild(p),h(d)?t.Dom.addClass(i,"htSeparator"):t.Dom.fastInnerHTML(p,a),c(d)?(t.Dom.addClass(i,"htDisabled"),this.eventManager.addEventListener(p,"mouseenter",function(){e.deselectCell()})):l(d)?(t.Dom.addClass(i,"htSubmenu"),this.eventManager.addEventListener(p,"mouseenter",function(){e.selectCell(n,o)})):(t.Dom.removeClass(i,"htSubmenu"),t.Dom.removeClass(i,"htDisabled"),this.eventManager.addEventListener(p,"mouseenter",function(){e.selectCell(n,o)}))},r.prototype.onCellMouseOver=function(t,e,i,n){var o=this.menus.length;if(o>0){var s=this.menus[o-1];s.id!=n.guid&&this.closeLastOpenedSubMenu()}else this.closeLastOpenedSubMenu();if(-1!=i.className.indexOf("htSubmenu")){var r=n.getData()[e.row],a=this.getItems(r.submenu),l=this.createMenu(r.name,e.row),h=i.getBoundingClientRect();this.show(l,a),this.setSubMenuPosition(h,l)}},r.prototype.onBeforeKeyDown=function(e,i){function n(t){var e=t.getCell(0,0);r.utils.isSeparator(e)||r.utils.isDisabled(e)?s(0,0,t):t.selectCell(0,0)}function o(t){var e=t.countRows()-1,i=t.getCell(e,0);r.utils.isSeparator(i)||r.utils.isDisabled(i)?a(e,0,t):t.selectCell(e,0)}function s(t,e,i){var n=t+1,o=n<i.countRows()?i.getCell(n,e):null;o&&(r.utils.isSeparator(o)||r.utils.isDisabled(o)?s(n,e,i):i.selectCell(n,e))}function a(t,e,i){var n=t-1,o=n>=0?i.getCell(n,e):null;o&&(r.utils.isSeparator(o)||r.utils.isDisabled(o)?a(n,e,i):i.selectCell(n,e))}function l(t,e,i,n){var o=t.getData()[n],s=e.getItems(o.submenu),r=e.createMenu(o.name,n),a=i.getBoundingClientRect(),l=e.show(r,s);e.setSubMenuPosition(a,r),l.selectCell(0,0)}t.Dom.enableImmediatePropagation(e);var h=this,c=i.getSelected();switch(e.keyCode){case t.helper.keyCode.ESCAPE:h.closeAll(),e.preventDefault(),e.stopImmediatePropagation();break;case t.helper.keyCode.ENTER:c&&h.performAction(e,i);break;case t.helper.keyCode.ARROW_DOWN:c?s(c[0],c[1],i,h):n(i,h),e.preventDefault(),e.stopImmediatePropagation();break;case t.helper.keyCode.ARROW_UP:c?a(c[0],c[1],i,h):o(i,h),e.preventDefault(),e.stopImmediatePropagation();break;case t.helper.keyCode.ARROW_RIGHT:if(c){var u=c[0],d=i.getCell(c[0],0);r.utils.hasSubMenu(d)&&l(i,h,d,u)}e.preventDefault(),e.stopImmediatePropagation();break;case t.helper.keyCode.ARROW_LEFT:if(c){if(-1!=i.rootElement.className.indexOf("htContextSubMenu_")){h.closeLastOpenedSubMenu();var p=h.menus.length;if(p>0){var f=h.menus[p-1],m=h.triggerRows.pop();i=this.htMenus[f.id],i.selectCell(m,0)}}e.preventDefault(),e.stopImmediatePropagation()}}},r.prototype.getItems=function(e){function i(e){"string"==typeof e?this.name=e:t.helper.extend(this,e)}var n,o;i.prototype=e,e&&e.items&&(e=e.items),e===!0&&(e=this.defaultOptions.items),n=[];for(var s in e)e.hasOwnProperty(s)&&(o="string"==typeof e[s]?a(this.defaultOptions.items,e[s]):a(this.defaultOptions.items,s),o||(o=e[s]),o=new i(o),"object"==typeof e[s]&&t.helper.extend(o,e[s]),o.key||(o.key=s),n.push(o));return n},r.prototype.setSubMenuPosition=function(e,i){var n=t.Dom.getWindowScrollTop(),o=t.Dom.getWindowScrollLeft(),s={top:n+e.top,topRelative:e.top,left:e.left,leftRelative:e.left-o,scrollTop:n,scrollLeft:o,cellHeight:e.height,cellWidth:e.width};this.menuFitsBelowCursor(s,i,document.body.clientWidth)?this.positionMenuBelowCursor(s,i,!0):this.menuFitsAboveCursor(s,i)?this.positionMenuAboveCursor(s,i,!0):this.positionMenuBelowCursor(s,i,!0),this.menuFitsOnRightOfCursor(s,i,document.body.clientWidth)?this.positionMenuOnRightOfCursor(s,i,!0):this.positionMenuOnLeftOfCursor(s,i,!0)},r.prototype.setMenuPosition=function(e,i){var n=t.Dom.getWindowScrollTop(),o=t.Dom.getWindowScrollLeft(),s=e.pageY||e.clientY+n,r=e.pageX||e.clientX+o,a={top:s,topRelative:s-n,left:r,leftRelative:r-o,scrollTop:n,scrollLeft:o,cellHeight:e.target.clientHeight,cellWidth:e.target.clientWidth};this.menuFitsBelowCursor(a,i,document.body.clientHeight)?this.positionMenuBelowCursor(a,i):this.menuFitsAboveCursor(a,i)?this.positionMenuAboveCursor(a,i):this.positionMenuBelowCursor(a,i),this.menuFitsOnRightOfCursor(a,i,document.body.clientWidth)?this.positionMenuOnRightOfCursor(a,i):this.positionMenuOnLeftOfCursor(a,i)},r.prototype.menuFitsAboveCursor=function(t,e){return t.topRelative>=e.offsetHeight},r.prototype.menuFitsBelowCursor=function(t,e,i){return t.topRelative+e.offsetHeight<=i},r.prototype.menuFitsOnRightOfCursor=function(t,e,i){return t.leftRelative+e.offsetWidth<=i},r.prototype.positionMenuBelowCursor=function(t,e){e.style.top=t.top+"px"},r.prototype.positionMenuAboveCursor=function(t,e,i){i?e.style.top=t.top+t.cellHeight-e.offsetHeight+"px":e.style.top=t.top-e.offsetHeight+"px"},r.prototype.positionMenuOnRightOfCursor=function(t,e,i){i?e.style.left=1+t.left+t.cellWidth+"px":e.style.left=1+t.left+"px"},r.prototype.positionMenuOnLeftOfCursor=function(t,e,i){i?e.style.left=t.left-e.offsetWidth+"px":e.style.left=t.left-e.offsetWidth+"px"},r.utils={},r.utils.normalizeSelection=function(t){return{start:t.getTopLeftCorner(),end:t.getBottomRightCorner()}},r.utils.isSeparator=function(e){return t.Dom.hasClass(e,"htSeparator")},r.utils.hasSubMenu=function(e){return t.Dom.hasClass(e,"htSubmenu")},r.utils.isDisabled=function(e){return t.Dom.hasClass(e,"htDisabled")},r.prototype.enable=function(){this.enabled||(this.enabled=!0,this.bindMouseEvents())},r.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.closeAll(),this.unbindMouseEvents(),this.unbindTableEvents())},r.prototype.destroy=function(){for(this.closeAll();this.menus.length>0;){var t=this.menus.pop();this.triggerRows.pop(),t&&(this.close(t),this.isMenuEnabledByOtherHotInstance()||this.removeMenu(t))}this.unbindMouseEvents(),this.unbindTableEvents()},r.prototype.isMenuEnabledByOtherHotInstance=function(){for(var t=document.querySelectorAll(".handsontable"),e=!1,i=0,n=t.length;n>i;i++){var o=this.htMenus[t[i].id];if(o&&o.getSettings().contextMenu){e=!0;break}}return e},r.prototype.removeMenu=function(t){t.parentNode&&this.menu.parentNode.removeChild(t)},r.prototype.align=function(t,e,i){s.call(this,t,e,i)},r.SEPARATOR={name:"---------"},t.hooks.add("afterInit",c),t.hooks.add("afterUpdateSettings",c),t.hooks.add("afterInit",h),t.PluginHooks.register("afterContextMenuDefaultOptions"),t.ContextMenu=r}(e);var F=function(){var t=this,i=t.getSettings().comments;i&&(e.Comments=new o(t),e.Comments.init())},W=function(t,i,n,o,s,r){r.comment&&e.Dom.addClass(t,r.commentedCellClassName)},j=function(t){var i=this;i.getSettings().comments&&(t.items.push(e.ContextMenu.SEPARATOR),t.items.push({key:"commentsAddEdit",name:function(){var t=e.Comments.checkSelectionCommentsConsistency();return t?"Edit Comment":"Add Comment"},callback:function(t,i,n){e.Comments.showComment(this.getSelectedRange())},disabled:function(){return!1}}),t.items.push({key:"commentsRemove",name:function(){return"Delete Comment"},callback:function(t,i,n){e.Comments.removeComment(i.start.row,i.start.col)},disabled:function(){var t=e.Comments.checkSelectionCommentsConsistency();return!t}}))};e.hooks.add("beforeInit",F),e.hooks.add("afterContextMenuDefaultOptions",j),
e.hooks.add("afterRenderer",W),function(e){function i(){function i(t){d=this,p=t;var e=this.view.wt.wtTable.getCoords(t).col;if(e>=0){u=e;var i=p.getBoundingClientRect();c=i.left,f.style.top=i.top+"px",f.style.left=c+"px",d.rootElement.appendChild(f)}}function n(t,e){var i=t.getBoundingClientRect(),n=6;e>0?f.style.left=i.left+i.width-n+"px":f.style.left=i.left+"px"}function o(){var t=this;e.Dom.addClass(f,"active"),e.Dom.addClass(m,"active");var i=p.getBoundingClientRect();m.style.width=i.width+"px",m.style.height=t.view.maximumVisibleElementHeight(0)+"px",m.style.top=f.style.top,m.style.left=c+"px",t.rootElement.appendChild(m)}function s(t){m.style.left=c+t+"px"}function r(){e.Dom.removeClass(f,"active"),e.Dom.removeClass(m,"active")}var a,l,h,c,u,d,p,f=document.createElement("DIV"),m=document.createElement("DIV"),g=e.eventManager(this);f.className="manualColumnMover",m.className="manualColumnMoverGuide";var v=function(){var t=this;e.hooks.run(t,"persistentStateSave","manualColumnPositions",t.manualColumnPositions)},y=function(){var t=this,i={};return e.hooks.run(t,"persistentStateLoad","manualColumnPositions",i),i.value},w=function(t){return"BODY"!=t.tagName?"THEAD"==t.parentNode.tagName?!0:(t=t.parentNode,w(t)):!1},b=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:b(t.parentNode):null},C=function(){var c,d=this;g.addEventListener(d.rootElement,"mouseover",function(t){if(w(t.target)){var e=b(t.target);if(e)if(c){var o=d.view.wt.wtTable.getCoords(e).col;o>=0&&(l=o,n(t.target,l-a))}else i.call(d,e)}}),g.addEventListener(d.rootElement,"mousedown",function(t){e.Dom.hasClass(t.target,"manualColumnMover")&&(h=e.helper.pageX(t),o.call(d),c=d,a=u,l=u)}),g.addEventListener(t,"mousemove",function(t){c&&s(e.helper.pageX(t)-h)}),g.addEventListener(t,"mouseup",function(t){c&&(r(),c=!1,x(d.manualColumnPositions,d.countCols()),d.manualColumnPositions.splice(l,0,d.manualColumnPositions.splice(a,1)[0]),d.forceFullRender=!0,d.view.render(),v.call(d),e.hooks.run(d,"afterColumnMove",a,l),i.call(d,p))}),d.addHook("afterDestroy",_)},_=function(){g.clear()},x=function(t,e){if(t.length<e)for(var i=t.length;e>i;i++)t[i]=i};this.beforeInit=function(){this.manualColumnPositions=[]},this.init=function(t){var e=this,i=!!this.getSettings().manualColumnMove;if(i){var n=this.getSettings().manualColumnMove,o=y.call(e);"undefined"!=typeof o?this.manualColumnPositions=o:Array.isArray(n)?this.manualColumnPositions=n:this.manualColumnPositions=[],"afterInit"==t&&("undefined"!=typeof e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.push("manualColumnMove"):e.manualColumnPositionsPluginUsages=["manualColumnMove"],C.call(this),this.manualColumnPositions.length>0&&(this.forceFullRender=!0,this.render()))}else{var s=e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.indexOf("manualColumnMove"):-1;s>-1&&(_.call(this),this.manualColumnPositions=[],e.manualColumnPositionsPluginUsages[s]=void 0)}},this.modifyCol=function(t){return this.getSettings().manualColumnMove?("undefined"==typeof this.manualColumnPositions[t]&&x(this.manualColumnPositions,t+1),this.manualColumnPositions[t]):t},this.afterRemoveCol=function(t,e){if(this.getSettings().manualColumnMove){var i,n=this.manualColumnPositions;i=n.splice(t,e),n=n.map(function(t){var e,n=t;for(e=0;e<i.length;e++)t>i[e]&&n--;return n}),this.manualColumnPositions=n}},this.afterCreateCol=function(t,e){if(this.getSettings().manualColumnMove){var i=this.manualColumnPositions;if(i.length){for(var n=[],o=0;e>o;o++)n.push(t+o);t>=i.length?i.concat(n):(i=i.map(function(i){return i>=t?i+e:i}),i.splice.apply(i,[t,0].concat(n))),this.manualColumnPositions=i}}}}var n=new i;e.hooks.add("beforeInit",n.beforeInit),e.hooks.add("afterInit",function(){n.init.call(this,"afterInit")}),e.hooks.add("afterUpdateSettings",function(){n.init.call(this,"afterUpdateSettings")}),e.hooks.add("modifyCol",n.modifyCol),e.hooks.add("afterRemoveCol",n.afterRemoveCol),e.hooks.add("afterCreateCol",n.afterCreateCol),e.hooks.register("afterColumnMove")}(e),function(e){function i(){function i(t){c=this,a=t;var e=this.view.wt.wtTable.getCoords(t).col;if(e>=0){l=e;var i=a.getBoundingClientRect();f=i.left-6,p=parseInt(i.width,10),m.style.top=i.top+"px",m.style.left=f+p+"px",c.rootElement.appendChild(m)}}function n(){m.style.left=f+h+"px"}function o(){var t=this;e.Dom.addClass(m,"active"),e.Dom.addClass(g,"active"),g.style.top=m.style.top,g.style.left=m.style.left,g.style.height=t.view.maximumVisibleElementHeight(0)+"px",t.rootElement.appendChild(g)}function s(){g.style.left=m.style.left}function r(){e.Dom.removeClass(m,"active"),e.Dom.removeClass(g,"active")}var a,l,h,c,u,d,p,f,m=document.createElement("DIV"),g=document.createElement("DIV"),v=e.eventManager(this);m.className="manualColumnResizer",g.className="manualColumnResizerGuide";var y=function(){var t=this;e.hooks.run(t,"persistentStateSave","manualColumnWidths",t.manualColumnWidths)},w=function(){var t=this,i={};return e.hooks.run(t,"persistentStateLoad","manualColumnWidths",i),i.value},b=function(t){return"BODY"!=t.tagName?"THEAD"==t.parentNode.tagName?!0:(t=t.parentNode,b(t)):!1},C=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:C(t.parentNode):null},_=function(){var c,f=this,m=0,g=null;v.addEventListener(f.rootElement,"mouseover",function(t){if(b(t.target)){var e=C(t.target);e&&(c||i.call(f,e))}}),v.addEventListener(f.rootElement,"mousedown",function(t){e.Dom.hasClass(t.target,"manualColumnResizer")&&(o.call(f),c=f,null==g&&(g=setTimeout(function(){m>=2&&(u=f.determineColumnWidth.call(f,l),k(l,u),f.forceFullRender=!0,f.view.render(),e.hooks.run(f,"afterColumnResize",l,u)),m=0,g=null},500),f._registerTimeout(g)),m++,d=e.helper.pageX(t),u=p)}),v.addEventListener(t,"mousemove",function(t){c&&(h=p+(e.helper.pageX(t)-d),u=k(l,h),n(),s())}),v.addEventListener(t,"mouseup",function(){c&&(r(),c=!1,u!=p&&(f.forceFullRender=!0,f.view.render(),y.call(f),e.hooks.run(f,"afterColumnResize",l,u)),i.call(f,a))}),f.addHook("afterDestroy",x)},x=function(){v.clear()};this.beforeInit=function(){this.manualColumnWidths=[]},this.init=function(t){var e=this,i=!!this.getSettings().manualColumnResize;if(i){var n=this.getSettings().manualColumnResize,o=w.call(e);"undefined"!=typeof e.manualColumnWidthsPluginUsages?e.manualColumnWidthsPluginUsages.push("manualColumnResize"):e.manualColumnWidthsPluginUsages=["manualColumnResize"],"undefined"!=typeof o?this.manualColumnWidths=o:Array.isArray(n)?this.manualColumnWidths=n:this.manualColumnWidths=[],"afterInit"==t&&(_.call(this),this.manualColumnWidths.length>0&&(this.forceFullRender=!0,this.render()))}else{var s=e.manualColumnWidthsPluginUsages?e.manualColumnWidthsPluginUsages.indexOf("manualColumnResize"):-1;s>-1&&(x.call(this),this.manualColumnWidths=[])}};var k=function(t,i){return i=Math.max(i,20),t=e.hooks.run(c,"modifyCol",t),c.manualColumnWidths[t]=i,i};this.modifyColWidth=function(t,e){return e=this.runHooks("modifyCol",e),this.getSettings().manualColumnResize&&this.manualColumnWidths[e]?this.manualColumnWidths[e]:t}}var n=new i;e.hooks.add("beforeInit",n.beforeInit),e.hooks.add("afterInit",function(){n.init.call(this,"afterInit")}),e.hooks.add("afterUpdateSettings",function(){n.init.call(this,"afterUpdateSettings")}),e.hooks.add("modifyColWidth",n.modifyColWidth),e.hooks.register("afterColumnResize")}(e),function(e){function i(){function i(t){c=this,a=t;var e=this.view.wt.wtTable.getCoords(t).row;if(e>=0){l=e;var i=a.getBoundingClientRect();f=i.top-6,p=parseInt(i.height,10),m.style.left=i.left+"px",m.style.top=f+p+"px",c.rootElement.appendChild(m)}}function n(){m.style.top=f+h+"px"}function o(){var t=this;e.Dom.addClass(m,"active"),e.Dom.addClass(g,"active"),g.style.top=m.style.top,g.style.left=m.style.left,g.style.width=t.view.maximumVisibleElementWidth(0)+"px",t.rootElement.appendChild(g)}function s(){g.style.top=m.style.top}function r(){e.Dom.removeClass(m,"active"),e.Dom.removeClass(g,"active")}var a,l,h,c,u,d,p,f,m=document.createElement("DIV"),g=document.createElement("DIV"),v=e.eventManager(this);m.className="manualRowResizer",g.className="manualRowResizerGuide";var y=function(){var t=this;e.hooks.run(t,"persistentStateSave","manualRowHeights",t.manualRowHeights)},w=function(){var t=this,i={};return e.hooks.run(t,"persistentStateLoad","manualRowHeights",i),i.value},b=function(t){return"BODY"!=t.tagName?"TBODY"==t.parentNode.tagName?!0:(t=t.parentNode,b(t)):!1},C=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:C(t.parentNode):null},_=function(){var c,f=this,m=0,g=null;v.addEventListener(f.rootElement,"mouseover",function(t){if(b(t.target)){var e=C(t.target);e&&(c||i.call(f,e))}}),v.addEventListener(f.rootElement,"mousedown",function(t){e.Dom.hasClass(t.target,"manualRowResizer")&&(o.call(f),c=f,null==g&&(g=setTimeout(function(){m>=2&&(k(l,null),f.forceFullRender=!0,f.view.render(),e.hooks.run(f,"afterRowResize",l,u)),m=0,g=null},500),f._registerTimeout(g)),m++,d=e.helper.pageY(t),u=p)}),v.addEventListener(t,"mousemove",function(t){c&&(h=p+(e.helper.pageY(t)-d),u=k(l,h),n(),s())}),v.addEventListener(t,"mouseup",function(t){c&&(r(),c=!1,u!=p&&(f.forceFullRender=!0,f.view.render(),y.call(f),e.hooks.run(f,"afterRowResize",l,u)),i.call(f,a))}),f.addHook("afterDestroy",x)},x=function(){v.clear()};this.beforeInit=function(){this.manualRowHeights=[]},this.init=function(t){var e=this,i=!!this.getSettings().manualRowResize;if(i){var n=this.getSettings().manualRowResize,o=w.call(e);"undefined"!=typeof e.manualRowHeightsPluginUsages?e.manualRowHeightsPluginUsages.push("manualRowResize"):e.manualRowHeightsPluginUsages=["manualRowResize"],"undefined"!=typeof o?this.manualRowHeights=o:Array.isArray(n)?this.manualRowHeights=n:this.manualRowHeights=[],"afterInit"===t?(_.call(this),this.manualRowHeights.length>0&&(this.forceFullRender=!0,this.render())):(this.forceFullRender=!0,this.render())}else{var s=e.manualRowHeightsPluginUsages?e.manualRowHeightsPluginUsages.indexOf("manualRowResize"):-1;s>-1&&(x.call(this),this.manualRowHeights=[],e.manualRowHeightsPluginUsages[s]=void 0)}};var k=function(t,i){return t=e.hooks.run(c,"modifyRow",t),c.manualRowHeights[t]=i,i};this.modifyRowHeight=function(t,e){return this.getSettings().manualRowResize&&(e=this.runHooks("modifyRow",e),void 0!==this.manualRowHeights[e])?this.manualRowHeights[e]:t}}var n=new i;e.hooks.add("beforeInit",n.beforeInit),e.hooks.add("afterInit",function(){n.init.call(this,"afterInit")}),e.hooks.add("afterUpdateSettings",function(){n.init.call(this,"afterUpdateSettings")}),e.hooks.add("modifyRowHeight",n.modifyRowHeight),e.hooks.register("afterRowResize")}(e),function(){function t(){var t=this,e=t.getSettings().observeChanges;e?(t.observer&&o.call(t),i.call(t),r.call(t)):e||o.call(t)}function i(){var t=this;t.observeChangesActive=!0,t.pauseObservingChanges=function(){t.observeChangesActive=!1},t.resumeObservingChanges=function(){t.observeChangesActive=!0},t.observedData=t.getData(),t.observer=L.observe(t.observedData,function(e){t.observeChangesActive&&(n.call(t,e),t.render()),t.runHooks("afterChangesObserved")})}function n(t){function e(t){var e;return e=n(t),e=i(e)}function i(t){var e=[];return t.filter(function(t){var i=o(t.path);if(-1!=["add","remove"].indexOf(t.op)&&!isNaN(i.col)){if(-1!=e.indexOf(i.col))return!1;e.push(i.col)}return!0})}function n(t){return t.filter(function(t){return!/[/]length/gi.test(t.path)})}function o(t){var e=t.match(/^\/(\d+)\/?(.*)?$/);return{row:parseInt(e[1],10),col:/^\d*$/.test(e[2])?parseInt(e[2],10):e[2]}}for(var s=this,r=e(t),a=0,l=r.length;l>a;a++){var h=r[a],c=o(h.path);switch(h.op){case"add":isNaN(c.col)?s.runHooks("afterCreateRow",c.row):s.runHooks("afterCreateCol",c.col);break;case"remove":isNaN(c.col)?s.runHooks("afterRemoveRow",c.row,1):s.runHooks("afterRemoveCol",c.col,1);break;case"replace":s.runHooks("afterChange",[c.row,c.col,null,h.value],"external")}}}function o(){var t=this;t.observer&&(s.call(t),a.call(t))}function s(){var t=this;L.unobserve(t.observedData,t.observer),delete t.observeChangesActive,delete t.pauseObservingChanges,delete t.resumeObservingChanges}function r(){var t=this;t.addHook("afterDestroy",o),t.addHook("afterCreateRow",l),t.addHook("afterRemoveRow",l),t.addHook("afterCreateCol",l),t.addHook("afterRemoveCol",l),t.addHook("afterChange",function(t,e){"loadData"!=e&&l.call(this)})}function a(){var t=this;t.removeHook("afterDestroy",o),t.removeHook("afterCreateRow",l),t.removeHook("afterRemoveRow",l),t.removeHook("afterCreateCol",l),t.removeHook("afterRemoveCol",l),t.removeHook("afterChange",l)}function l(){var t=this;t.pauseObservingChanges(),t.addHookOnce("afterChangesObserved",function(){t.resumeObservingChanges()})}e.hooks.add("afterLoadData",t),e.hooks.add("afterUpdateSettings",t),e.hooks.register("afterChangesObserved")}(),function(t){function i(){function i(){var t=this;for(var e in s)s.hasOwnProperty(e)&&t.addHook(e,s[e])}function n(){var t=this;for(var e in s)s.hasOwnProperty(e)&&t.removeHook(e,s[e])}var o=this;this.init=function(){var e=this,s=e.getSettings().persistentState;return o.enabled=!!s,o.enabled?(e.storage||(e.storage=new t(e.rootElement.id)),e.resetState=o.resetValue,void i.call(e)):void n.call(e)},this.saveValue=function(t,e){var i=this;i.storage.saveValue(t,e)},this.loadValue=function(t,e){var i=this;e.value=i.storage.loadValue(t)},this.resetValue=function(t){var e=this;"undefined"!=typeof t?e.storage.reset(t):e.storage.resetAll()};var s={persistentStateSave:o.saveValue,persistentStateLoad:o.loadValue,persistentStateReset:o.resetValue};for(var r in s)s.hasOwnProperty(r)&&e.hooks.register(r)}var n=new i;e.hooks.add("beforeInit",n.init),e.hooks.add("afterUpdateSettings",n.init)}(s),function(t){t.UndoRedo=function(e){var i=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,e.addHook("afterChange",function(e,n){if(e){var o=new t.UndoRedo.ChangeAction(e);i.done(o)}}),e.addHook("afterCreateRow",function(e,n,o){if(!o){var s=new t.UndoRedo.CreateRowAction(e,n);i.done(s)}}),e.addHook("beforeRemoveRow",function(e,n){var o=i.instance.getData();e=(o.length+e)%o.length;var s=o.slice(e,e+n),r=new t.UndoRedo.RemoveRowAction(e,s);i.done(r)}),e.addHook("afterCreateCol",function(e,n,o){if(!o){var s=new t.UndoRedo.CreateColumnAction(e,n);i.done(s)}}),e.addHook("beforeRemoveCol",function(n,o){var s=i.instance.getData();n=(i.instance.countCols()+n)%i.instance.countCols();for(var r=[],a=0,l=s.length;l>a;a++)r[a]=s[a].slice(n,n+o);var h;Array.isArray(e.getSettings().colHeaders)&&(h=e.getSettings().colHeaders.slice(n,n+r.length));var c=new t.UndoRedo.RemoveColumnAction(n,r,h);i.done(c)}),e.addHook("beforeCellAlignment",function(e,n,o,s){var r=new t.UndoRedo.CellAlignmentAction(e,n,o,s);i.done(r)})},t.UndoRedo.prototype.done=function(t){this.ignoreNewActions||(this.doneActions.push(t),this.undoneActions.length=0)},t.UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var t=this.doneActions.pop();this.ignoreNewActions=!0;var e=this;t.undo(this.instance,function(){e.ignoreNewActions=!1,e.undoneActions.push(t)})}},t.UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var t=this.undoneActions.pop();this.ignoreNewActions=!0;var e=this;t.redo(this.instance,function(){e.ignoreNewActions=!1,e.doneActions.push(t)})}},t.UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},t.UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},t.UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},t.UndoRedo.Action=function(){},t.UndoRedo.Action.prototype.undo=function(){},t.UndoRedo.Action.prototype.redo=function(){},t.UndoRedo.ChangeAction=function(t){this.changes=t},t.helper.inherit(t.UndoRedo.ChangeAction,t.UndoRedo.Action),t.UndoRedo.ChangeAction.prototype.undo=function(e,i){for(var n=t.helper.deepClone(this.changes),o=e.countEmptyRows(!0),s=e.countEmptyCols(!0),r=0,a=n.length;a>r;r++)n[r].splice(3,1);e.addHookOnce("afterChange",i),e.setDataAtRowProp(n,null,null,"undo");for(var r=0,a=n.length;a>r;r++)e.getSettings().minSpareRows&&n[r][0]+1+e.getSettings().minSpareRows===e.countRows()&&o==e.getSettings().minSpareRows&&(e.alter("remove_row",parseInt(n[r][0]+1,10),e.getSettings().minSpareRows),e.undoRedo.doneActions.pop()),e.getSettings().minSpareCols&&n[r][1]+1+e.getSettings().minSpareCols===e.countCols()&&s==e.getSettings().minSpareCols&&(e.alter("remove_col",parseInt(n[r][1]+1,10),e.getSettings().minSpareCols),e.undoRedo.doneActions.pop())},t.UndoRedo.ChangeAction.prototype.redo=function(e,i){for(var n=t.helper.deepClone(this.changes),o=0,s=n.length;s>o;o++)n[o].splice(2,1);e.addHookOnce("afterChange",i),e.setDataAtRowProp(n,null,null,"redo")},t.UndoRedo.CreateRowAction=function(t,e){this.index=t,this.amount=e},t.helper.inherit(t.UndoRedo.CreateRowAction,t.UndoRedo.Action),t.UndoRedo.CreateRowAction.prototype.undo=function(t,e){var i=t.countRows(),n=t.getSettings().minSpareRows;this.index>=i&&this.index-n<i&&(this.index-=n),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount)},t.UndoRedo.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row",this.index+1,this.amount)},t.UndoRedo.RemoveRowAction=function(t,e){this.index=t,this.data=e},t.helper.inherit(t.UndoRedo.RemoveRowAction,t.UndoRedo.Action),t.UndoRedo.RemoveRowAction.prototype.undo=function(t,e){var i=[this.index,0];Array.prototype.push.apply(i,this.data),Array.prototype.splice.apply(t.getData(),i),t.addHookOnce("afterRender",e),t.render()},t.UndoRedo.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length)},t.UndoRedo.CreateColumnAction=function(t,e){this.index=t,this.amount=e},t.helper.inherit(t.UndoRedo.CreateColumnAction,t.UndoRedo.Action),t.UndoRedo.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount)},t.UndoRedo.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col",this.index+1,this.amount)},t.UndoRedo.CellAlignmentAction=function(t,e,i,n){this.stateBefore=t,this.range=e,this.type=i,this.alignment=n},t.UndoRedo.CellAlignmentAction.prototype.undo=function(t,e){if(t.contextMenu){for(var i=this.range.from.row;i<=this.range.to.row;i++)for(var n=this.range.from.col;n<=this.range.to.col;n++)t.setCellMeta(i,n,"className",this.stateBefore[i][n]||" htLeft");t.addHookOnce("afterRender",e),t.render()}},t.UndoRedo.CellAlignmentAction.prototype.redo=function(t,e){if(t.contextMenu){for(var i=this.range.from.row;i<=this.range.to.row;i++)for(var n=this.range.from.col;n<=this.range.to.col;n++)t.contextMenu.align.call(t,this.range,this.type,this.alignment);t.addHookOnce("afterRender",e),t.render()}},t.UndoRedo.RemoveColumnAction=function(t,e,i){this.index=t,this.data=e,this.amount=this.data[0].length,this.headers=i},t.helper.inherit(t.UndoRedo.RemoveColumnAction,t.UndoRedo.Action),t.UndoRedo.RemoveColumnAction.prototype.undo=function(t,e){for(var i,n,o=0,s=t.getData().length;s>o;o++)i=t.getSourceDataAtRow(o),n=[this.index,0],Array.prototype.push.apply(n,this.data[o]),Array.prototype.splice.apply(i,n);"undefined"!=typeof this.headers&&(n=[this.index,0],Array.prototype.push.apply(n,this.headers),Array.prototype.splice.apply(t.getSettings().colHeaders,n)),t.addHookOnce("afterRender",e),t.render()},t.UndoRedo.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount)}}(e),function(t){function e(){var e=this,r="undefined"==typeof e.getSettings().undo||e.getSettings().undo;r?e.undoRedo||(e.undoRedo=new t.UndoRedo(e),o(e),e.addHook("beforeKeyDown",i),e.addHook("afterChange",n)):e.undoRedo&&(delete e.undoRedo,s(e),e.removeHook("beforeKeyDown",i),e.removeHook("afterChange",n))}function i(t){var e=this,i=(t.ctrlKey||t.metaKey)&&!t.altKey;i&&(89===t.keyCode||t.shiftKey&&90===t.keyCode?(e.undoRedo.redo(),t.stopImmediatePropagation()):90===t.keyCode&&(e.undoRedo.undo(),t.stopImmediatePropagation()))}function n(t,e){var i=this;return"loadData"==e?i.undoRedo.clear():void 0}function o(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function s(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}t.hooks.add("afterInit",e),t.hooks.add("afterUpdateSettings",e)}(e),r.prototype.setBoundaries=function(t){this.boundaries=t},r.prototype.setCallback=function(t){this.callback=t},r.prototype.check=function(t,e){var i=0,n=0;e<this.boundaries.top?n=e-this.boundaries.top:e>this.boundaries.bottom&&(n=e-this.boundaries.bottom),t<this.boundaries.left?i=t-this.boundaries.left:t>this.boundaries.right&&(i=t-this.boundaries.right),this.callback(i,n)};var B,$;if("undefined"!=typeof e){var Y=function(e){e.dragToScrollListening=!1;var i=e.view.wt.wtScrollbars.vertical.scrollHandler;B=new r,i!==t&&(B.setBoundaries(i.getBoundingClientRect()),B.setCallback(function(t,e){0>t?i.scrollLeft-=50:t>0&&(i.scrollLeft+=50),0>e?i.scrollTop-=20:e>0&&(i.scrollTop+=20)}),e.dragToScrollListening=!0)};e.hooks.add("afterInit",function(){var t=this,i=e.eventManager(this);i.addEventListener(document,"mouseup",function(){t.dragToScrollListening=!1}),i.addEventListener(document,"mousemove",function(e){t.dragToScrollListening&&B.check(e.clientX,e.clientY)})}),e.hooks.add("afterDestroy",function(){var t=e.eventManager(this);t.clear()}),e.hooks.add("afterOnCellMouseDown",function(){Y(this)}),e.hooks.add("afterOnCellCornerMouseDown",function(){Y(this)}),e.plugins.DragToScroll=r}if(function(t,e,i){function n(n){function o(){n.isListening()&&n.selection.empty()}function s(t){var e,o,s,r,a,l,h,c,p,f;n.isListening()&&n.selection.isSelected()&&(e=t,o=i.parse(e),s=n.getSelected(),r=new u(s[0],s[1]),a=new u(s[2],s[3]),l=new d(r,r,a),h=l.getTopLeftCorner(),c=l.getBottomRightCorner(),p=h,f=new u(Math.max(c.row,o.length-1+h.row),Math.max(c.col,o[0].length-1+h.col)),n.addHookOnce("afterChange",function(t,e){t&&t.length&&this.selectCell(p.row,p.col,f.row,f.col)}),n.populateFromArray(p.row,p.col,o,f.row,f.col,"paste",n.getSettings().pasteMode))}function r(e){var i;if(n.getSelected()){if(t.helper.isCtrlKey(e.keyCode))return a.setCopyableText(),void e.stopImmediatePropagation();i=(e.ctrlKey||e.metaKey)&&!e.altKey,e.keyCode==t.helper.keyCode.A&&i&&n._registerTimeout(setTimeout(t.helper.proxy(a.setCopyableText,a),0))}}var a=this;this.copyPasteInstance=e.getInstance(),this.copyPasteInstance.onCut(o),this.copyPasteInstance.onPaste(s),n.addHook("beforeKeyDown",r),this.destroy=function(){this.copyPasteInstance.removeCallback(o),this.copyPasteInstance.removeCallback(s),this.copyPasteInstance.destroy(),n.removeHook("beforeKeyDown",r)},n.addHook("afterDestroy",t.helper.proxy(this.destroy,this)),this.triggerPaste=t.helper.proxy(this.copyPasteInstance.triggerPaste,this.copyPasteInstance),this.triggerCut=t.helper.proxy(this.copyPasteInstance.triggerCut,this.copyPasteInstance),this.setCopyableText=function(){var e=n.getSettings(),i=e.copyRowsLimit,o=e.copyColsLimit,s=n.getSelectedRange(),r=s.getTopLeftCorner(),a=s.getBottomRightCorner(),l=r.row,h=r.col,c=a.row,u=a.col,d=Math.min(c,l+i-1),p=Math.min(u,h+o-1);n.copyPaste.copyPasteInstance.copyable(n.getCopyableData(l,h,d,p)),(c!==d||u!==p)&&t.hooks.run(n,"afterCopyLimit",c-l+1,u-h+1,i,o)}}function o(){var t=this,e=t.getSettings().copyPaste!==!1;e&&!t.copyPaste?t.copyPaste=new n(t):!e&&t.copyPaste&&(t.copyPaste.destroy(),delete t.copyPaste)}t.hooks.add("afterInit",o),t.hooks.add("afterUpdateSettings",o),t.hooks.register("afterCopyLimit")}(e,N,SheetClip),function(t){function e(){var e=this,i=!!e.getSettings().search;i?e.search=new t.Search(e):delete e.search}t.Search=function(e){this.query=function(i,n,o){var s=e.countRows(),r=e.countCols(),a=[];n||(n=t.Search.global.getDefaultCallback()),o||(o=t.Search.global.getDefaultQueryMethod());for(var l=0;s>l;l++)for(var h=0;r>h;h++){var c=e.getDataAtCell(l,h),u=e.getCellMeta(l,h),d=u.search.callback||n,p=u.search.queryMethod||o,f=p(i,c);if(f){var m={row:l,col:h,data:c};a.push(m)}d&&d(e,l,h,c,f)}return a}},t.Search.DEFAULT_CALLBACK=function(t,e,i,n,o){t.getCellMeta(e,i).isSearchResult=o},t.Search.DEFAULT_QUERY_METHOD=function(t,e){return"undefined"!=typeof t&&null!=t&&t.toLowerCase&&0!==t.length?"undefined"==typeof e||null==e?!1:-1!=e.toString().toLowerCase().indexOf(t.toLowerCase()):!1},t.Search.DEFAULT_SEARCH_RESULT_CLASS="htSearchResult",t.Search.global=function(){var e=t.Search.DEFAULT_CALLBACK,i=t.Search.DEFAULT_QUERY_METHOD,n=t.Search.DEFAULT_SEARCH_RESULT_CLASS;return{getDefaultCallback:function(){return e},setDefaultCallback:function(t){e=t},getDefaultQueryMethod:function(){return i},setDefaultQueryMethod:function(t){i=t},getDefaultSearchResultClass:function(){return n},setDefaultSearchResultClass:function(t){n=t}}}(),t.SearchCellDecorator=function(e,i,n,o,s,r,a){var l="object"==typeof a.search&&a.search.searchResultClass||t.Search.global.getDefaultSearchResultClass();a.isSearchResult?t.Dom.addClass(i,l):t.Dom.removeClass(i,l)};var i=t.renderers.cellDecorator;t.renderers.cellDecorator=function(e,n,o,s,r,a,l){i.apply(this,arguments),t.SearchCellDecorator.apply(this,arguments)},t.hooks.add("afterInit",e),t.hooks.add("afterUpdateSettings",e)}(e),l.prototype.canMergeRange=function(t){return!t.isSingle()},l.prototype.mergeRange=function(t){if(this.canMergeRange(t)){var e=t.getTopLeftCorner(),i=t.getBottomRightCorner(),n={};n.row=e.row,n.col=e.col,n.rowspan=i.row-e.row+1,n.colspan=i.col-e.col+1,this.mergedCellInfoCollection.setInfo(n)}},l.prototype.mergeOrUnmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.from.row,t.from.col);e?this.unmergeSelection(t.from):this.mergeSelection(t)},l.prototype.mergeSelection=function(t){this.mergeRange(t)},l.prototype.unmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.row,t.col);this.mergedCellInfoCollection.removeInfo(e.row,e.col)},l.prototype.applySpanProperties=function(t,e,i){var n=this.mergedCellInfoCollection.getInfo(e,i);n?n.row===e&&n.col===i?(t.setAttribute("rowspan",n.rowspan),t.setAttribute("colspan",n.colspan)):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"))},l.prototype.modifyTransform=function(t,e,i){var n=function(t,e){return e.row>=t.row&&e.row<=t.row+t.rowspan-1?!0:!1},o=function(t,e){return e.col>=t.col&&e.col<=t.col+t.colspan-1?!0:!1},s=function(t){return new u(e.to.row+t.row,e.to.col+t.col)},r={row:i.row,col:i.col};if("modifyTransformStart"==t){this.lastDesiredCoords||(this.lastDesiredCoords=new u(null,null));for(var a,l=new u(e.highlight.row,e.highlight.col),h=this.mergedCellInfoCollection.getInfo(l.row,l.col),c=0,p=this.mergedCellInfoCollection.length;p>c;c++){var f=this.mergedCellInfoCollection[c];if(f=new u(f.row+f.rowspan-1,f.col+f.colspan-1),e.includes(f)){a=!0;break}}if(h){var m=new u(h.row,h.col),g=new u(h.row+h.rowspan-1,h.col+h.colspan-1),v=new d(m,m,g);v.includes(this.lastDesiredCoords)||(this.lastDesiredCoords=new u(null,null)),r.row=this.lastDesiredCoords.row?this.lastDesiredCoords.row-l.row:r.row,r.col=this.lastDesiredCoords.col?this.lastDesiredCoords.col-l.col:r.col,i.row>0?r.row=h.row+h.rowspan-1-l.row+i.row:i.row<0&&(r.row=l.row-h.row+i.row),i.col>0?r.col=h.col+h.colspan-1-l.col+i.col:i.col<0&&(r.col=l.col-h.col+i.col)}var y=new u(e.highlight.row+r.row,e.highlight.col+r.col),w=this.mergedCellInfoCollection.getInfo(y.row,y.col);w&&(this.lastDesiredCoords=y,r={row:w.row-l.row,col:w.col-l.col})}else if("modifyTransformEnd"==t)for(var c=0,p=this.mergedCellInfoCollection.length;p>c;c++){var b=this.mergedCellInfoCollection[c],m=new u(b.row,b.col),g=new u(b.row+b.rowspan-1,b.col+b.colspan-1),C=new d(m,m,g),_=e.getBordersSharedWith(C);if(C.isEqual(e))e.setDirection("NW-SE");else if(_.length>0){var x=e.highlight.isEqual(C.from);_.indexOf("top")>-1?e.to.isSouthEastOf(C.from)&&x?e.setDirection("NW-SE"):e.to.isSouthWestOf(C.from)&&x&&e.setDirection("NE-SW"):_.indexOf("bottom")>-1&&(e.to.isNorthEastOf(C.from)&&x?e.setDirection("SW-NE"):e.to.isNorthWestOf(C.from)&&x&&e.setDirection("SE-NW"))}var y=s(r),k=n(b,y),S=o(b,y);e.includesRange(C)&&(C.includes(y)||k||S)&&(k&&(r.row<0?r.row-=b.rowspan-1:r.row>0&&(r.row+=b.rowspan-1)),S&&(r.col<0?r.col-=b.colspan-1:r.col>0&&(r.col+=b.colspan-1)))}0!==r.row&&(i.row=r.row),0!==r.col&&(i.col=r.col)},"undefined"==typeof e)throw new Error("Handsontable is not defined");var V=function(){var t=this,e=t.getSettings().mergeCells;e&&(t.mergeCells||(t.mergeCells=new l(e)))},q=function(){var t=this;t.mergeCells&&(t.view.wt.wtTable.getCell=function(e){if(t.getSettings().mergeCells){var i=t.mergeCells.mergedCellInfoCollection.getInfo(e.row,e.col);i&&(e=i)}return D.prototype.getCell.call(this,e)})},U=function(t){if(this.mergeCells){var e=(t.ctrlKey||t.metaKey)&&!t.altKey;e&&77===t.keyCode&&(this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render(),t.stopImmediatePropagation())}},G=function(t){this.getSettings().mergeCells&&(t.items.push(e.ContextMenu.SEPARATOR),t.items.push({key:"mergeCells",name:function(){var t=this.getSelected(),e=this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1]);return e?"Unmerge cells":"Merge cells"},callback:function(){this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render()},disabled:function(){return!1}}))},W=function(t,e,i,n,o,s){this.mergeCells&&this.mergeCells.applySpanProperties(t,e,i)},X=function(t){return function(e){var i=this.getSettings().mergeCells;if(i){var n=this.getSelectedRange();if(this.mergeCells.modifyTransform(t,n,e),"modifyTransformEnd"===t){var o=this.countRows(),s=this.countCols();n.from.row<0?n.from.row=0:n.from.row>0&&n.from.row>=o&&(n.from.row=n.from-1),n.from.col<0?n.from.col=0:n.from.col>0&&n.from.col>=s&&(n.from.col=s-1)}}}},K=function(t){this.lastDesiredCoords=null;var e=this.getSettings().mergeCells;if(e){var i=this.getSelectedRange();i.highlight=new u(i.highlight.row,i.highlight.col),i.to=t;var n=!1;do{n=!1;for(var o=0,s=this.mergeCells.mergedCellInfoCollection.length;s>o;o++){var r=this.mergeCells.mergedCellInfoCollection[o],a=new u(r.row,r.col),l=new u(r.row+r.rowspan-1,r.col+r.colspan-1),h=new d(a,a,l);i.expandByRange(h)&&(t.row=i.to.row,t.col=i.to.col,n=!0)}}while(n)}},Z=function(t,e){if(e&&"area"==e){var i=this.getSettings().mergeCells;if(i)for(var n=this.getSelectedRange(),o=new d(n.from,n.from,n.from),s=new d(n.to,n.to,n.to),r=0,a=this.mergeCells.mergedCellInfoCollection.length;a>r;r++){var l=this.mergeCells.mergedCellInfoCollection[r],h=new u(l.row,l.col),c=new u(l.row+l.rowspan-1,l.col+l.colspan-1),p=new d(h,h,c);o.expandByRange(p)&&(t[0]=o.from.row,t[1]=o.from.col),s.expandByRange(p)&&(t[2]=s.from.row,t[3]=s.from.col)}}},Q=function(t,e,i){var n=this.getSettings().mergeCells;if(n){var o=this.mergeCells.mergedCellInfoCollection.getInfo(t,e);!o||o.row==t&&o.col==e||(i.copyable=!1)}},J=function(t){var e=this.getSettings().mergeCells;if(e)for(var i,n=this.countCols(),o=0;n>o;o++){if(i=this.mergeCells.mergedCellInfoCollection.getInfo(t.startRow,o),i&&i.row<t.startRow)return t.startRow=i.row,J.call(this,t);if(i=this.mergeCells.mergedCellInfoCollection.getInfo(t.endRow,o)){var s=i.row+i.rowspan-1;if(s>t.endRow)return t.endRow=s,J.call(this,t)}}},tt=function(t){var e=this.getSettings().mergeCells;if(e)for(var i,n=this.countRows(),o=0;n>o;o++){if(i=this.mergeCells.mergedCellInfoCollection.getInfo(o,t.startColumn),i&&i.col<t.startColumn)return t.startColumn=i.col,tt.call(this,t);if(i=this.mergeCells.mergedCellInfoCollection.getInfo(o,t.endColumn)){var s=i.col+i.colspan-1;if(s>t.endColumn)return t.endColumn=s,tt.call(this,t)}}},et=function(t){if(t&&this.mergeCells){var e=this.mergeCells.mergedCellInfoCollection,i=this.getSelectedRange();for(var n in e)if(i.highlight.row==e[n].row&&i.highlight.col==e[n].col&&i.to.row==e[n].row+e[n].rowspan-1&&i.to.col==e[n].col+e[n].colspan-1)return!1}return t};e.hooks.add("beforeInit",V),e.hooks.add("afterInit",q),e.hooks.add("beforeKeyDown",U),e.hooks.add("modifyTransformStart",X("modifyTransformStart")),e.hooks.add("modifyTransformEnd",X("modifyTransformEnd")),e.hooks.add("beforeSetRangeEnd",K),e.hooks.add("beforeDrawBorders",Z),e.hooks.add("afterIsMultipleSelection",et),e.hooks.add("afterRenderer",W),e.hooks.add("afterContextMenuDefaultOptions",G),e.hooks.add("afterGetCellMeta",Q),e.hooks.add("afterViewportRowCalculatorOverride",J),e.hooks.add("afterViewportColumnCalculatorOverride",tt),e.MergeCells=l,
function(){function t(){}var i,n=function(t){return"boolean"==typeof t&&t===!0?!0:"object"==typeof t&&t.length>0?!0:!1},o=function(){n(this.getSettings().customBorders)&&(this.customBorders||(i=this,this.customBorders=new t))},s=function(t){for(var e=0;e<i.view.wt.selections.length;e++)if(i.view.wt.selections[e].settings.className==t)return e;return-1},r=function(t){var e={row:t.row,col:t.col},n=new S(t,new d(e,e,e)),o=s(t.className);o>=0?i.view.wt.selections[o]=n:i.view.wt.selections.push(n)},a=function(t,e,i){var n=f(t,e);n=m(n,i),this.setCellMeta(t,e,"borders",n),r(n)},l=function(t){for(var e=t.range,i=e.from.row;i<=e.to.row;i++)for(var n=e.from.col;n<=e.to.col;n++){var o=f(i,n),s=0;i==e.from.row&&(s++,t.hasOwnProperty("top")&&(o.top=t.top)),i==e.to.row&&(s++,t.hasOwnProperty("bottom")&&(o.bottom=t.bottom)),n==e.from.col&&(s++,t.hasOwnProperty("left")&&(o.left=t.left)),n==e.to.col&&(s++,t.hasOwnProperty("right")&&(o.right=t.right)),s>0&&(this.setCellMeta(i,n,"borders",o),r(o))}},h=function(t,e){return"border_row"+t+"col"+e},c=function(){return{width:1,color:"#000"}},u=function(){return{hide:!0}},p=function(){return{width:1,color:"#000",cornerVisible:!1}},f=function(t,e){return{className:h(t,e),border:p(),row:t,col:e,top:u(),right:u(),bottom:u(),left:u()}},m=function(t,e){return e.hasOwnProperty("border")&&(t.border=e.border),e.hasOwnProperty("top")&&(t.top=e.top),e.hasOwnProperty("right")&&(t.right=e.right),e.hasOwnProperty("bottom")&&(t.bottom=e.bottom),e.hasOwnProperty("left")&&(t.left=e.left),t},g=function(t){for(var e=document.querySelectorAll("."+t),i=0;i<e.length;i++)if(e[i]&&"TD"!=e[i].nodeName){var n=e[i].parentNode;n.parentNode&&n.parentNode.removeChild(n)}},v=function(t,e){var i=h(t,e);g(i),this.removeCellMeta(t,e,"borders")},y=function(t,e,i,n){var o=this.getCellMeta(t,e).borders;o&&void 0!=o.border||(o=f(t,e)),n?o[i]=u():o[i]=c(),this.setCellMeta(t,e,"borders",o);var s=h(t,e);g(s),r(o),this.render()},w=function(t,e,i){if(t.from.row==t.to.row&&t.from.col==t.to.col)"noBorders"==e?v.call(this,t.from.row,t.from.col):y.call(this,t.from.row,t.from.col,e,i);else switch(e){case"noBorders":for(var n=t.from.col;n<=t.to.col;n++)for(var o=t.from.row;o<=t.to.row;o++)v.call(this,o,n);break;case"top":for(var s=t.from.col;s<=t.to.col;s++)y.call(this,t.from.row,s,e,i);break;case"right":for(var r=t.from.row;r<=t.to.row;r++)y.call(this,r,t.to.col,e);break;case"bottom":for(var a=t.from.col;a<=t.to.col;a++)y.call(this,t.to.row,a,e);break;case"left":for(var l=t.from.row;l<=t.to.row;l++)y.call(this,l,t.from.col,e)}},b=function(t,e){var i=!1;return t.getSelectedRange().forAll(function(n,o){var s=t.getCellMeta(n,o).borders;if(s){if(!e)return i=!0,!1;if(!s[e].hasOwnProperty("hide"))return i=!0,!1}}),i},C=function(t){return"<span class='selected'>"+String.fromCharCode(10003)+"</span>"+t},_=function(t){this.getSettings().customBorders&&(t.items.push(e.ContextMenu.SEPARATOR),t.items.push({key:"borders",name:"Borders",submenu:{items:{top:{name:function(){var t="Top",e=b(this,"top");return e&&(t=C(t)),t},callback:function(){var t=b(this,"top");w.call(this,this.getSelectedRange(),"top",t)},disabled:!1},right:{name:function(){var t="Right",e=b(this,"right");return e&&(t=C(t)),t},callback:function(){var t=b(this,"right");w.call(this,this.getSelectedRange(),"right",t)},disabled:!1},bottom:{name:function(){var t="Bottom",e=b(this,"bottom");return e&&(t=C(t)),t},callback:function(){var t=b(this,"bottom");w.call(this,this.getSelectedRange(),"bottom",t)},disabled:!1},left:{name:function(){var t="Left",e=b(this,"left");return e&&(t=C(t)),t},callback:function(){var t=b(this,"left");w.call(this,this.getSelectedRange(),"left",t)},disabled:!1},remove:{name:"Remove border(s)",callback:function(){w.call(this,this.getSelectedRange(),"noBorders")},disabled:function(){return!b(this)}}}}}))};e.hooks.add("beforeInit",o),e.hooks.add("afterContextMenuDefaultOptions",_),e.hooks.add("afterInit",function(){var t=this.getSettings().customBorders;if(t){for(var e=0;e<t.length;e++)t[e].range?l.call(this,t[e]):a.call(this,t[e].row,t[e].col,t[e]);this.render(),this.view.wt.draw(!0)}}),e.CustomBorders=t}(),function(e){function i(){function i(t){$=this,d=t;var e=this.view.wt.wtTable.getCoords(t).row;if(e>=0){u=e;var i=d.getBoundingClientRect();c=i.top,p.style.top=c+"px",p.style.left=i.left+"px",$.rootElement.appendChild(p)}}function n(t,e){var i=t.getBoundingClientRect(),n=6;e>0?p.style.top=i.top+i.height-n+"px":p.style.top=i.top+"px"}function o(){var t=this;e.Dom.addClass(p,"active"),e.Dom.addClass(f,"active");var i=d.getBoundingClientRect();f.style.width=t.view.maximumVisibleElementWidth(0)+"px",f.style.height=i.height+"px",f.style.top=c+"px",f.style.left=p.style.left,t.rootElement.appendChild(f)}function s(t){f.style.top=c+t+"px"}function r(){e.Dom.removeClass(p,"active"),e.Dom.removeClass(f,"active")}var a,l,h,c,u,d,p=document.createElement("DIV"),f=document.createElement("DIV"),m=e.eventManager(this);p.className="manualRowMover",f.className="manualRowMoverGuide";var g=function(){var t=this;e.hooks.run(t,"persistentStateSave","manualRowPositions",t.manualRowPositions)},v=function(){var t=this,i={};return e.hooks.run(t,"persistentStateLoad","manualRowPositions",i),i.value},y=function(t){return"BODY"!=t.tagName?"TBODY"==t.parentNode.tagName?!0:(t=t.parentNode,y(t)):!1},w=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:w(t.parentNode):null},b=function(){var c,p=this;m.addEventListener(p.rootElement,"mouseover",function(t){if(y(t.target)){var e=w(t.target);e&&(c?(l=p.view.wt.wtTable.getCoords(e).row,n(e,l-a)):i.call(p,e))}}),m.addEventListener(p.rootElement,"mousedown",function(t){e.Dom.hasClass(t.target,"manualRowMover")&&(h=e.helper.pageY(t),o.call(p),c=p,a=u,l=u)}),m.addEventListener(t,"mousemove",function(t){c&&s(e.helper.pageY(t)-h)}),m.addEventListener(t,"mouseup",function(t){c&&(r(),c=!1,_(p.manualRowPositions,p.countRows()),p.manualRowPositions.splice(l,0,p.manualRowPositions.splice(a,1)[0]),p.forceFullRender=!0,p.view.render(),g.call(p),e.hooks.run(p,"afterRowMove",a,l),i.call(p,d))}),p.addHook("afterDestroy",C)},C=function(){m.clear()},_=function(t,e){if(t.length<e)for(var i=t.length;e>i;i++)t[i]=i};this.beforeInit=function(){this.manualRowPositions=[]},this.init=function(t){var e=this,i=!!e.getSettings().manualRowMove;if(i){var n=e.getSettings().manualRowMove,o=v.call(e);"undefined"!=typeof e.manualRowPositionsPluginUsages?e.manualRowPositionsPluginUsages.push("manualColumnMove"):e.manualRowPositionsPluginUsages=["manualColumnMove"],"undefined"!=typeof o?this.manualRowPositions=o:Array.isArray(n)?this.manualRowPositions=n:this.manualRowPositions=[],"afterInit"===t&&(b.call(this),this.manualRowPositions.length>0&&(e.forceFullRender=!0,e.render()))}else{var s=e.manualRowPositionsPluginUsages?e.manualRowPositionsPluginUsages.indexOf("manualColumnMove"):-1;s>-1&&(C.call(this),e.manualRowPositions=[],e.manualRowPositionsPluginUsages[s]=void 0)}},this.modifyRow=function(t){var e=this;return e.getSettings().manualRowMove?("undefined"==typeof e.manualRowPositions[t]&&_(this.manualRowPositions,t+1),e.manualRowPositions[t]):t}}var n=new i;e.hooks.add("beforeInit",n.beforeInit),e.hooks.add("afterInit",function(){n.init.call(this,"afterInit")}),e.hooks.add("afterUpdateSettings",function(){n.init.call(this,"afterUpdateSettings")}),e.hooks.add("modifyRow",n.modifyRow),e.hooks.register("afterRowMove")}(e),function(e){function i(i){this.instance=i,this.addingStarted=!1;var n,o,s=!1,r=this,a=e.eventManager(i),l=function(t){return i.autofill?void(i.autofill.handle&&i.autofill.handle.isDragged&&(i.autofill.handle.isDragged>1&&i.autofill.apply(),i.autofill.handle.isDragged=0,s=!1)):!0};a.addEventListener(document,"mouseup",function(t){l(t)}),a.addEventListener(document,"mousemove",function(i){if(!r.instance.autofill)return 0;var n=e.Dom.offset(r.instance.table).top-(t.pageYOffset||document.documentElement.scrollTop)+e.Dom.outerHeight(r.instance.table),o=e.Dom.offset(r.instance.table).left-(t.pageXOffset||document.documentElement.scrollLeft)+e.Dom.outerWidth(r.instance.table);r.addingStarted===!1&&r.instance.autofill.handle.isDragged>0&&i.clientY>n&&i.clientX<=o?(this.mouseDragOutside=!0,r.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&setTimeout(function(){r.addingStarted=!1,r.instance.alter("insert_row")},200)}),n=this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown,this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown=function(t){i.autofill.handle.isDragged=1,s=!0,n(t)},o=this.instance.view.wt.wtSettings.settings.onCellMouseOver,this.instance.view.wt.wtSettings.settings.onCellMouseOver=function(t,e,n,r){i.autofill&&s&&!i.view.isMouseDown()&&i.autofill.handle&&i.autofill.handle.isDragged&&(i.autofill.handle.isDragged++,i.autofill.showBorder(e),i.autofill.checkIfNewRowNeeded()),o(t,e,n,r)},this.instance.view.wt.wtSettings.settings.onCellCornerDblClick=function(){i.autofill.selectAdjacent()}}i.prototype.init=function(){this.handle={}},i.prototype.disable=function(){this.handle.disabled=!0},i.prototype.selectAdjacent=function(){var t,e,i,n,o;t=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),e=this.instance.getData();t:for(i=t[2]+1;i<this.instance.countRows();i++){for(o=t[1];o<=t[3];o++)if(e[i][o])break t;(e[i][t[1]-1]||e[i][t[3]+1])&&(n=i)}n&&(this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(new u(t[0],t[1])),this.instance.view.wt.selections.fill.add(new u(n,t[3])),this.apply())},i.prototype.apply=function(){var t,i,n,o,s;if(this.handle.isDragged=0,t=this.instance.view.wt.selections.fill.getCorners()){var r=function(t,e,i,n){var o,s,r,a=i.length,l=i?i[0].length:0,h=[],c=e.row-t.row,u=e.col-t.col,d=[];if(-1!==["down","up"].indexOf(n)){for(var p=0;u>=p;p++)o=parseInt(i[0][p],10),s=parseInt(i[a-1][p],10),r=("down"===n?s-o:o-s)/(a-1)||0,d.push(r);h.push(d)}if(-1!==["right","left"].indexOf(n))for(var f=0;c>=f;f++)o=parseInt(i[f][0],10),s=parseInt(i[f][l-1],10),r=("right"===n?s-o:o-s)/(l-1)||0,d=[],d.push(r),h.push(d);return h};this.instance.view.wt.selections.fill.clear(),i=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners();var a;if(t[0]===i[0]&&t[1]<i[1]?(a="left",n=new u(t[0],t[1]),o=new u(t[2],i[1]-1)):t[0]===i[0]&&t[3]>i[3]?(a="right",n=new u(t[0],i[3]+1),o=new u(t[2],t[3])):t[0]<i[0]&&t[1]===i[1]?(a="up",n=new u(t[0],t[1]),o=new u(i[0]-1,t[3])):t[2]>i[2]&&t[1]===i[1]&&(a="down",n=new u(i[2]+1,t[1]),o=new u(t[2],t[3])),n&&n.row>-1&&n.col>-1){var l={from:this.instance.getSelectedRange().from,to:this.instance.getSelectedRange().to};s=this.instance.getData(l.from.row,l.from.col,l.to.row,l.to.col);var h=r(n,o,s,a);e.hooks.run(this.instance,"beforeAutofill",n,o,s),this.instance.populateFromArray(n.row,n.col,s,o.row,o.col,"autofill",null,a,h),this.instance.selection.setRangeStart(new u(t[0],t[1])),this.instance.selection.setRangeEnd(new u(t[2],t[3]))}else this.instance.selection.refreshBorders()}},i.prototype.showBorder=function(t){var e=this.instance.getSelectedRange().getTopLeftCorner(),i=this.instance.getSelectedRange().getBottomRightCorner();if("horizontal"!==this.instance.getSettings().fillHandle&&(i.row<t.row||e.row>t.row))t=new u(t.row,i.col);else{if("vertical"===this.instance.getSettings().fillHandle)return;t=new u(i.row,t.col)}this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().from),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().to),this.instance.view.wt.selections.fill.add(t),this.instance.view.render()},i.prototype.checkIfNewRowNeeded=function(){var t,e,i=this.instance.countRows(),n=this;this.instance.view.wt.selections.fill.cellRange&&this.addingStarted===!1&&(e=this.instance.getSelected(),t=this.instance.view.wt.selections.fill.getCorners(),e[2]<i-1&&t[2]===i-1&&(this.addingStarted=!0,this.instance._registerTimeout(setTimeout(function(){n.instance.alter("insert_row"),n.addingStarted=!1},200))))},e.hooks.add("afterInit",function(){var t=new i(this);"undefined"!=typeof this.getSettings().fillHandle&&(t.handle&&this.getSettings().fillHandle===!1?t.disable():t.handle||this.getSettings().fillHandle===!1||(this.autofill=t,this.autofill.init()))}),e.Autofill=i}(e);var it=function(t){var i=[],n={rows:0,cols:0},o={rows:0,cols:0},s=[],r=[],a={groupIndicatorContainer:"htGroupIndicatorContainer",groupIndicator:function(t){return"ht"+t+"Group"},groupStart:"htGroupStart",collapseButton:"htCollapseButton",expandButton:"htExpandButton",collapseGroupId:function(t){return"htCollapse-"+t},collapseFromLevel:function(t,e){return"htCollapse"+t+"FromLevel-"+e},clickable:"clickable",levelTrigger:"htGroupLevelTrigger"},l=function(t,e){return function(i,n){return"undefined"==typeof e||"asc"===e?i[t]-n[t]:n[t]-i[t]}},h=function(t,e){for(var i=[];e>=t;)i.push(t++);return i},c=function(t,e,i){var n=[],o={row:null,col:null};if("cols"==t)for(;i>=e;)o={row:-1,col:e++},n.push(o);else for(;i>=e;)o={row:e++,col:-1},n.push(o);for(var s=d(n),r=0,a=0,l=0;l<s.length;l++)r+=s[l].filter(function(t){return t.rows}).length,a+=s[l].filter(function(t){return t.cols}).length;return{total:{rows:r,cols:a},groups:s}},d=function(t){for(var e=[],i=0;i<t.length;i++)e.push(p(t[i]));return e},p=function(t,e,n){for(var o=t.row,s=t.col,r=-1===o?0:o,a=-1===s?0:s,l=[],h=0;h<i.length;h++){var c=i[h],u=c.id,d=(c.level,c.rows||[]),p=c.cols||[];-1===l.indexOf(u)&&(-1!==d.indexOf(r)||-1!==p.indexOf(a))&&l.push(c)}-1===s?l=l.concat(v()):-1===o&&(l=l.concat(w())),e&&(l=l.filter(function(t){return t.level===e})),n&&("cols"===n?l=l.filter(function(t){return t.cols}):"rows"===n&&(l=l.filter(function(t){return t.rows})));var f=[];return l.filter(function(t){return-1===f.indexOf(t.id)?(f.push(t.id),t):void 0})},f=function(t){for(var e=0,n=i.length;n>e;e++)if(i[e].id==t)return i[e];return!1},m=function(t,e){for(var n=0,o=i.length;o>n;n++)if(i[n].level==e&&i[n].rows&&i[n].rows.indexOf(t)>-1)return i[n];return!1},g=function(t,e){for(var n=0,o=i.length;o>n;n++)if(i[n].level==e&&i[n].cols&&i[n].cols.indexOf(t)>-1)return i[n];return!1},v=function(){for(var t=[],e=0,n=i.length;n>e;e++)Array.isArray(i[e].cols)&&t.push(i[e]);return t},y=function(t){for(var e=[],n=0,o=i.length;o>n;n++)i[n].cols&&i[n].level===t&&e.push(i[n]);return e},w=function(){for(var t=[],e=0,n=i.length;n>e;e++)Array.isArray(i[e].rows)&&t.push(i[e]);return t},b=function(t){for(var e=[],n=0,o=i.length;o>n;n++)i[n].rows&&i[n].level===t&&e.push(i[n]);return e},C=function(t){var e=0;return t.length&&t.forEach(function(t){if(t=t.filter(function(t){return t.cols}),t.length){var i=t.sort(l("level","desc")),n=i[0].level;n>e&&(e=n)}}),e},_=function(t){var e=0;return t.length&&t.forEach(function(t){if(t=t.filter(function(t){return t.rows}),t.length){var i=t.sort(l("level","desc")),n=i[0].level;n>e&&(e=n)}}),e},x=function(t,e){var s=c("cols",t,e),r=C(s.groups);r===o.cols?o.cols++:r>o.cols&&(o.cols=r+1),n.cols||(n.cols=v().length),n.cols++,i.push({id:"c"+n.cols,level:r+1,cols:h(t,e),hidden:0})},k=function(t,e){var s=c("rows",t,e),r=_(s.groups);o.rows=Math.max(o.rows,r+1),n.rows||(n.rows=w().length),n.rows++,i.push({id:"r"+n.rows,level:r+1,rows:h(t,e),hidden:0})},S=function(t,e){for(var i,n=0,o=e.length;o>n;n++)if(e[n].hidden=t,i=e[n].level,s[i]||(s[i]=[]),r[i]||(r[i]=[]),e[n].rows)for(var a=0,l=e[n].rows.length;l>a;a++)t>0?s[i][e[n].rows[a]]=!0:s[i][e[n].rows[a]]=void 0;else if(e[n].cols)for(var a=0,h=e[n].cols.length;h>a;a++)t>0?r[i][e[n].cols[a]]=!0:r[i][e[n].cols[a]]=void 0},T=function(t,i,n,o){var s,r;switch(t){case"rows":s=m(i+1,n).id,r=e.Grouping.getGroupLevelsByRows();break;case"cols":s=g(i+1,n).id,r=e.Grouping.getGroupLevelsByCols()}return!!(r[i+1]&&r[i+1].indexOf(n)>-1&&o==s)},D=function(t,i,n,o){var s,r;switch(t){case"rows":s=m(i-1,n).id,r=e.Grouping.getGroupLevelsByRows();break;case"cols":s=g(i-1,n).id,r=e.Grouping.getGroupLevelsByCols()}return!!(r[i-1]&&r[i-1].indexOf(n)>-1&&o==s)},E=function(i,n,a,l){if(0===n)return!1;var h,c,u=D(i,n,a,l),d=T(i,n,a,l),p=!1;switch(i){case"rows":h=e.Grouping.getGroupLevelsByRows(),c=t.countRows();for(var f=0;f<=o.rows;f++)if(s[f]&&s[f][n+1]){p=!0;break}break;case"cols":h=e.Grouping.getGroupLevelsByCols(),c=t.countCols();for(var f=0;f<=o.cols;f++)if(r[f]&&r[f][n+1]){p=!0;break}}if(u){if(n==c-1)return!0;if(!d||d&&p)return!0;if(!h[n+1])return!0}return!1},R=function(e){var i;switch(e){case"rows":i=o.rows;for(var n=0;i>=n;n++)if(s[n]&&s[n][t.countRows()-1])return!0;break;case"cols":i=o.cols;for(var n=0;i>=n;n++)if(r[n]&&r[n][t.countCols()-1])return!0}return!1},A=function(i,n,a,l){var h,c,u,d=f(l),p=!1,m=function(t){for(var e=!1,i="rows"==t?s:r,a=0;a<=o[t];a++){for(u=n;d[t].indexOf(u)>-1;)e=!(!i[a]||!i[a][u]),u--;if(e)break}return e},g=D(i,n,a,l),v=T(i,n,a,l);switch(i){case"rows":h=e.Grouping.getGroupLevelsByRows(),c=t.countRows(),p=m(i);break;case"cols":h=e.Grouping.getGroupLevelsByCols(),c=t.countCols(),p=m(i)}if(n==c-1)return!1;if(0===n){if(v)return!0}else if(!g||g&&p){if(v)return!0}else if(!h[n-1]&&v)return!0;return!1},M=function(t,i,n,o,s){var r;switch(t){case"rows":r=m(i-1,n).id;break;case"cols":r=g(i-1,n).id}if(!r)return null;if(i>0&&D(t,i-1,n,r)&&r!=o){var l=document.createElement("DIV");return e.Dom.addClass(l,a.expandButton),l.id="htExpand-"+r,l.appendChild(document.createTextNode("+")),l.setAttribute("data-level",n),l.setAttribute("data-type",t),l.setAttribute("data-hidden","1"),s.appendChild(l),l}return null},P=function(t){for(var e=w(),i=v(),n=0,o=e.length;o>n;n++)if(e[n].rows.indexOf(t.row)>-1&&e[n].hidden)return!0;if(null===t.col)return!1;for(var n=0,s=i.length;s>n;n++)if(i[n].cols.indexOf(t.col)>-1&&i[n].hidden)return!0;return!1};return{getGroups:function(){return i},getLevels:function(){return o},instance:t,baseSpareRows:t.getSettings().minSpareRows,baseSpareCols:t.getSettings().minSpareCols,getRowGroups:w,getColGroups:v,init:function(){var i=t.getSettings().groups;i&&Array.isArray(i)&&e.Grouping.initGroups(i)},initGroups:function(t){i=[],t.forEach(function(t){var e=[],i=!1,n=!1;Array.isArray(t.rows)?(e=t.rows,i=!0):Array.isArray(t.cols)&&(e=t.cols,n=!0);var o=e[0],s=e[e.length-1];i?k(o,s):n&&x(o,s)})},resetGroups:function(){i=[],n={rows:0,cols:0},o={rows:0,cols:0};var t;for(var s in a)if("function"!=typeof a[s]){t=document.querySelectorAll("."+a[s]);for(var r=0,l=t.length;l>r;r++)e.Dom.removeClass(t[r],a[s])}for(var h=["htGroupColClosest","htGroupCol"],s=0,c=h.length;c>s;s++){t=document.querySelectorAll("."+h[s]);for(var r=0,l=t.length;l>r;r++)e.Dom.removeClass(t[r],h[s])}},updateGroups:function(){var t=this.getSettings().groups;e.Grouping.resetGroups(),e.Grouping.initGroups(t)},afterGetRowHeader:function(t,i){for(var n=!1,o=0,r=s.length;r>o;o++)s[o]&&s[o][t]===!0&&(n=!0);n?e.Dom.addClass(i.parentNode,"hidden"):!n&&e.Dom.hasClass(i.parentNode,"hidden")&&e.Dom.removeClass(i.parentNode,"hidden")},afterGetColHeader:function(i,n){var o=this.view.wt.wtSettings.getSetting("rowHeaders").length,s=t.rootElement.querySelectorAll("colgroup col:nth-child("+parseInt(i+o+1,10)+")");if(0!==s.length){for(var a=!1,l=0,h=r.length;h>l;l++)r[l]&&r[l][i]===!0&&(a=!0);if(a)for(var l=0,c=s.length;c>l;l++)e.Dom.addClass(s[l],"hidden");else if(!a&&e.Dom.hasClass(s[0],"hidden"))for(var l=0,c=s.length;c>l;l++)e.Dom.removeClass(s[l],"hidden")}},groupIndicatorsFactory:function(t,i){var s,r,l,h,c,u,d,p;switch(i){case"horizontal":s=e.Grouping.getGroupLevelsByCols(),r=function(t){return Array.prototype.indexOf.call(t.parentNode.parentNode.childNodes,t.parentNode)+1},l=function(t,e){return g(t,e).id},h="cols",c=function(t,e){return g(t-1,e)},u="columnHeaders",d=function(t){if(1===t.length){var i=t[0];t[0]=function(t,n,o){-1>t?v()(t,n,o):(e.Dom.removeClass(n,a.groupIndicatorContainer),i(t,n,o))}}return function(){return t}},p=!0;break;case"vertical":s=e.Grouping.getGroupLevelsByRows(),r=function(t){return e.Dom.index(t)+1},l=function(t,e){return m(t,e).id},h="rows",c=function(t,e){return m(t-1,e)},u="rowHeaders",d=function(t){return t}}var f=function(t){var i=document.createElement("div");return t.appendChild(i),{button:i,addClass:function(t){e.Dom.addClass(i,t)}}},v=function(){var t=i.charAt(0).toUpperCase()+i.slice(1);return function(i,n,o){o++;for(var r,u;r=n.lastChild;)n.removeChild(r);e.Dom.addClass(n,a.groupIndicatorContainer);var d=l(i,o);if(i>-1&&s[i]&&s[i].indexOf(o)>-1&&(u=f(n),u.addClass(a.groupIndicator(t)),A(h,i,o,d)&&u.addClass(a.groupStart),E(h,i,o,d)&&(u.button.appendChild(document.createTextNode("-")),u.addClass(a.collapseButton),u.button.id=a.collapseGroupId(d),u.button.setAttribute("data-level",o),u.button.setAttribute("data-type",h))),p){var m=e.Dom.index(n.parentNode);if(-1===i||-1>i&&m===e.Grouping.getLevels().cols+1||0===m&&0===e.Grouping.getLevels().cols)if(u=f(n),u.addClass(a.levelTrigger),-1===i)u.button.id=a.collapseFromLevel("Cols",o),u.button.appendChild(document.createTextNode(o));else if(-1>i&&m===e.Grouping.getLevels().cols+1||0===m&&0===e.Grouping.getLevels().cols){var g=e.Dom.index(n)+1;u.button.id=a.collapseFromLevel("Rows",g),u.button.appendChild(document.createTextNode(g))}}var v=M(h,i,o,d,n);if(i>0){var y=c(i-1,o);v&&y.hidden&&e.Dom.addClass(v,a.clickable)}nt()}};if(t=d(t),n[h]>0)for(var y=0;y<o[h]+1;y++)Array.isArray(t)||(t="function"==typeof t?t():new Array(t)),t.unshift(v())},getGroupLevelsByRows:function(){for(var t=w(),e=[],i=0,n=t.length;n>i;i++)if(t[i].rows)for(var o=0,s=t[i].rows.length;s>o;o++)e[t[i].rows[o]]||(e[t[i].rows[o]]=[]),e[t[i].rows[o]].push(t[i].level);return e},getGroupLevelsByCols:function(){for(var t=v(),e=[],i=0,n=t.length;n>i;i++)if(t[i].cols)for(var o=0,s=t[i].cols.length;s>o;o++)e[t[i].cols[o]]||(e[t[i].cols[o]]=[]),e[t[i].cols[o]].push(t[i].level);return e},toggleGroupVisibility:function(i,n,s){if(e.Dom.hasClass(i.target,a.expandButton)||e.Dom.hasClass(i.target,a.collapseButton)||e.Dom.hasClass(i.target,a.levelTrigger)){var r,l,h,c,u=i.target,d=u.id.split("-"),p=[],m=function(t){t&&(u=t),d=u.id.split("-"),r=d[1],l=parseInt(u.getAttribute("data-level"),10),h=u.getAttribute("data-type"),c=parseInt(u.getAttribute("data-hidden")),c=isNaN(c)?1:c?0:1,u.setAttribute("data-hidden",c.toString()),p.push(f(r))};if(u.className.indexOf(a.levelTrigger)>-1){for(var g,v=[],w=[],C=u.id.indexOf("Rows")>-1?"rows":"cols",_=1,x=o[C];x>=_;_++)if(g="rows"==C?b(_):y(_),_>=parseInt(d[1],10))for(var k=0,T=g.length;T>k;k++)w.push(g[k]);else for(var k=0,T=g.length;T>k;k++)v.push(g[k]);S(!0,w),S(!1,v)}else m(),S(c,p);h=h||C;var D=R(h),E=h.charAt(0).toUpperCase()+h.slice(1),A=e.Grouping["baseSpare"+E];D?0==A&&(t.alter("insert_"+h.slice(0,-1),t["count"+E]()),e.Grouping["dummy"+h.slice(0,-1)]=!0):0==A&&e.Grouping["dummy"+h.slice(0,-1)]&&(t.alter("remove_"+h.slice(0,-1),t["count"+E]()-1),e.Grouping["dummy"+h.slice(0,-1)]=!1),t.render(),i.stopImmediatePropagation()}},modifySelectionFactory:function(t){var e,i=this.instance,n=new u(0,0),o=function(t,e){var i=0;switch(t){case"down":for(;P(e);)i++,e.row+=1;break;case"up":for(;P(e);)i--,e.row-=1;break;case"right":for(;P(e);)i++,e.col+=1;break;case"left":for(;P(e);)i--,e.col-=1}return i},s=function(t,e){t.row>0?P(e)&&(t.row+=o("down",e)):t.row<0&&P(e)&&(t.row+=o("up",e)),t.col>0?P(e)&&(t.col+=o("right",e)):t.col<0&&P(e)&&(t.col+=o("left",e))};switch(t){case"start":return function(t){e=i.getSelected(),n.row=e[0]+t.row,n.col=e[1]+t.col,s(t,n)};case"end":return function(t){e=i.getSelected(),n.row=e[2]+t.row,n.col=e[3]+t.col,s(t,n)}}},modifyRowHeight:function(e,i){return t.view.wt.wtTable.rowFilter&&P({row:i,col:null})?0:void 0},validateGroups:function(){for(var e=function(t,e){return t[0]<e[0]&&t[1]<e[1]&&e[0]<=t[1]||t[0]>e[0]&&e[1]<t[1]&&t[0]<=e[1]?!0:void 0},i=t.getSettings().groups,n=[],o=[],s=0,r=i.length;r>s;s++)if(i[s].rows){if(1===i[s].rows.length)throw new Error("Grouping error:  Group {"+i[s].rows[0]+"} is invalid. Cannot define single-entry groups.");if(0===i[s].rows.length)throw new Error("Grouping error:  Cannot define empty groups.");o.push(i[s].rows);for(var a=0,l=o.length;l>a;a++)if(e(i[s].rows,o[a]))throw new Error("Grouping error:  ranges {"+i[s].rows[0]+", "+i[s].rows[1]+"} and {"+o[a][0]+", "+o[a][1]+"} are overlapping.")}else if(i[s].cols){if(1===i[s].cols.length)throw new Error("Grouping error:  Group {"+i[s].cols[0]+"} is invalid. Cannot define single-entry groups.");if(0===i[s].cols.length)throw new Error("Grouping error:  Cannot define empty groups.");n.push(i[s].cols);for(var a=0,h=n.length;h>a;a++)if(e(i[s].cols,n[a]))throw new Error("Grouping error:  ranges {"+i[s].cols[0]+", "+i[s].cols[1]+"} and {"+n[a][0]+", "+n[a][1]+"} are overlapping.")}return!0},afterGetRowHeaderRenderers:function(t){e.Grouping.groupIndicatorsFactory(t,"vertical")},afterGetColumnHeaderRenderers:function(t){e.Grouping.groupIndicatorsFactory(t,"horizontal")},hookProxy:function(i,n){return function(){return t.getSettings().groups?n?e.Grouping[i](n).apply(this,arguments):e.Grouping[i].apply(this,arguments):void 0}}}},F=function(){var t=this,i=!!t.getSettings().groups;if(i){var n={};e.Grouping=new it(t),t.getSettings().rowHeaders||(n.rowHeaders=!0),t.getSettings().colHeaders||(n.colHeaders=!0),(n.colHeaders||n.rowHeaders)&&t.updateSettings(n);var o=e.Grouping.validateGroups();if(!o)return;t.addHook("beforeInit",e.Grouping.hookProxy("init")),t.addHook("afterUpdateSettings",e.Grouping.hookProxy("updateGroups")),t.addHook("afterGetColumnHeaderRenderers",e.Grouping.hookProxy("afterGetColumnHeaderRenderers")),t.addHook("afterGetRowHeaderRenderers",e.Grouping.hookProxy("afterGetRowHeaderRenderers")),t.addHook("afterGetRowHeader",e.Grouping.hookProxy("afterGetRowHeader")),t.addHook("afterGetColHeader",e.Grouping.hookProxy("afterGetColHeader")),t.addHook("beforeOnCellMouseDown",e.Grouping.hookProxy("toggleGroupVisibility")),t.addHook("modifyTransformStart",e.Grouping.hookProxy("modifySelectionFactory","start")),t.addHook("modifyTransformEnd",e.Grouping.hookProxy("modifySelectionFactory","end")),t.addHook("modifyRowHeight",e.Grouping.hookProxy("modifyRowHeight"))}},nt=function(){for(var t=document.querySelectorAll("colgroup"),i=0,n=t.length;n>i;i++){var o=t[i].querySelectorAll("col.rowHeader");if(0===o.length)return;for(var s=0,r=o.length+1;r>s;s++){if(2==r)return;s<e.Grouping.getLevels().rows+1&&(s==e.Grouping.getLevels().rows?e.Dom.addClass(o[s],"htGroupColClosest"):e.Dom.addClass(o[s],"htGroupCol"))}}};e.hooks.add("beforeInit",F),e.hooks.add("afterUpdateSettings",function(){this.getSettings().groups&&!e.Grouping?F.call(this,arguments):!this.getSettings().groups&&e.Grouping&&(e.Grouping.resetGroups(),e.Grouping=void 0)}),e.plugins.Grouping=it,function(t){function e(){this.zeroClipboardInstance=null,this.instance=null}e.prototype.prepareZeroClipboard=function(){this.swfPath&&ZeroClipboard.config({swfPath:this.swfPath})},e.prototype.copy=function(){return this.instance.copyPaste.setCopyableText(),this.instance.copyPaste.copyPasteInstance.elTextarea.value},e.prototype.addToContextMenu=function(e){this.getSettings().contextMenuCopyPaste&&e.items.unshift({key:"copy",name:"Copy"},{key:"paste",name:"Paste",callback:function(){this.copyPaste.triggerPaste()}},t.ContextMenu.SEPARATOR)},e.prototype.setupZeroClipboard=function(e){var n=this;if(this.cmInstance=e,t.Dom.hasClass(this.cmInstance.rootElement,"htContextMenu"))for(var o=e.getData(),s=0,r=o.length;r>s;s++)if("copy"===o[s].key){this.zeroClipboardInstance=new ZeroClipboard(e.getCell(s,0)),this.zeroClipboardInstance.off(),this.zeroClipboardInstance.on("copy",function(t){var e=t.clipboardData;e.setData("text/plain",n.copy()),n.instance.getSettings().outsideClickDeselects=n.outsideClickDeselectsCache}),i.bindEvents();break}},e.prototype.bindEvents=function(){var e=this;if(e.cmInstance){var i=new t.eventManager(this.instance),n=function(i){var n=e.cmInstance.rootElement.querySelector("td.current");n&&t.Dom.removeClass(n,"current"),e.outsideClickDeselectsCache=e.instance.getSettings().outsideClickDeselects,e.instance.getSettings().outsideClickDeselects=!1},o=function(i){var n=e.cmInstance.rootElement.querySelector("td.zeroclipboard-is-hover");n&&t.Dom.removeClass(n,"zeroclipboard-is-hover"),e.instance.getSettings().outsideClickDeselects=e.outsideClickDeselectsCache};i.removeEventListener(document,"mouseenter",function(){n()}),i.addEventListener(document,"mouseenter",function(t){n()}),i.removeEventListener(document,"mouseleave",function(){o()}),i.addEventListener(document,"mouseleave",function(t){o()})}},e.prototype.init=function(){if(this.getSettings().contextMenuCopyPaste){if("object"==typeof this.getSettings().contextMenuCopyPaste&&(i.swfPath=this.getSettings().contextMenuCopyPaste.swfPath),"undefined"==typeof ZeroClipboard)throw new Error("To be able to use the Copy/Paste feature from the context menu, you need to manualy include ZeroClipboard.js file to your website.");try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){if("undefined"==typeof navigator.mimeTypes["application/x-shockwave-flash"])throw new Error("To be able to use the Copy/Paste feature from the context menu, your browser needs to have Flash Plugin installed.")}i.instance=this,i.prepareZeroClipboard()}};var i=new e;t.hooks.add("afterRender",function(){i.setupZeroClipboard(this)}),t.hooks.add("afterInit",i.init),t.hooks.add("afterContextMenuDefaultOptions",i.addToContextMenu),t.ContextMenuCopyPaste=e}(e),function(t){function e(e){this.instance=e,this.dragged=[],this.eventManager=t.eventManager(e),this.bindTouchEvents()}e.prototype.getCurrentRangeCoords=function(t,e,i,n,o){var s=t.getTopLeftCorner(),r=t.getBottomRightCorner(),a=t.getBottomLeftCorner(),l=t.getTopRightCorner(),h={start:null,end:null};switch(i){case"NE-SW":switch(n){case"NE-SW":case"NW-SE":h="topLeft"==o?{start:new u(e.row,t.highlight.col),end:new u(a.row,e.col)}:{start:new u(t.highlight.row,e.col),end:new u(e.row,s.col)};break;case"SE-NW":"bottomRight"==o&&(h={start:new u(r.row,e.col),end:new u(e.row,s.col)})}break;case"NW-SE":switch(n){case"NE-SW":"topLeft"==o?h={start:e,end:a}:h.end=e;break;case"NW-SE":"topLeft"==o?h={start:e,end:r}:h.end=e;break;case"SE-NW":"topLeft"==o?h={start:e,end:s}:h.end=e;break;case"SW-NE":"topLeft"==o?h={start:e,end:l}:h.end=e}break;case"SW-NE":switch(n){case"NW-SE":h="bottomRight"==o?{start:new u(e.row,s.col),end:new u(a.row,e.col)}:{start:new u(s.row,e.col),end:new u(e.row,r.col)};break;case"SW-NE":h="topLeft"==o?{start:new u(t.highlight.row,e.col),end:new u(e.row,r.col)}:{start:new u(e.row,s.col),end:new u(s.row,e.col)};break;case"SE-NW":"bottomRight"==o?h={start:new u(e.row,l.col),end:new u(s.row,e.col)}:"topLeft"==o&&(h={start:a,end:e})}break;case"SE-NW":switch(n){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==o&&(h.end=e);break;case"SE-NW":"topLeft"==o?h.end=e:h={start:e,end:s}}}return h},e.prototype.bindTouchEvents=function(){var e=this,i=function(t){if(1==this.dragged.length)return this.dragged=[],!0;var e=this.dragged.indexOf(t);return-1==e?!1:void(0===e?this.dragged=this.dragged.slice(0,1):1==e&&(this.dragged=this.dragged.slice(-1)))};this.eventManager.addEventListener(this.instance.rootElement,"touchstart",function(i){if(t.Dom.hasClass(i.target,"topLeftSelectionHandle-HitArea")){e.dragged.push("topLeft");var n=e.instance.getSelectedRange();return e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},i.preventDefault(),!1}if(t.Dom.hasClass(i.target,"bottomRightSelectionHandle-HitArea")){e.dragged.push("bottomRight");var n=e.instance.getSelectedRange();return e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},i.preventDefault(),!1}}),this.eventManager.addEventListener(this.instance.rootElement,"touchend",function(n){return t.Dom.hasClass(n.target,"topLeftSelectionHandle-HitArea")?(i.call(e,"topLeft"),e.touchStartRange=void 0,n.preventDefault(),!1):t.Dom.hasClass(n.target,"bottomRightSelectionHandle-HitArea")?(i.call(e,"bottomRight"),e.touchStartRange=void 0,n.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.instance.rootElement,"touchmove",function(i){var n=t.Dom.getWindowScrollTop(),o=t.Dom.getWindowScrollLeft();if(e.dragged.length>0){var s=document.elementFromPoint(i.touches[0].screenX-o,i.touches[0].screenY-n);if(!s)return;if("TD"==s.nodeName||"TH"==s.nodeName){var r=e.instance.getCoords(s);-1==r.col&&(r.col=0);var a=e.instance.getSelectedRange(),l=a.getWidth(),h=a.getHeight(),c=a.getDirection();1==l&&1==h&&e.instance.selection.setRangeEnd(r);var u=e.getCurrentRangeCoords(a,r,e.touchStartRange.direction,c,e.dragged[0]);null!=u.start&&e.instance.selection.setRangeStart(u.start),e.instance.selection.setRangeEnd(u.end)}i.preventDefault()}})},e.prototype.isDragged=function(){
return 0===this.dragged.length?!1:!0};var i=function(){var i=this;t.plugins.multipleSelectionHandles=new e(i)};t.hooks.add("afterInit",i)}(e);var ot=function(t){function i(t){}return i.prototype.init=function(t){this.instance=t,this.bindEvents(),this.scrollbars=[this.instance.view.wt.wtScrollbars.vertical,this.instance.view.wt.wtScrollbars.horizontal,this.instance.view.wt.wtScrollbars.corner],this.clones=[this.instance.view.wt.wtScrollbars.vertical.clone.wtTable.holder.parentNode,this.instance.view.wt.wtScrollbars.horizontal.clone.wtTable.holder.parentNode,this.instance.view.wt.wtScrollbars.corner.clone.wtTable.holder.parentNode]},i.prototype.bindEvents=function(){var t=this;this.instance.addHook("beforeTouchScroll",function(){e.freezeOverlays=!0;for(var i=0,n=t.clones.length;n>i;i++)e.Dom.addClass(t.clones[i],"hide-tween")}),this.instance.addHook("afterMomentumScroll",function(){e.freezeOverlays=!1;for(var i=0,n=t.clones.length;n>i;i++)e.Dom.removeClass(t.clones[i],"hide-tween");for(var i=0,n=t.clones.length;n>i;i++)e.Dom.addClass(t.clones[i],"show-tween");setTimeout(function(){for(var i=0,n=t.clones.length;n>i;i++)e.Dom.removeClass(t.clones[i],"show-tween")},400);for(var i=0,n=t.scrollbars.length;n>i;i++)t.scrollbars[i].refresh(),t.scrollbars[i].resetFixedPosition()})},i}(),st=new ot;if(e.hooks.add("afterInit",function(){st.init.call(st,this)}),function(t){function e(e){function i(i){i.items.push(t.ContextMenu.SEPARATOR,{key:"freeze_column",name:function(){var t=e.getSelected()[1];return t>f-1?"Freeze this column":"Unfreeze this column"},disabled:function(){var t=e.getSelected();return t[1]!==t[3]},callback:function(){var t=e.getSelected()[1];t>f-1?h(t):c(t)}})}function n(){e.updateSettings({fixedColumnsLeft:f+1}),f++}function o(){e.updateSettings({fixedColumnsLeft:f-1}),f--}function s(t){e.manualColumnPositions&&0!==e.manualColumnPositions.length||e.manualColumnPositions||(e.manualColumnPositions=[]),t?e.manualColumnPositions[t]||r(t+1):r(e.countCols())}function r(t){if(e.manualColumnPositions.length<t)for(var i=e.manualColumnPositions.length;t>i;i++)e.manualColumnPositions[i]=i}function a(t,i,n,o){null==n&&(n=t),"freeze"===o?e.manualColumnPositions.splice(f,0,e.manualColumnPositions.splice(i,1)[0]):"unfreeze"===o&&e.manualColumnPositions.splice(n,0,e.manualColumnPositions.splice(i,1)[0])}function l(t){for(var e=f,i=u(e),n=u(t);n>i;)e++,i=u(e);return e-1}function h(t){if(!(f-1>=t)){var e=u(t)||t;s(e),a(e,t,null,"freeze"),n()}}function c(t){if(!(t>f-1)){var e=l(t),i=u(t)||t;s(i),a(i,t,e,"unfreeze"),o()}}function u(t){return e.manualColumnPositions[t]}function d(t){return this.manualColumnPositionsPluginUsages.length>1?t:u(t)}function p(){e.addHook("modifyCol",d),e.addHook("afterContextMenuDefaultOptions",i)}var f=e.getSettings().fixedColumnsLeft,m=function(){"undefined"!=typeof e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.push("manualColumnFreeze"):e.manualColumnPositionsPluginUsages=["manualColumnFreeze"],p()};return{init:m,freezeColumn:h,unfreezeColumn:c,helpers:{addFixedColumn:n,removeFixedColumn:o,checkPositionData:s,modifyColumnOrder:a,getBestColumnReturnPosition:l}}}var i=function(){if(this.getSettings().manualColumnFreeze){var i;t.plugins.manualColumnFreeze=e,this.manualColumnFreeze=new e(this),i=this.manualColumnFreeze,i.init.call(this)}};t.hooks.add("beforeInit",i)}(e),h.prototype.init=function(){this.TABLE=this.instance.wtTable.TABLE,this.fixed=this.instance.wtTable.hider,this.fixedContainer=this.instance.wtTable.holder,this.scrollHandler=this.getScrollableElement(this.TABLE)},h.prototype.makeClone=function(t){var e=document.createElement("DIV");e.className="ht_clone_"+t+" handsontable",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.overflow="hidden";var i=document.createElement("TABLE");return i.className=this.instance.wtTable.TABLE.className,e.appendChild(i),this.instance.wtTable.holder.parentNode.appendChild(e),new m({cloneSource:this.instance,cloneOverlay:this,table:i})},h.prototype.getScrollableElement=function(e){for(var i=e.parentNode;i&&i.style&&document.body!==i;){if("visible"!==i.style.overflow&&""!==i.style.overflow)return i;if(t.getComputedStyle){var n=t.getComputedStyle(i);if("visible"!==n.getPropertyValue("overflow")&&""!==n.getPropertyValue("overflow"))return i}if(this instanceof _&&"visible"!==i.style.overflowX&&""!==i.style.overflowX)return i;i=i.parentNode}return t},h.prototype.refresh=function(t){this.clone&&this.clone.draw(t)},h.prototype.destroy=function(){var t=e.eventManager(this.clone);t.clear()},c.prototype.appear=function(t){var i,n,o,s,r,a,l,h,c,d,p,f;if(!this.disabled){var m,g,v,y,w,b,_,k=this.instance,S=function(){return!this.instance.selections.area.cellRange||v==this.instance.selections.area.cellRange.to.row&&y==this.instance.selections.area.cellRange.to.col?!1:!0},T=function(t,e,i,n){var o=parseInt(this.selectionHandles.styles.topLeft.width,10),s=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(t-o,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(e-o,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(t-s/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(e-s/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(t+n,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(e+i,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(t+n-s/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(e+i-s/4,10)+"px",this.settings.border.multipleSelectionHandlesVisible&&this.settings.border.multipleSelectionHandlesVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",S.call(this)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),m==this.instance.wtSettings.getSetting("fixedRowsTop")||g==this.instance.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")};for(b=k.cloneOverlay instanceof x||k.cloneOverlay instanceof C?k.getSetting("fixedRowsTop"):k.wtTable.getRenderedRowsCount(),w=0;b>w;w++)if(_=k.wtTable.rowFilter.renderedToSource(w),_>=t[0]&&_<=t[2]){m=_;break}for(w=b-1;w>=0;w--)if(_=k.wtTable.rowFilter.renderedToSource(w),_>=t[0]&&_<=t[2]){v=_;break}for(b=k.wtTable.getRenderedColumnsCount(),w=0;b>w;w++)if(_=k.wtTable.columnFilter.renderedToSource(w),_>=t[1]&&_<=t[3]){g=_;break}for(w=b-1;w>=0;w--)if(_=k.wtTable.columnFilter.renderedToSource(w),_>=t[1]&&_<=t[3]){y=_;break}if(void 0===m||void 0===g)return void this.disappear();i=m!==v||g!==y,n=k.wtTable.getCell(new u(m,g)),o=i?k.wtTable.getCell(new u(v,y)):n,s=e.Dom.offset(n),r=i?e.Dom.offset(o):s,a=e.Dom.offset(k.wtTable.TABLE),h=s.top,p=r.top+e.Dom.outerHeight(o)-h,d=s.left,f=r.left+e.Dom.outerWidth(o)-d,l=h-a.top-1,c=d-a.left-1;var D=e.Dom.getComputedStyle(n);parseInt(D.borderTopWidth,10)>0&&(l+=1,p=p>0?p-1:0),parseInt(D.borderLeftWidth,10)>0&&(c+=1,f=f>0?f-1:0),this.topStyle.top=l+"px",this.topStyle.left=c+"px",this.topStyle.width=f+"px",this.topStyle.display="block",this.leftStyle.top=l+"px",this.leftStyle.left=c+"px",this.leftStyle.height=p+"px",this.leftStyle.display="block";var E=Math.floor(this.settings.border.width/2);if(this.bottomStyle.top=l+p-E+"px",this.bottomStyle.left=c+"px",this.bottomStyle.width=f+"px",this.bottomStyle.display="block",this.rightStyle.top=l+"px",this.rightStyle.left=c+f-E+"px",this.rightStyle.height=p+1+"px",this.rightStyle.display="block",e.mobileBrowser||!this.hasSetting(this.settings.border.cornerVisible)||S.call(this))this.cornerStyle.display="none";else if(this.cornerStyle.top=l+p-4+"px",this.cornerStyle.left=c+f-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="block",y===this.instance.getSetting("totalColumns")-1){var R=e.Dom.getScrollableElement(k.wtTable.TABLE),A=o.offsetLeft+e.Dom.outerWidth(o)>=e.Dom.innerWidth(R);A&&(this.cornerStyle.left=Math.floor(c+f-3-parseInt(this.cornerDefaultStyle.width)/2)+"px",this.cornerStyle.borderRightWidth=0)}e.mobileBrowser&&T.call(this,l,c,f,p)}},c.prototype.disappear=function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",e.mobileBrowser&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")},c.prototype.hasSetting=function(t){return"function"==typeof t?t():!!t},u.prototype.isValid=function(t){return this.row<0||this.col<0?!1:this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns")?!1:!0},u.prototype.isEqual=function(t){return t===this?!0:this.row===t.row&&this.col===t.col},u.prototype.isSouthEastOf=function(t){return this.row>=t.row&&this.col>=t.col},u.prototype.isNorthWestOf=function(t){return this.row<=t.row&&this.col<=t.col},u.prototype.isSouthWestOf=function(t){return this.row>=t.row&&this.col<=t.col},u.prototype.isNorthEastOf=function(t){return this.row<=t.row&&this.col>=t.col},t.WalkontableCellCoords=u,d.prototype.isValid=function(t){return this.from.isValid(t)&&this.to.isValid(t)},d.prototype.isSingle=function(){return this.from.row===this.to.row&&this.from.col===this.to.col},d.prototype.getHeight=function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1},d.prototype.getWidth=function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1},d.prototype.includes=function(t){var e=this.getTopLeftCorner(),i=this.getBottomRightCorner();return t.row<0&&(t.row=0),t.col<0&&(t.col=0),e.row<=t.row&&i.row>=t.row&&e.col<=t.col&&i.col>=t.col},d.prototype.includesRange=function(t){return this.includes(t.getTopLeftCorner())&&this.includes(t.getBottomRightCorner())},d.prototype.isEqual=function(t){return Math.min(this.from.row,this.to.row)==Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)==Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)==Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)==Math.max(t.from.col,t.to.col)},d.prototype.overlaps=function(t){return t.isSouthEastOf(this.getTopLeftCorner())&&t.isNorthWestOf(this.getBottomRightCorner())},d.prototype.isSouthEastOf=function(t){return this.getTopLeftCorner().isSouthEastOf(t)||this.getBottomRightCorner().isSouthEastOf(t)},d.prototype.isNorthWestOf=function(t){return this.getTopLeftCorner().isNorthWestOf(t)||this.getBottomRightCorner().isNorthWestOf(t)},d.prototype.expand=function(t){var e=this.getTopLeftCorner(),i=this.getBottomRightCorner();return t.row<e.row||t.col<e.col||t.row>i.row||t.col>i.col?(this.from=new u(Math.min(e.row,t.row),Math.min(e.col,t.col)),this.to=new u(Math.max(i.row,t.row),Math.max(i.col,t.col)),!0):!1},d.prototype.expandByRange=function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var e=this.getTopLeftCorner(),i=this.getBottomRightCorner(),n=(this.getTopRightCorner(),this.getBottomLeftCorner(),t.getTopLeftCorner()),o=t.getBottomRightCorner(),s=Math.min(e.row,n.row),r=Math.min(e.col,n.col),a=Math.max(i.row,o.row),l=Math.max(i.col,o.col),h=new u(s,r),c=new u(a,l),p=new d(h,h,c).isCorner(this.from,t),f=t.isEqual(new d(h,h,c));return p&&!f&&(this.from.col>h.col&&(h.col=l,c.col=r),this.from.row>h.row&&(h.row=a,c.row=s)),this.from=h,this.to=c,!0},d.prototype.getDirection=function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0},d.prototype.setDirection=function(t){switch(t){case"NW-SE":this.from=this.getTopLeftCorner(),this.to=this.getBottomRightCorner();break;case"NE-SW":this.from=this.getTopRightCorner(),this.to=this.getBottomLeftCorner();break;case"SE-NW":this.from=this.getBottomRightCorner(),this.to=this.getTopLeftCorner();break;case"SW-NE":this.from=this.getBottomLeftCorner(),this.to=this.getTopRightCorner()}},d.prototype.getTopLeftCorner=function(){return new u(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},d.prototype.getBottomRightCorner=function(){return new u(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},d.prototype.getTopRightCorner=function(){return new u(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},d.prototype.getBottomLeftCorner=function(){return new u(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},d.prototype.isCorner=function(t,e){return e&&e.includes(t)&&(this.getTopLeftCorner().isEqual(new u(e.from.row,e.from.col))||this.getTopRightCorner().isEqual(new u(e.from.row,e.to.col))||this.getBottomLeftCorner().isEqual(new u(e.to.row,e.from.col))||this.getBottomRightCorner().isEqual(new u(e.to.row,e.to.col)))?!0:t.isEqual(this.getTopLeftCorner())||t.isEqual(this.getTopRightCorner())||t.isEqual(this.getBottomLeftCorner())||t.isEqual(this.getBottomRightCorner())},d.prototype.getOppositeCorner=function(t,e){if(!(t instanceof u))return!1;if(e&&e.includes(t)){if(this.getTopLeftCorner().isEqual(new u(e.from.row,e.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new u(e.from.row,e.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new u(e.to.row,e.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new u(e.to.row,e.to.col)))return this.getTopLeftCorner()}return t.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():t.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():t.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():t.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0},d.prototype.getBordersSharedWith=function(t){if(!this.includesRange(t))return[];var e={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},i={top:Math.min(t.from.row,t.to.row),bottom:Math.max(t.from.row,t.to.row),left:Math.min(t.from.col,t.to.col),right:Math.max(t.from.col,t.to.col)},n=[];return e.top==i.top&&n.push("top"),e.right==i.right&&n.push("right"),e.bottom==i.bottom&&n.push("bottom"),e.left==i.left&&n.push("left"),n},d.prototype.getInner=function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),i=[],n=t.row;n<=e.row;n++)for(var o=t.col;o<=e.col;o++)this.from.row===n&&this.from.col===o||this.to.row===n&&this.to.col===o||i.push(new u(n,o));return i},d.prototype.getAll=function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),i=[],n=t.row;n<=e.row;n++)for(var o=t.col;o<=e.col;o++)t.row===n&&t.col===o?i.push(t):e.row===n&&e.col===o?i.push(e):i.push(new u(n,o));return i},d.prototype.forAll=function(t){for(var e=this.getTopLeftCorner(),i=this.getBottomRightCorner(),n=e.row;n<=i.row;n++)for(var o=e.col;o<=i.col;o++){var s=t(n,o);if(s===!1)return}},t.WalkontableCellRange=d,p.prototype.offsetted=function(t){return t+this.offset},p.prototype.unOffsetted=function(t){return t-this.offset},p.prototype.renderedToSource=function(t){return this.offsetted(t)},p.prototype.sourceToRendered=function(t){return this.unOffsetted(t)},p.prototype.offsettedTH=function(t){return t-this.countTH},p.prototype.unOffsettedTH=function(t){return t+this.countTH},p.prototype.visibleRowHeadedColumnToSourceColumn=function(t){return this.renderedToSource(this.offsettedTH(t))},p.prototype.sourceColumnToVisibleRowHeadedColumn=function(t){return this.unOffsettedTH(this.sourceToRendered(t))},f.prototype.getContainerSize=function(){return"function"==typeof this.containerSizeFn?this.containerSizeFn():this.containerSizeFn},f.prototype.getSize=function(t){return this.cellSizes[t]+(this.cellStretch[t]||0)},f.prototype.stretch=function(){var t=this.getContainerSize(),e=0;if(this.remainingSize=this.cellSizesSum-t,this.cellStretch.length=0,"all"===this.strategy){if(this.remainingSize<0){for(var i,n=t/this.cellSizesSum;e<this.cellCount-1;)i=Math.floor(n*this.cellSizes[e]),this.remainingSize+=i-this.cellSizes[e],this.cellStretch[e]=i-this.cellSizes[e],e++;this.cellStretch[this.cellCount-1]=-this.remainingSize,this.remainingSize=0}}else"last"===this.strategy&&this.remainingSize<0&&t!==1/0&&(this.cellStretch[this.cellCount-1]=-this.remainingSize,this.remainingSize=0)},f.prototype.countVisible=function(){return this.visibleCellCount},f.prototype.isLastIncomplete=function(){var t=this.instance.wtTable.getFirstVisibleRow(),i=this.instance.wtTable.getLastVisibleColumn(),n=this.instance.wtTable.getCell(new u(t,i)),o=e.Dom.offset(n),s=e.Dom.outerWidth(n),r=o.left+s,a=this.instance.wtScrollbars.vertical.getScrollPosition(),l=this.instance.wtViewport.getViewportWidth(),h=a+l;return h>=r},m.prototype.draw=function(t){return this.drawInterrupted=!1,t||e.Dom.isVisible(this.wtTable.TABLE)?(this.wtTable.draw(t),this):void(this.drawInterrupted=!0)},m.prototype.getCell=function(t,e){if(e){var i=this.wtSettings.getSetting("fixedRowsTop"),n=this.wtSettings.getSetting("fixedColumnsLeft");return t.row<i&&t.col<n?this.wtScrollbars.corner.clone.wtTable.getCell(t):t.row<i?this.wtScrollbars.vertical.clone.wtTable.getCell(t):t.col<n?this.wtScrollbars.horizontal.clone.wtTable.getCell(t):this.wtTable.getCell(t)}return this.wtTable.getCell(t)},m.prototype.update=function(t,e){return this.wtSettings.update(t,e)},m.prototype.scrollVertical=function(t){return this.wtScrollbars.vertical.scrollTo(t),this.getSetting("onScrollVertically"),this},m.prototype.scrollHorizontal=function(t){return this.wtScrollbars.horizontal.scrollTo(t),this.getSetting("onScrollHorizontally"),this},m.prototype.scrollViewport=function(t){return this.wtScroll.scrollViewport(t),this},m.prototype.getViewport=function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]},m.prototype.getSetting=function(t,e,i,n,o){return this.wtSettings.getSetting(t,e,i,n,o)},m.prototype.hasSetting=function(t){return this.wtSettings.has(t)},m.prototype.destroy=function(){this.wtScrollbars.destroy(),this.wtEvent&&this.wtEvent.destroy()},g.prototype=new h,g.prototype.destroy=function(){h.prototype.destroy.call(this),clearTimeout(this.lastTimeout)},v.prototype.parentCell=function(t){var i={},n=this.instance.wtTable.TABLE,o=e.Dom.closest(t,["TD","TH"],n);return o&&e.Dom.isChildOf(o,n)?(i.coords=this.instance.wtTable.getCoords(o),i.TD=o):e.Dom.hasClass(t,"wtBorder")&&e.Dom.hasClass(t,"current")?(i.coords=this.instance.selections.current.cellRange.highlight,i.TD=this.instance.wtTable.getCell(i.coords)):e.Dom.hasClass(t,"wtBorder")&&e.Dom.hasClass(t,"area")&&this.instance.selections.area.cellRange&&(i.coords=this.instance.selections.area.cellRange.to,i.TD=this.instance.wtTable.getCell(i.coords)),i},t.requestAnimFrame=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,i){return t.setTimeout(e,1e3/60)}}(),t.cancelRequestAnimFrame=function(){return t.cancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}(),t.getComputedStyle||!function(){var e,i={getPropertyValue:function(t){return"float"==t&&(t="styleFloat"),e.currentStyle[t.toUpperCase()]||null}};t.getComputedStyle=function(t){return e=t,i}}(),!String.prototype.trim){var rt=/^\s+|\s+$/g;String.prototype.trim=function(){return this.replace(rt,"")}}w.prototype.offsetted=function(t){return t+this.offset},w.prototype.unOffsetted=function(t){return t-this.offset},w.prototype.renderedToSource=function(t){return this.offsetted(t)},w.prototype.sourceToRendered=function(t){return this.unOffsetted(t)},w.prototype.offsettedTH=function(t){return t-this.countTH},w.prototype.visibleColHeadedRowToSourceRow=function(t){return this.renderedToSource(this.offsettedTH(t))},w.prototype.sourceRowToVisibleColHeadedRow=function(t){return this.unOffsettedTH(this.sourceToRendered(t))},b.prototype.scrollViewport=function(t){if(this.instance.drawn){var e=this.instance.getSetting("totalRows"),i=this.instance.getSetting("totalColumns");if(t.row<0||t.row>e-1)throw new Error("row "+t.row+" does not exist");if(t.col<0||t.col>i-1)throw new Error("column "+t.col+" does not exist");t.row>this.instance.wtTable.getLastVisibleRow()?this.instance.wtScrollbars.vertical.scrollTo(t.row,!0):t.row>=this.instance.getSetting("fixedRowsTop")&&t.row<this.instance.wtTable.getFirstVisibleRow()&&this.instance.wtScrollbars.vertical.scrollTo(t.row),t.col>this.instance.wtTable.getLastVisibleColumn()?this.instance.wtScrollbars.horizontal.scrollTo(t.col,!0):t.col>=this.instance.getSetting("fixedColumnsLeft")&&t.col<this.instance.wtTable.getFirstVisibleColumn()&&this.instance.wtScrollbars.horizontal.scrollTo(t.col)}},C.prototype=new h,C.prototype.resetFixedPosition=function(){if(this.instance.wtTable.holder.parentNode){var i,n,o=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===t){var s=this.instance.wtTable.holder.getBoundingClientRect(),r=Math.ceil(s.top),a=Math.ceil(s.left),l=Math.ceil(s.bottom),h=Math.ceil(s.right);i=0>a&&h-o.offsetWidth>0?-a+"px":"0",n=0>r&&l-o.offsetHeight>0?-r+"px":"0"}else e.freezeOverlays||(i=this.instance.wtScrollbars.horizontal.getScrollPosition()+"px",n=this.instance.wtScrollbars.vertical.getScrollPosition()+"px");e.Dom.setOverlayPosition(o,i,n),o.style.width=e.Dom.outerWidth(this.clone.wtTable.TABLE)+4+"px",o.style.height=e.Dom.outerHeight(this.clone.wtTable.TABLE)+4+"px"}},_.prototype=new h,_.prototype.resetFixedPosition=function(){var i,n;if(this.instance.wtTable.holder.parentNode){var o=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===t){var s=this.instance.wtTable.holder.getBoundingClientRect(),r=Math.ceil(s.left),a=Math.ceil(s.right);i=0>r&&a-o.offsetWidth>0?-r+"px":"0",n=this.instance.wtTable.hider.style.top}else e.freezeOverlays||(i=this.getScrollPosition()+"px",n=this.instance.wtTable.hider.style.top);e.Dom.setOverlayPosition(o,i,n),o.style.height=e.Dom.outerHeight(this.clone.wtTable.TABLE)+"px",o.style.width=e.Dom.outerWidth(this.clone.wtTable.TABLE)+4+"px"}},_.prototype.refresh=function(t){this.applyToDOM(),h.prototype.refresh.call(this,t)},_.prototype.getScrollPosition=function(){return e.Dom.getScrollLeft(this.scrollHandler)},_.prototype.setScrollPosition=function(i){this.scrollHandler===t?t.scrollTo(i,e.Dom.getWindowScrollTop()):this.scrollHandler.scrollLeft=i},_.prototype.onScroll=function(){this.instance.getSetting("onScrollHorizontally")},_.prototype.sumCellSizes=function(t,e){for(var i=0;e>t;)i+=this.instance.wtTable.getStretchedColumnWidth(t)||this.instance.wtSettings.defaultColumnWidth,t++;return i},_.prototype.applyToDOM=function(){var t=this.instance.getSetting("totalColumns"),e=this.instance.wtViewport.getRowHeaderWidth();if(this.fixedContainer.style.width=e+this.sumCellSizes(0,t)+"px","number"==typeof this.instance.wtViewport.columnsRenderCalculator.startPosition)this.fixed.style.left=this.instance.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the columnsRenderCalculator");this.fixed.style.left="0"}this.fixed.style.right=""},_.prototype.scrollTo=function(t,e){var i=this.getTableParentOffset();if(e)i+=this.sumCellSizes(0,t+1),i-=this.instance.wtViewport.getViewportWidth();else{var n=this.instance.getSetting("fixedColumnsLeft");i+=this.sumCellSizes(n,t)}this.setScrollPosition(i)},_.prototype.getTableParentOffset=function(){return this.scrollHandler===t?this.instance.wtTable.holderOffset.left:0},x.prototype=new h,x.prototype.resetFixedPosition=function(){var i,n;if(this.instance.wtTable.holder.parentNode){var o=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===t){var s=this.instance.wtTable.holder.getBoundingClientRect(),r=Math.ceil(s.top),a=Math.ceil(s.bottom);i=this.instance.wtTable.hider.style.left,n=0>r&&a-o.offsetHeight>0?-r+"px":"0"}else e.freezeOverlays||(n=this.getScrollPosition()+"px",i=this.instance.wtTable.hider.style.left);e.Dom.setOverlayPosition(o,i,n),this.instance.wtScrollbars.horizontal.scrollHandler===t?o.style.width=this.instance.wtViewport.getWorkspaceActualWidth()+"px":o.style.width=e.Dom.outerWidth(this.clone.wtTable.TABLE)+"px",o.style.height=e.Dom.outerHeight(this.clone.wtTable.TABLE)+4+"px"}},x.prototype.getScrollPosition=function(){return e.Dom.getScrollTop(this.scrollHandler)},x.prototype.setScrollPosition=function(i){this.scrollHandler===t?t.scrollTo(e.Dom.getWindowScrollLeft(),i):this.scrollHandler.scrollTop=i},x.prototype.onScroll=function(){this.instance.getSetting("onScrollVertically")},x.prototype.sumCellSizes=function(t,e){for(var i=0;e>t;)i+=this.instance.wtTable.getRowHeight(t)||this.instance.wtSettings.settings.defaultRowHeight,t++;return i},x.prototype.refresh=function(t){this.applyToDOM(),h.prototype.refresh.call(this,t)},x.prototype.applyToDOM=function(){var t=this.instance.getSetting("totalRows"),e=this.instance.wtViewport.getColumnHeaderHeight();if(this.fixedContainer.style.height=e+this.sumCellSizes(0,t)+"px","number"==typeof this.instance.wtViewport.rowsRenderCalculator.startPosition)this.fixed.style.top=this.instance.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the rowsRenderCalculator");this.fixed.style.top="0"}this.fixed.style.bottom=""},x.prototype.scrollTo=function(t,e){var i=this.getTableParentOffset();if(e)i+=this.sumCellSizes(0,t+1),i-=this.instance.wtViewport.getViewportHeight(),i+=1;else{var n=this.instance.getSetting("fixedRowsTop");i+=this.sumCellSizes(n,t)}this.setScrollPosition(i)},x.prototype.getTableParentOffset=function(){return this.scrollHandler===t?this.instance.wtTable.holderOffset.top:0},k.prototype.registerListeners=function(){var i=this;this.refreshAll=function(){if(i.instance.drawn){if(!i.instance.wtTable.holder.parentNode)return void i.destroy();i.instance.draw(!0),i.vertical.onScroll(),i.horizontal.onScroll()}};var n=e.eventManager(i.instance);n.addEventListener(this.vertical.scrollHandler,"scroll",this.refreshAll),this.vertical.scrollHandler!==this.horizontal.scrollHandler&&n.addEventListener(this.horizontal.scrollHandler,"scroll",this.refreshAll),this.vertical.scrollHandler!==t&&this.horizontal.scrollHandler!==t&&n.addEventListener(t,"scroll",this.refreshAll)},k.prototype.destroy=function(){var i=e.eventManager(this.instance);this.vertical&&(this.vertical.destroy(),i.removeEventListener(this.vertical.scrollHandler,"scroll",this.refreshAll)),this.horizontal&&(this.horizontal.destroy(),i.removeEventListener(this.horizontal.scrollHandler,"scroll",this.refreshAll)),i.removeEventListener(t,"scroll",this.refreshAll),this.corner&&this.corner.destroy(),this.debug&&this.debug.destroy()},k.prototype.refresh=function(t){this.horizontal&&this.horizontal.refresh(t),this.vertical&&this.vertical.refresh(t),this.corner&&this.corner.refresh(t),this.debug&&this.debug.refresh(t)},k.prototype.applyToDOM=function(){this.horizontal&&this.horizontal.applyToDOM(),this.vertical&&this.vertical.applyToDOM()},S.prototype.getBorder=function(t){return this.instanceBorders[t.guid]?this.instanceBorders[t.guid]:void(this.instanceBorders[t.guid]=new c(t,this.settings))},S.prototype.isEmpty=function(){return null===this.cellRange},S.prototype.add=function(t){this.isEmpty()?this.cellRange=new d(t,t,t):this.cellRange.expand(t)},S.prototype.replace=function(t,e){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=e,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=e,!0}return!1},S.prototype.clear=function(){this.cellRange=null},S.prototype.getCorners=function(){var t=this.cellRange.getTopLeftCorner(),e=this.cellRange.getBottomRightCorner();return[t.row,t.col,e.row,e.col]},S.prototype.addClassAtCoords=function(t,i,n,o){var s=t.wtTable.getCell(new u(i,n));"object"==typeof s&&e.Dom.addClass(s,o)},S.prototype.draw=function(t){var i,n,o,s,r,a=this,l=t.wtTable.getRenderedRowsCount(),h=t.wtTable.getRenderedColumnsCount();if(this.isEmpty())return void(this.settings.border&&(s=this.getBorder(t),s&&s.disappear()));i=this.getCorners();for(var c=0;h>c;c++)o=t.wtTable.columnFilter.renderedToSource(c),o>=i[1]&&o<=i[3]&&(r=t.wtTable.getColumnHeader(o),r&&a.settings.highlightColumnClassName&&e.Dom.addClass(r,a.settings.highlightColumnClassName));for(var u=0;l>u;u++){n=t.wtTable.rowFilter.renderedToSource(u),n>=i[0]&&n<=i[2]&&(r=t.wtTable.getRowHeader(n),r&&a.settings.highlightRowClassName&&e.Dom.addClass(r,a.settings.highlightRowClassName));for(var c=0;h>c;c++)o=t.wtTable.columnFilter.renderedToSource(c),n>=i[0]&&n<=i[2]&&o>=i[1]&&o<=i[3]?a.settings.className&&a.addClassAtCoords(t,n,o,a.settings.className):n>=i[0]&&n<=i[2]?a.settings.highlightRowClassName&&a.addClassAtCoords(t,n,o,a.settings.highlightRowClassName):o>=i[1]&&o<=i[3]&&a.settings.highlightColumnClassName&&a.addClassAtCoords(t,n,o,a.settings.highlightColumnClassName)}t.getSetting("onBeforeDrawBorders",i,this.settings.className),this.settings.border&&(s=this.getBorder(t),s&&s.appear(i))},T.prototype.update=function(t,e){if(void 0===e)for(var i in t)t.hasOwnProperty(i)&&(this.settings[i]=t[i]);else this.settings[t]=e;return this.instance},T.prototype.getSetting=function(t,e,i,n,o){return"function"==typeof this.settings[t]?this.settings[t](e,i,n,o):void 0!==e&&Array.isArray(this.settings[t])?this.settings[t][e]:this.settings[t]},T.prototype.has=function(t){return!!this.settings[t]},D.prototype.isWorkingOnClone=function(){return!!this.instance.cloneSource},D.prototype.draw=function(t){if(this.isWorkingOnClone()||(this.holderOffset=e.Dom.offset(this.holder),t=this.instance.wtViewport.createRenderCalculators(t)),t)this.isWorkingOnClone()||this.instance.wtViewport.createVisibleCalculators(),this.instance.wtScrollbars&&this.instance.wtScrollbars.refresh(!0);else{this.isWorkingOnClone()?this.tableOffset=this.instance.cloneSource.wtTable.tableOffset:this.tableOffset=e.Dom.offset(this.TABLE);var i;i=this.instance.cloneOverlay instanceof g||this.instance.cloneOverlay instanceof x||this.instance.cloneOverlay instanceof C?0:this.instance.wtViewport.rowsRenderCalculator.startRow;var n;n=this.instance.cloneOverlay instanceof g||this.instance.cloneOverlay instanceof _||this.instance.cloneOverlay instanceof C?0:this.instance.wtViewport.columnsRenderCalculator.startColumn,this.rowFilter=new w(i,this.instance.getSetting("totalRows"),this.instance.getSetting("columnHeaders").length),this.columnFilter=new p(n,this.instance.getSetting("totalColumns"),this.instance.getSetting("rowHeaders").length),this._doDraw()}return this.refreshSelections(t),this.isWorkingOnClone()||(this.instance.wtScrollbars.vertical.resetFixedPosition(),this.instance.wtScrollbars.horizontal.resetFixedPosition(),this.instance.wtScrollbars.corner.resetFixedPosition()),this.instance.drawn=!0,this},D.prototype._doDraw=function(){var t=new E(this);t.render()},D.prototype.removeClassFromCells=function(t){for(var i=this.TABLE.querySelectorAll("."+t),n=0,o=i.length;o>n;n++)e.Dom.removeClass(i[n],t)},D.prototype.refreshSelections=function(t){var e,i;if(this.instance.selections){if(i=this.instance.selections.length,t)for(e=0;i>e;e++)this.instance.selections[e].settings.className&&this.removeClassFromCells(this.instance.selections[e].settings.className),this.instance.selections[e].settings.highlightRowClassName&&this.removeClassFromCells(this.instance.selections[e].settings.highlightRowClassName),this.instance.selections[e].settings.highlightColumnClassName&&this.removeClassFromCells(this.instance.selections[e].settings.highlightColumnClassName);for(e=0;i>e;e++)this.instance.selections[e].draw(this.instance,t)}},D.prototype.getCell=function(t){if(this.isRowBeforeRenderedRows(t.row))return-1;if(this.isRowAfterRenderedRows(t.row))return-2;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t.row)];return e?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t.col)]:void 0},D.prototype.getColumnHeader=function(t,e){e||(e=0);var i=this.THEAD.childNodes[e];return i?i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]:void 0;
},D.prototype.getRowHeader=function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return e?e.childNodes[0]:void 0},D.prototype.getCoords=function(t){var i=t.parentNode,n=e.Dom.index(i);return n=i.parentNode===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(n):this.rowFilter.renderedToSource(n),new u(n,this.columnFilter.visibleRowHeadedColumnToSourceColumn(t.cellIndex))},D.prototype.getTrForRow=function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]},D.prototype.getFirstRenderedRow=function(){return this.instance.wtViewport.rowsRenderCalculator.startRow},D.prototype.getFirstVisibleRow=function(){return this.instance.wtViewport.rowsVisibleCalculator.startRow},D.prototype.getFirstRenderedColumn=function(){return this.instance.wtViewport.columnsRenderCalculator.startColumn},D.prototype.getFirstVisibleColumn=function(){return this.instance.wtViewport.columnsVisibleCalculator.startColumn},D.prototype.getLastRenderedRow=function(){return this.instance.wtViewport.rowsRenderCalculator.endRow},D.prototype.getLastVisibleRow=function(){return this.instance.wtViewport.rowsVisibleCalculator.endRow},D.prototype.getLastRenderedColumn=function(){return this.instance.wtViewport.columnsRenderCalculator.endColumn},D.prototype.getLastVisibleColumn=function(){return this.instance.wtViewport.columnsVisibleCalculator.endColumn},D.prototype.isRowBeforeRenderedRows=function(t){return this.rowFilter.sourceToRendered(t)<0&&t>=0},D.prototype.isRowAfterViewport=function(t){return t>this.getLastVisibleRow()},D.prototype.isRowAfterRenderedRows=function(t){return t>this.getLastRenderedRow()},D.prototype.isColumnBeforeViewport=function(t){return this.columnFilter.sourceToRendered(t)<0&&t>=0},D.prototype.isColumnAfterViewport=function(t){return t>this.getLastVisibleColumn()},D.prototype.isLastRowFullyVisible=function(){return this.getLastVisibleRow()===this.getLastRenderedRow()},D.prototype.isLastColumnFullyVisible=function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn},D.prototype.getRenderedColumnsCount=function(){return this.instance.cloneOverlay instanceof g?this.instance.getSetting("totalColumns"):this.instance.cloneOverlay instanceof _||this.instance.cloneOverlay instanceof C?this.instance.getSetting("fixedColumnsLeft"):this.instance.wtViewport.columnsRenderCalculator.count},D.prototype.getRenderedRowsCount=function(){return this.instance.cloneOverlay instanceof g?this.instance.getSetting("totalRows"):this.instance.cloneOverlay instanceof x||this.instance.cloneOverlay instanceof C?this.instance.getSetting("fixedRowsTop"):this.instance.wtViewport.rowsRenderCalculator.count},D.prototype.getVisibleRowsCount=function(){return this.instance.wtViewport.rowsVisibleCalculator.count},D.prototype.allRowsInViewport=function(){return this.instance.getSetting("totalRows")==this.getVisibleRowsCount()},D.prototype.getRowHeight=function(t){var e=this.instance.wtSettings.settings.rowHeight(t),i=this.instance.wtViewport.oversizedRows[t];return void 0!==i&&(e=e?Math.max(e,i):i),e},D.prototype.getColumnHeaderHeight=function(t){var e=this.instance.wtSettings.settings.defaultRowHeight,i=this.instance.wtViewport.oversizedColumnHeaders[t];return void 0!==i&&(e=e?Math.max(e,i):i),e},D.prototype.getVisibleColumnsCount=function(){return this.instance.wtViewport.columnsVisibleCalculator.count},D.prototype.allColumnsInViewport=function(){return this.instance.getSetting("totalColumns")==this.getVisibleColumnsCount()},D.prototype.getColumnWidth=function(t){var e=this.instance.wtSettings.settings.columnWidth;"function"==typeof e?e=e(t):"object"==typeof e&&(e=e[t]);var i=this.instance.wtViewport.oversizedCols[t];return void 0!==i&&(e=e?Math.max(e,i):i),e},D.prototype.getStretchedColumnWidth=function(t){var e,i=this.getColumnWidth(t)||this.instance.wtSettings.settings.defaultColumnWidth,n=this.instance.wtViewport.columnsRenderCalculator;return n&&(e=n.getStretchedColumnWidth(t,i),e&&(i=e)),i},E.prototype.render=function(){this.wtTable.isWorkingOnClone()||this.instance.getSetting("beforeDraw",!0),this.rowHeaders=this.instance.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.instance.getSetting("fixedRowsTop"),this.columnHeaders=this.instance.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var t,e,i=this.instance.getSetting("totalRows"),n=this.instance.getSetting("totalColumns"),o=!1,s=this.wtTable.getRenderedRowsCount();if(n>0&&(this.adjustAvailableNodes(),o=!0,this.renderColGroups(),this.renderColumnHeaders(),t=this.wtTable.getRenderedColumnsCount(),this.renderRows(i,s,t),this.wtTable.isWorkingOnClone()?this.adjustColumnHeaderHeights():(e=this.instance.wtViewport.getWorkspaceWidth(),this.instance.wtViewport.containerWidth=null),this.adjustColumnWidths(t)),o||this.adjustAvailableNodes(),this.removeRedundantRows(s),!this.wtTable.isWorkingOnClone()){if(this.markOversizedRows(),this.instance.wtViewport.createVisibleCalculators(),this.instance.wtScrollbars.applyToDOM(),e!==this.instance.wtViewport.getWorkspaceWidth()){this.instance.wtViewport.containerWidth=null;for(var r=this.wtTable.getFirstRenderedColumn(),a=this.wtTable.getLastRenderedColumn(),l=r;a>l;l++){var h=this.wtTable.getStretchedColumnWidth(l),c=this.columnFilter.sourceToRendered(l);this.COLGROUP.childNodes[c+this.rowHeaderCount].style.width=h+"px"}}this.instance.wtScrollbars.refresh(!1),this.instance.getSetting("onDraw",!0)}},E.prototype.removeRedundantRows=function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--},E.prototype.renderRows=function(t,e,i){for(var n,o,s=0,r=this.rowFilter.renderedToSource(s),a=this.wtTable.isWorkingOnClone();t>r&&r>=0;){if(s>1e3)throw new Error("Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars.");if(void 0!==e&&s===e)break;if(o=this.getOrCreateTrForRow(s,o),this.renderRowHeaders(r,o),this.adjustColumns(o,i+this.rowHeaderCount),n=this.renderCells(r,o,i),a||this.resetOversizedRow(r),o.firstChild){var l=this.instance.wtTable.getRowHeight(r);l?o.firstChild.style.height=l+"px":o.firstChild.style.height=""}s++,r=this.rowFilter.renderedToSource(s)}},E.prototype.resetOversizedRow=function(t){this.instance.wtViewport.oversizedRows&&this.instance.wtViewport.oversizedRows[t]&&(this.instance.wtViewport.oversizedRows[t]=void 0)},E.prototype.markOversizedRows=function(){for(var t,i,n,o,s=this.instance.wtTable.TBODY.childNodes.length;s;)s--,n=this.instance.wtTable.rowFilter.renderedToSource(s),t=this.instance.wtTable.getRowHeight(n),o=this.instance.wtTable.getTrForRow(n),i=e.Dom.innerHeight(o)-1,(!t&&this.instance.wtSettings.settings.defaultRowHeight<i||i>t)&&(this.instance.wtViewport.oversizedRows[n]=i)},E.prototype.adjustColumnHeaderHeights=function(){for(var t=this.instance.getSetting("columnHeaders"),e=0,i=t.length;i>e;e++)if(this.instance.wtViewport.oversizedColumnHeaders[e]){if(0===this.instance.wtTable.THEAD.childNodes[e].childNodes.length)return;this.instance.wtTable.THEAD.childNodes[e].childNodes[0].style.height=this.instance.wtViewport.oversizedColumnHeaders[e]+"px"}},E.prototype.markIfOversizedColumnHeader=function(t){var i,n,o,s,r=(0!==this.instance.wtTable.THEAD.childNodes.length?this.instance.wtTable.THEAD.childNodes[0].childNodes.length:0,this.instance.getSetting("columnHeaders")),a=r.length,l=a;for(i=this.instance.wtTable.columnFilter.renderedToSource(t);l;)l--,n=this.instance.wtTable.getColumnHeaderHeight(l),o=this.instance.wtTable.getColumnHeader(i,l),o&&(s=e.Dom.innerHeight(o)-1,(!n&&this.instance.wtSettings.settings.defaultRowHeight<s||s>n)&&(this.instance.wtViewport.oversizedColumnHeaders[l]=s))},E.prototype.renderCells=function(t,i,n){for(var o,s,r=0;n>r;r++)s=this.columnFilter.renderedToSource(r),o=0===r?i.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(s)]:o.nextSibling,"TH"==o.nodeName&&(o=this.utils.replaceThWithTd(o,i)),e.Dom.hasClass(o,"hide")||(o.className=""),o.removeAttribute("style"),this.instance.wtSettings.settings.cellRenderer(t,s,o);return o},E.prototype.adjustColumnWidths=function(t){var e;this.instance.wtViewport.columnsRenderCalculator.refreshStretching(this.instance.wtViewport.getViewportWidth());for(var i=0;t>i;i++)e=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(i)),this.COLGROUP.childNodes[i+this.rowHeaderCount].style.width=e+"px"},E.prototype.appendToTbody=function(t){this.TBODY.appendChild(t),this.wtTable.tbodyChildrenLength++},E.prototype.getOrCreateTrForRow=function(t,e){var i;return t>=this.wtTable.tbodyChildrenLength?(i=this.createRow(),this.appendToTbody(i)):i=0===t?this.TBODY.firstChild:e.nextSibling,i},E.prototype.createRow=function(){for(var t=document.createElement("TR"),e=0;e<this.rowHeaderCount;e++)t.appendChild(document.createElement("TH"));return t},E.prototype.renderRowHeader=function(t,e,i){i.className="",i.removeAttribute("style"),this.rowHeaders[e](t,i,e)},E.prototype.renderRowHeaders=function(t,e){for(var i=e.firstChild,n=0;n<this.rowHeaderCount;n++)i?"TD"==i.nodeName&&(i=this.utils.replaceTdWithTh(i,e)):(i=document.createElement("TH"),e.appendChild(i)),this.renderRowHeader(t,n,i),i=i.nextSibling},E.prototype.adjustAvailableNodes=function(){this.adjustColGroups(),this.adjustThead()},E.prototype.renderColumnHeaders=function(){if(this.columnHeaderCount)for(var t,e,i=this.wtTable.getRenderedColumnsCount(),n=0;n<this.columnHeaderCount;n++)for(t=this.getTrForColumnHeaders(n),e=-1*this.rowHeaderCount;i>e;e++){var o=this.columnFilter.renderedToSource(e);this.renderColumnHeader(n,o,t.childNodes[e+this.rowHeaderCount]),this.wtTable.isWorkingOnClone()||this.markIfOversizedColumnHeader(e)}},E.prototype.adjustColGroups=function(){for(var t=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<t+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>t+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--},E.prototype.adjustThead=function(){var t=this.wtTable.getRenderedColumnsCount(),i=this.THEAD.firstChild;if(this.columnHeaders.length){for(var n=0,o=this.columnHeaders.length;o>n;n++){for(i=this.THEAD.childNodes[n],i||(i=document.createElement("TR"),this.THEAD.appendChild(i)),this.theadChildrenLength=i.childNodes.length;this.theadChildrenLength<t+this.rowHeaderCount;)i.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>t+this.rowHeaderCount;)i.removeChild(i.lastChild),this.theadChildrenLength--}var s=this.THEAD.childNodes.length;if(s>this.columnHeaders.length)for(var n=this.columnHeaders.length;s>n;n++)this.THEAD.removeChild(this.THEAD.lastChild)}else i&&e.Dom.empty(i)},E.prototype.getTrForColumnHeaders=function(t){var e=this.THEAD.childNodes[t];return e},E.prototype.renderColumnHeader=function(t,e,i){return i.className="",i.removeAttribute("style"),this.columnHeaders[t](e,i,t)},E.prototype.renderColGroups=function(){for(var t=0;t<this.wtTable.colgroupChildrenLength;t++)t<this.rowHeaderCount?e.Dom.addClass(this.COLGROUP.childNodes[t],"rowHeader"):e.Dom.removeClass(this.COLGROUP.childNodes[t],"rowHeader")},E.prototype.adjustColumns=function(t,e){for(var i=t.childNodes.length;e>i;){var n=document.createElement("TD");t.appendChild(n),i++}for(;i>e;)t.removeChild(t.lastChild),i--},E.prototype.removeRedundantColumns=function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--},E.utils={},E.utils.replaceTdWithTh=function(t,e){var i;return i=document.createElement("TH"),e.insertBefore(i,t),e.removeChild(t),i},E.utils.replaceThWithTd=function(t,e){var i=document.createElement("TD");return e.insertBefore(i,t),e.removeChild(t),i},R.prototype.getWorkspaceHeight=function(){var i=this.instance.wtScrollbars.vertical.scrollHandler;if(i===t)return document.documentElement.clientHeight;var n=e.Dom.outerHeight(i),o=n>0&&i.clientHeight>0?i.clientHeight:1/0;return o},R.prototype.getWorkspaceWidth=function(){var i,n,o=this.instance.getSetting("totalColumns"),s=this.instance.wtScrollbars.horizontal.scrollHandler,r=this.instance.getSetting("stretchH");return i=e.freezeOverlays?Math.min(document.documentElement.offsetWidth-this.getWorkspaceOffset().left,document.documentElement.offsetWidth):Math.min(this.getContainerFillWidth(),document.documentElement.offsetWidth-this.getWorkspaceOffset().left,document.documentElement.offsetWidth),s===t&&o>0&&this.sumColumnWidths(0,o-1)>i?document.documentElement.clientWidth:s!==t&&(n=this.instance.wtScrollbars.horizontal.scrollHandler.style.overflow,"scroll"==n||"hidden"==n||"auto"==n)?Math.max(i,s.clientWidth):"none"!==r&&r?i:Math.max(i,e.Dom.outerWidth(this.instance.wtTable.TABLE))},R.prototype.sumColumnWidths=function(t,e){for(var i=0;e>t;)i+=this.instance.wtTable.getColumnWidth(t)||this.instance.wtSettings.defaultColumnWidth,t++;return i},R.prototype.getContainerFillWidth=function(){if(this.containerWidth)return this.containerWidth;for(var t,e,i=this.instance.wtTable.holder;i.parentNode!=document.body&&null!=i.parentNode&&-1===i.className.indexOf("handsontable");)i=i.parentNode;return e=document.createElement("DIV"),e.style.width="100%",e.style.height="1px",i.appendChild(e),t=e.offsetWidth,this.containerWidth=t,i.removeChild(e),t},R.prototype.getWorkspaceOffset=function(){return e.Dom.offset(this.instance.wtTable.TABLE)},R.prototype.getWorkspaceActualHeight=function(){return e.Dom.outerHeight(this.instance.wtTable.TABLE)},R.prototype.getWorkspaceActualWidth=function(){return e.Dom.outerWidth(this.instance.wtTable.TABLE)||e.Dom.outerWidth(this.instance.wtTable.TBODY)||e.Dom.outerWidth(this.instance.wtTable.THEAD)},R.prototype.getColumnHeaderHeight=function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=e.Dom.outerHeight(this.instance.wtTable.THEAD)),this.columnHeaderHeight},R.prototype.getViewportHeight=function(){var t=this.getWorkspaceHeight();if(t===1/0)return t;var e=this.getColumnHeaderHeight();return e>0&&(t-=e),t},R.prototype.getRowHeaderWidth=function(){if(this.instance.cloneSource)return this.instance.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth)){var t=this.instance.getSetting("rowHeaders");if(t.length){var i=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var n=0,o=t.length;o>n;n++)i?(this.rowHeaderWidth+=e.Dom.outerWidth(i),i=i.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0}return this.rowHeaderWidth},R.prototype.getViewportWidth=function(){var t,e=this.getWorkspaceWidth();return e===1/0?e:(t=this.getRowHeaderWidth(),t>0?e-t:e)},R.prototype.createRowsCalculator=function(t){this.rowHeaderWidth=NaN;var e;e=this.instance.wtSettings.settings.renderAllRows?1/0:this.getViewportHeight();var i=this.instance.wtScrollbars.vertical.getScrollPosition()-this.instance.wtScrollbars.vertical.getTableParentOffset();0>i&&(i=0);var n=this.instance.getSetting("fixedRowsTop");if(n){var o=this.instance.wtScrollbars.vertical.sumCellSizes(0,n);i+=o,e-=o}var s=this;return new M(e,i,this.instance.getSetting("totalRows"),function(t){return s.instance.wtTable.getRowHeight(t)},t?null:this.instance.wtSettings.settings.viewportRowCalculatorOverride,t?!0:!1)},R.prototype.createColumnsCalculator=function(t){this.columnHeaderHeight=NaN;var e=this.getViewportWidth(),i=this.instance.wtScrollbars.horizontal.getScrollPosition()-this.instance.wtScrollbars.vertical.getTableParentOffset();0>i&&(i=0);var n=this.instance.getSetting("fixedColumnsLeft");if(n){var o=this.instance.wtScrollbars.horizontal.sumCellSizes(0,n);i+=o,e-=o}var s=this;return new A(e,i,this.instance.getSetting("totalColumns"),function(t){return s.instance.wtTable.getColumnWidth(t)},t?null:this.instance.wtSettings.settings.viewportColumnCalculatorOverride,t?!0:!1,this.instance.getSetting("stretchH"))},R.prototype.createRenderCalculators=function(t){if(t){var e=this.createRowsCalculator(!0),i=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(e)&&this.areAllProposedVisibleColumnsAlreadyRendered(i)||(t=!1)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t},R.prototype.createVisibleCalculators=function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)},R.prototype.areAllProposedVisibleRowsAlreadyRendered=function(t){return this.rowsVisibleCalculator?t.startRow<this.rowsRenderCalculator.startRow||t.startRow===this.rowsRenderCalculator.startRow&&t.startRow>0?!1:t.endRow>this.rowsRenderCalculator.endRow||t.endRow===this.rowsRenderCalculator.endRow&&t.endRow<this.instance.getSetting("totalRows")-1?!1:!0:!1},R.prototype.areAllProposedVisibleColumnsAlreadyRendered=function(t){return this.columnsVisibleCalculator?t.startColumn<this.columnsRenderCalculator.startColumn||t.startColumn===this.columnsRenderCalculator.startColumn&&t.startColumn>0?!1:t.endColumn>this.columnsRenderCalculator.endColumn||t.endColumn===this.columnsRenderCalculator.endColumn&&t.endColumn<this.instance.getSetting("totalColumns")-1?!1:!0:!1},t.jQuery&&!function(t,e,i){e.fn.handsontable=function(t){var e,n,o,s,r,a=this.first(),l=a.data("handsontable");if("string"!=typeof t)return r=t||{},l?l.updateSettings(r):(l=new i.Core(a[0],r),a.data("handsontable",l),l.init()),a;if(o=[],arguments.length>1)for(e=1,n=arguments.length;n>e;e++)o.push(arguments[e]);if(l){if("undefined"==typeof l[t])throw new Error("Handsontable do not provide action: "+t);s=l[t].apply(l,o),"destroy"===t&&a.removeData()}return s}}(t,jQuery,e)}(window,Handsontable),/*!
 * numeral.js
 * version : 1.5.3
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */
function(){function t(t){this._value=t}function e(t,e,i,n){var o,s,r=Math.pow(10,e);return s=(i(t*r)/r).toFixed(e),n&&(o=new RegExp("0{1,"+n+"}$"),s=s.replace(o,"")),s}function i(t,e,i){var n;return n=e.indexOf("$")>-1?o(t,e,i):e.indexOf("%")>-1?s(t,e,i):e.indexOf(":")>-1?r(t,e):l(t._value,e,i)}function n(t,e){var i,n,o,s,r,l=e,h=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(e.indexOf(":")>-1)t._value=a(e);else if(e===g)t._value=0;else{for("."!==f[m].delimiters.decimal&&(e=e.replace(/\./g,"").replace(f[m].delimiters.decimal,".")),i=new RegExp("[^a-zA-Z]"+f[m].abbreviations.thousand+"(?:\\)|(\\"+f[m].currency.symbol+")?(?:\\))?)?$"),n=new RegExp("[^a-zA-Z]"+f[m].abbreviations.million+"(?:\\)|(\\"+f[m].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+f[m].abbreviations.billion+"(?:\\)|(\\"+f[m].currency.symbol+")?(?:\\))?)?$"),s=new RegExp("[^a-zA-Z]"+f[m].abbreviations.trillion+"(?:\\)|(\\"+f[m].currency.symbol+")?(?:\\))?)?$"),r=0;r<=h.length&&!(c=e.indexOf(h[r])>-1?Math.pow(1024,r+1):!1);r++);t._value=(c?c:1)*(l.match(i)?Math.pow(10,3):1)*(l.match(n)?Math.pow(10,6):1)*(l.match(o)?Math.pow(10,9):1)*(l.match(s)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e.replace(/[^0-9\.]+/g,"")),t._value=c?Math.ceil(t._value):t._value}return t._value}function o(t,e,i){var n,o,s=e.indexOf("$"),r=e.indexOf("("),a=e.indexOf("-"),h="";return e.indexOf(" $")>-1?(h=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(h=" ",e=e.replace("$ ","")):e=e.replace("$",""),o=l(t._value,e,i),1>=s?o.indexOf("(")>-1||o.indexOf("-")>-1?(o=o.split(""),n=1,(r>s||a>s)&&(n=0),o.splice(n,0,f[m].currency.symbol+h),o=o.join("")):o=f[m].currency.symbol+h+o:o.indexOf(")")>-1?(o=o.split(""),o.splice(-1,0,h+f[m].currency.symbol),o=o.join("")):o=o+h+f[m].currency.symbol,o}function s(t,e,i){var n,o="",s=100*t._value;return e.indexOf(" %")>-1?(o=" ",e=e.replace(" %","")):e=e.replace("%",""),n=l(s,e,i),n.indexOf(")")>-1?(n=n.split(""),n.splice(-1,0,o+"%"),n=n.join("")):n=n+o+"%",n}function r(t){var e=Math.floor(t._value/60/60),i=Math.floor((t._value-60*e*60)/60),n=Math.round(t._value-60*e*60-60*i);return e+":"+(10>i?"0"+i:i)+":"+(10>n?"0"+n:n)}function a(t){var e=t.split(":"),i=0;return 3===e.length?(i+=60*Number(e[0])*60,i+=60*Number(e[1]),i+=Number(e[2])):2===e.length&&(i+=60*Number(e[0]),i+=Number(e[1])),Number(i)}function l(t,i,n){var o,s,r,a,l,h,c=!1,u=!1,d=!1,p="",v=!1,y=!1,w=!1,b=!1,C=!1,_="",x="",k=Math.abs(t),S=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],T="",D=!1;if(0===t&&null!==g)return g;if(i.indexOf("(")>-1?(c=!0,i=i.slice(1,-1)):i.indexOf("+")>-1&&(u=!0,i=i.replace(/\+/g,"")),i.indexOf("a")>-1&&(v=i.indexOf("aK")>=0,y=i.indexOf("aM")>=0,w=i.indexOf("aB")>=0,b=i.indexOf("aT")>=0,C=v||y||w||b,i.indexOf(" a")>-1?(p=" ",i=i.replace(" a","")):i=i.replace("a",""),k>=Math.pow(10,12)&&!C||b?(p+=f[m].abbreviations.trillion,t/=Math.pow(10,12)):k<Math.pow(10,12)&&k>=Math.pow(10,9)&&!C||w?(p+=f[m].abbreviations.billion,t/=Math.pow(10,9)):k<Math.pow(10,9)&&k>=Math.pow(10,6)&&!C||y?(p+=f[m].abbreviations.million,t/=Math.pow(10,6)):(k<Math.pow(10,6)&&k>=Math.pow(10,3)&&!C||v)&&(p+=f[m].abbreviations.thousand,t/=Math.pow(10,3))),i.indexOf("b")>-1)for(i.indexOf(" b")>-1?(_=" ",i=i.replace(" b","")):i=i.replace("b",""),r=0;r<=S.length;r++)if(o=Math.pow(1024,r),s=Math.pow(1024,r+1),t>=o&&s>t){_+=S[r],o>0&&(t/=o);break}return i.indexOf("o")>-1&&(i.indexOf(" o")>-1?(x=" ",i=i.replace(" o","")):i=i.replace("o",""),x+=f[m].ordinal(t)),i.indexOf("[.]")>-1&&(d=!0,i=i.replace("[.]",".")),a=t.toString().split(".")[0],l=i.split(".")[1],h=i.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),T=e(t,l[0].length+l[1].length,n,l[1].length)):T=e(t,l.length,n),a=T.split(".")[0],T=T.split(".")[1].length?f[m].delimiters.decimal+T.split(".")[1]:"",d&&0===Number(T.slice(1))&&(T="")):a=e(t,null,n),a.indexOf("-")>-1&&(a=a.slice(1),D=!0),h>-1&&(a=a.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+f[m].delimiters.thousands)),0===i.indexOf(".")&&(a=""),(c&&D?"(":"")+(!c&&D?"-":"")+(!D&&u?"+":"")+a+T+(x?x:"")+(p?p:"")+(_?_:"")+(c&&D?")":"")}function h(t,e){f[t]=e}function c(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function u(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,e){var i=c(t),n=c(e);return i>n?i:n},-(1/0))}var d,p="1.5.3",f={},m="en",g=null,v="0,0",y="undefined"!=typeof module&&module.exports;d=function(e){return d.isNumeral(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=d.fn.unformat(e)),new t(Number(e))},d.version=p,d.isNumeral=function(e){return e instanceof t},d.language=function(t,e){if(!t)return m;if(t=t.toLowerCase(),t&&!e){if(!f[t])throw new Error("Unknown language : "+t);m=t}return(e||!f[t])&&h(t,e),d},d.languageData=function(t){if(!t)return f[m];if(!f[t])throw new Error("Unknown language : "+t);return f[t]},d.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),d.zeroFormat=function(t){g="string"==typeof t?t:null},d.defaultFormat=function(t){v="string"==typeof t?t:"0.0"},d.validate=function(t,e){var i,n,o,s,r,a,l,h;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),t=t.trim(),""===t)return!1;t=t.replace(/^[+-]?/,"");try{l=d.languageData(e)}catch(c){l=d.languageData(d.language())}return o=l.currency.symbol,r=l.abbreviations,i=l.delimiters.decimal,n="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,h=t.match(/^[^\d]+/),null!==h&&(t=t.substr(1),h[0]!==o)?!1:(h=t.match(/[^\d]+$/),null!==h&&(t=t.slice(0,-1),h[0]!==r.thousand&&h[0]!==r.million&&h[0]!==r.billion&&h[0]!==r.trillion)?!1:t.match(/^\d+$/)?!0:(a=new RegExp(n+"{2}"),t.match(/[^\d.,]/g)?!1:(s=t.split(i),s.length>2?!1:s.length<2?!!s[0].match(/^\d+.*\d$/)&&!s[0].match(a):1===s[0].length?!!s[0].match(/^\d+$/)&&!s[0].match(a)&&!!s[1].match(/^\d+$/):!!s[0].match(/^\d+.*\d$/)&&!s[0].match(a)&&!!s[1].match(/^\d+$/))))},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var i,n,o=this.length>>>0,s=!1;for(1<arguments.length&&(n=e,s=!0),i=0;o>i;++i)this.hasOwnProperty(i)&&(s?n=t(n,this[i],i,this):(n=this[i],s=!0));if(!s)throw new TypeError("Reduce of empty array with no initial value");return n}),d.fn=t.prototype={clone:function(){return d(this)},format:function(t,e){return i(this,t?t:v,void 0!==e?e:Math.round)},unformat:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:n(this,t?t:v)},value:function(){return this._value},valueOf:function(){return this._value},set:function(t){return this._value=Number(t),this},add:function(t){function e(t,e,n,o){return t+i*e}var i=u.call(null,this._value,t);return this._value=[this._value,t].reduce(e,0)/i,this},subtract:function(t){function e(t,e,n,o){return t-i*e}var i=u.call(null,this._value,t);return this._value=[t].reduce(e,this._value*i)/i,this},multiply:function(t){function e(t,e,i,n){var o=u(t,e);return t*o*(e*o)/(o*o)}return this._value=[this._value,t].reduce(e,1),this},divide:function(t){function e(t,e,i,n){var o=u(t,e);return t*o/(e*o)}return this._value=[this._value,t].reduce(e),this},difference:function(t){return Math.abs(d(this._value).subtract(t).value())}},y&&(module.exports=d),"undefined"==typeof ender&&(this.numeral=d),"function"==typeof define&&define.amd&&define([],function(){return d})}.call(this),
//! moment.js
//! version : 2.10.6
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Hi.apply(null,arguments)}function e(t){Hi=t}function i(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t,e){for(var i in e)s(e,i)&&(t[i]=e[i]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,i,n){return Et(t,e,i,n,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function h(t){return null==t._pf&&(t._pf=l()),t._pf}function c(t){if(null==t._isValid){var e=h(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function u(t){var e=a(NaN);return null!=t?r(h(e),t):h(e).userInvalidated=!0,e}function d(t,e){var i,n,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=h(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Oi.length>0)for(i in Oi)n=Oi[i],o=e[n],"undefined"!=typeof o&&(t[n]=o);return t}function p(e){d(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),Ni===!1&&(Ni=!0,t.updateOffset(this),Ni=!1)}function f(t){return t instanceof p||null!=t&&null!=t._isAMomentObject}function m(t){return 0>t?Math.ceil(t):Math.floor(t)}function g(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=m(e)),i}function v(t,e,i){var n,o=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(n=0;o>n;n++)(i&&t[n]!==e[n]||!i&&g(t[n])!==g(e[n]))&&r++;return r+s}function y(){}function w(t){return t?t.toLowerCase().replace("_","-"):t}function b(t){for(var e,i,n,o,s=0;s<t.length;){for(o=w(t[s]).split("-"),e=o.length,i=w(t[s+1]),i=i?i.split("-"):null;e>0;){if(n=C(o.slice(0,e).join("-")))return n;if(i&&i.length>=e&&v(o,i,!0)>=e-1)break;e--}s++}return null}function C(t){var e=null;if(!Li[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Ii._abbr,require("./locale/"+t),_(e)}catch(i){}return Li[t]}function _(t,e){var i;return t&&(i="undefined"==typeof e?k(t):x(t,e),i&&(Ii=i)),Ii._abbr}function x(t,e){return null!==e?(e.abbr=t,Li[t]=Li[t]||new y,Li[t].set(e),_(t),Li[t]):(delete Li[t],null)}function k(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ii;if(!i(t)){if(e=C(t))return e;t=[t]}return b(t)}function S(t,e){var i=t.toLowerCase();zi[i]=zi[i+"s"]=zi[e]=t}function T(t){return"string"==typeof t?zi[t]||zi[t.toLowerCase()]:void 0}function D(t){var e,i,n={};for(i in t)s(t,i)&&(e=T(i),e&&(n[e]=t[i]));return n}function E(e,i){return function(n){return null!=n?(A(this,e,n),t.updateOffset(this,i),this):R(this,e)}}function R(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function A(t,e,i){return t._d["set"+(t._isUTC?"UTC":"")+e](i)}function M(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=T(t),"function"==typeof this[t])return this[t](e);return this}function P(t,e,i){var n=""+Math.abs(t),o=e-n.length,s=t>=0;return(s?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function H(t,e,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),t&&(Bi[t]=o),e&&(Bi[e[0]]=function(){return P(o.apply(this,arguments),e[1],e[2])}),i&&(Bi[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function I(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function O(t){var e,i,n=t.match(Fi);for(e=0,i=n.length;i>e;e++)Bi[n[e]]?n[e]=Bi[n[e]]:n[e]=I(n[e]);return function(o){var s="";for(e=0;i>e;e++)s+=n[e]instanceof Function?n[e].call(o,t):n[e];return s}}function N(t,e){return t.isValid()?(e=L(e,t.localeData()),ji[e]=ji[e]||O(e),ji[e](t)):t.localeData().invalidDate()}function L(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(Wi.lastIndex=0;n>=0&&Wi.test(t);)t=t.replace(Wi,i),Wi.lastIndex=0,n-=1;return t}function z(t){return"function"==typeof t&&"[object Function]"===Object.prototype.toString.call(t)}function F(t,e,i){on[t]=z(e)?e:function(t){return t&&i?i:e}}function W(t,e){return s(on,t)?on[t](e._strict,e._locale):new RegExp(j(t))}function j(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,o){return e||i||n||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(n=function(t,i){i[e]=g(t)}),i=0;i<t.length;i++)sn[t[i]]=n}function $(t,e){B(t,function(t,i,n,o){n._w=n._w||{},e(t,n._w,n,o)})}function Y(t,e,i){null!=e&&s(sn,t)&&sn[t](e,i._a,i,t)}function V(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function q(t){return this._months[t.month()]}function U(t){return this._monthsShort[t.month()]}function G(t,e,i){var n,o,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(o=a([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}}function X(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),V(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function K(e){return null!=e?(X(this,e),t.updateOffset(this,!0),this):R(this,"Month")}function Z(){return V(this.year(),this.month())}function Q(t){var e,i=t._a;return i&&-2===h(t).overflow&&(e=i[an]<0||i[an]>11?an:i[ln]<1||i[ln]>V(i[rn],i[an])?ln:i[hn]<0||i[hn]>24||24===i[hn]&&(0!==i[cn]||0!==i[un]||0!==i[dn])?hn:i[cn]<0||i[cn]>59?cn:i[un]<0||i[un]>59?un:i[dn]<0||i[dn]>999?dn:-1,h(t)._overflowDayOfYear&&(rn>e||e>ln)&&(e=ln),h(t).overflow=e),t}function J(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function tt(t,e){var i=!0;return r(function(){return i&&(J(t+"\n"+(new Error).stack),i=!1),e.apply(this,arguments)},e)}function et(t,e){mn[t]||(J(e),mn[t]=!0)}function it(t){var e,i,n=t._i,o=gn.exec(n);if(o){for(h(t).iso=!0,e=0,i=vn.length;i>e;e++)if(vn[e][1].exec(n)){t._f=vn[e][0];break}for(e=0,i=yn.length;i>e;e++)if(yn[e][1].exec(n)){t._f+=(o[6]||" ")+yn[e][0];break}n.match(tn)&&(t._f+="Z"),Ct(t)}else t._isValid=!1}function nt(e){var i=wn.exec(e._i);return null!==i?void(e._d=new Date(+i[1])):(it(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function ot(t,e,i,n,o,s,r){var a=new Date(t,e,i,n,o,s,r);return 1970>t&&a.setFullYear(t),a}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function rt(t){return at(t)?366:365}function at(t){return t%4===0&&t%100!==0||t%400===0}function lt(){return at(this.year())}function ht(t,e,i){var n,o=i-e,s=i-t.day();return s>o&&(s-=7),o-7>s&&(s+=7),n=Rt(t).add(s,"d"),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function ct(t){return ht(t,this._week.dow,this._week.doy).week}function ut(){return this._week.dow}function dt(){return this._week.doy}function pt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ft(t){var e=ht(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function mt(t,e,i,n,o){var s,r=6+o-n,a=st(t,0,1+r),l=a.getUTCDay();return o>l&&(l+=7),i=null!=i?1*i:o,s=1+r+7*(e-1)-l+i,{year:s>0?t:t-1,dayOfYear:s>0?s:rt(t-1)+s}}function gt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function vt(t,e,i){return null!=t?t:null!=e?e:i}function yt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function wt(t){var e,i,n,o,s=[];if(!t._d){for(n=yt(t),t._w&&null==t._a[ln]&&null==t._a[an]&&bt(t),t._dayOfYear&&(o=vt(t._a[rn],n[rn]),t._dayOfYear>rt(o)&&(h(t)._overflowDayOfYear=!0),i=st(o,0,t._dayOfYear),t._a[an]=i.getUTCMonth(),t._a[ln]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=n[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[hn]&&0===t._a[cn]&&0===t._a[un]&&0===t._a[dn]&&(t._nextDay=!0,t._a[hn]=0),t._d=(t._useUTC?st:ot).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[hn]=24)}}function bt(t){var e,i,n,o,s,r,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,r=4,i=vt(e.GG,t._a[rn],ht(Rt(),1,4).year),n=vt(e.W,1),o=vt(e.E,1)):(s=t._locale._week.dow,r=t._locale._week.doy,i=vt(e.gg,t._a[rn],ht(Rt(),s,r).year),n=vt(e.w,1),null!=e.d?(o=e.d,s>o&&++n):o=null!=e.e?e.e+s:s),a=mt(i,n,o,r,s),t._a[rn]=a.year,t._dayOfYear=a.dayOfYear}function Ct(e){if(e._f===t.ISO_8601)return void it(e);e._a=[],h(e).empty=!0;var i,n,o,s,r,a=""+e._i,l=a.length,c=0;for(o=L(e._f,e._locale).match(Fi)||[],i=0;i<o.length;i++)s=o[i],n=(a.match(W(s,e))||[])[0],n&&(r=a.substr(0,a.indexOf(n)),r.length>0&&h(e).unusedInput.push(r),a=a.slice(a.indexOf(n)+n.length),c+=n.length),Bi[s]?(n?h(e).empty=!1:h(e).unusedTokens.push(s),Y(s,n,e)):e._strict&&!n&&h(e).unusedTokens.push(s);h(e).charsLeftOver=l-c,a.length>0&&h(e).unusedInput.push(a),h(e).bigHour===!0&&e._a[hn]<=12&&e._a[hn]>0&&(h(e).bigHour=void 0),e._a[hn]=_t(e._locale,e._a[hn],e._meridiem),wt(e),Q(e)}function _t(t,e,i){var n;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(n=t.isPM(i),n&&12>e&&(e+=12),n||12!==e||(e=0),e):e}function xt(t){var e,i,n,o,s;if(0===t._f.length)return h(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)s=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Ct(e),c(e)&&(s+=h(e).charsLeftOver,s+=10*h(e).unusedTokens.length,h(e).score=s,(null==n||n>s)&&(n=s,i=e));r(t,i||e)}function kt(t){if(!t._d){var e=D(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],wt(t)}}function St(t){var e=new p(Q(Tt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Tt(t){var e=t._i,o=t._f;return t._locale=t._locale||k(t._l),null===e||void 0===o&&""===e?u({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),f(e)?new p(Q(e)):(i(o)?xt(t):o?Ct(t):n(e)?t._d=e:Dt(t),t))}function Dt(e){var s=e._i;void 0===s?e._d=new Date:n(s)?e._d=new Date(+s):"string"==typeof s?nt(e):i(s)?(e._a=o(s.slice(0),function(t){return parseInt(t,10)}),wt(e)):"object"==typeof s?kt(e):"number"==typeof s?e._d=new Date(s):t.createFromInputFallback(e)}function Et(t,e,i,n,o){var s={};return"boolean"==typeof i&&(n=i,i=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=i,s._i=t,s._f=e,s._strict=n,St(s)}function Rt(t,e,i,n){return Et(t,e,i,n,!1)}function At(t,e){var n,o;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Rt();for(n=e[0],o=1;o<e.length;++o)(!e[o].isValid()||e[o][t](n))&&(n=e[o]);return n}function Mt(){var t=[].slice.call(arguments,0);return At("isBefore",t)}function Pt(){var t=[].slice.call(arguments,0);return At("isAfter",t)}function Ht(t){var e=D(t),i=e.year||0,n=e.quarter||0,o=e.month||0,s=e.week||0,r=e.day||0,a=e.hour||0,l=e.minute||0,h=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*h+6e4*l+36e5*a,this._days=+r+7*s,this._months=+o+3*n+12*i,this._data={},this._locale=k(),this._bubble()}function It(t){return t instanceof Ht}function Ot(t,e){H(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+P(~~(t/60),2)+e+P(~~t%60,2)})}function Nt(t){var e=(t||"").match(tn)||[],i=e[e.length-1]||[],n=(i+"").match(kn)||["-",0,0],o=+(60*n[1])+g(n[2]);return"+"===n[0]?o:-o}function Lt(e,i){var o,s;return i._isUTC?(o=i.clone(),s=(f(e)||n(e)?+e:+Rt(e))-+o,o._d.setTime(+o._d+s),t.updateOffset(o,!1),o):Rt(e).local()}function zt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ft(e,i){var n,o=this._offset||0;return null!=e?("string"==typeof e&&(e=Nt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&i&&(n=zt(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==e&&(!i||this._changeInProgress?ee(this,Kt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:zt(this)}function Wt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function jt(t){return this.utcOffset(0,t)}function Bt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(zt(this),"m")),this}function $t(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Nt(this._i)),this}function Yt(t){return t=t?Rt(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Vt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qt(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var t={};if(d(t,this),t=Tt(t),t._a){var e=t._isUTC?a(t._a):Rt(t._a);this._isDSTShifted=this.isValid()&&v(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ut(){return!this._isUTC}function Gt(){return this._isUTC}function Xt(){return this._isUTC&&0===this._offset}function Kt(t,e){var i,n,o,r=t,a=null;return It(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(r={},e?r[e]=t:r.milliseconds=t):(a=Sn.exec(t))?(i="-"===a[1]?-1:1,r={y:0,d:g(a[ln])*i,h:g(a[hn])*i,m:g(a[cn])*i,s:g(a[un])*i,ms:g(a[dn])*i}):(a=Tn.exec(t))?(i="-"===a[1]?-1:1,r={y:Zt(a[2],i),M:Zt(a[3],i),d:Zt(a[4],i),h:Zt(a[5],i),m:Zt(a[6],i),s:Zt(a[7],i),w:Zt(a[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=Jt(Rt(r.from),Rt(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),n=new Ht(r),It(t)&&s(t,"_locale")&&(n._locale=t._locale),n}function Zt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Qt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Jt(t,e){var i;return e=Lt(e,t),t.isBefore(e)?i=Qt(t,e):(i=Qt(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function te(t,e){return function(i,n){var o,s;return null===n||isNaN(+n)||(et(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),s=i,i=n,n=s),i="string"==typeof i?+i:i,o=Kt(i,n),ee(this,o,t),this}}function ee(e,i,n,o){var s=i._milliseconds,r=i._days,a=i._months;o=null==o?!0:o,s&&e._d.setTime(+e._d+s*n),r&&A(e,"Date",R(e,"Date")+r*n),a&&X(e,R(e,"Month")+a*n),o&&t.updateOffset(e,r||a)}function ie(t,e){var i=t||Rt(),n=Lt(i,this).startOf("day"),o=this.diff(n,"days",!0),s=-6>o?"sameElse":-1>o?"lastWeek":0>o?"lastDay":1>o?"sameDay":2>o?"nextDay":7>o?"nextWeek":"sameElse";return this.format(e&&e[s]||this.localeData().calendar(s,this,Rt(i)))}function ne(){return new p(this)}function oe(t,e){var i;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=f(t)?t:Rt(t),+this>+t):(i=f(t)?+t:+Rt(t),i<+this.clone().startOf(e))}function se(t,e){var i;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=f(t)?t:Rt(t),+t>+this):(i=f(t)?+t:+Rt(t),+this.clone().endOf(e)<i)}function re(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function ae(t,e){var i;return e=T(e||"millisecond"),"millisecond"===e?(t=f(t)?t:Rt(t),+this===+t):(i=+Rt(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))}function le(t,e,i){var n,o,s=Lt(t,this),r=6e4*(s.utcOffset()-this.utcOffset());return e=T(e),"year"===e||"month"===e||"quarter"===e?(o=he(this,s),"quarter"===e?o/=3:"year"===e&&(o/=12)):(n=this-s,o="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-r)/864e5:"week"===e?(n-r)/6048e5:n),i?o:m(o)}function he(t,e){var i,n,o=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(o,"months");return 0>e-s?(i=t.clone().add(o-1,"months"),n=(e-s)/(s-i)):(i=t.clone().add(o+1,"months"),n=(e-s)/(i-s)),-(o+n)}function ce(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ue(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function de(e){var i=N(this,e||t.defaultFormat);return this.localeData().postformat(i)}function pe(t,e){return this.isValid()?Kt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fe(t){return this.from(Rt(),t)}function me(t,e){return this.isValid()?Kt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function ge(t){return this.to(Rt(),t)}function ve(t){var e;return void 0===t?this._locale._abbr:(e=k(t),null!=e&&(this._locale=e),this)}function ye(){return this._locale}function we(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function be(t){return t=T(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function Ce(){return+this._d-6e4*(this._offset||0)}function _e(){return Math.floor(+this/1e3)}function xe(){return this._offset?new Date(+this):this._d}function ke(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Se(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Te(){return c(this)}function De(){return r({},h(this))}function Ee(){return h(this).overflow}function Re(t,e){H(0,[t,t.length],0,e)}function Ae(t,e,i){return ht(Rt([t,11,31+e-i]),e,i).week}function Me(t){var e=ht(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Pe(t){var e=ht(this,1,4).year;return null==t?e:this.add(t-e,"y")}function He(){return Ae(this.year(),1,4)}function Ie(){var t=this.localeData()._week;return Ae(this.year(),t.dow,t.doy)}function Oe(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ne(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Le(t){return this._weekdays[t.day()]}function ze(t){return this._weekdaysShort[t.day()]}function Fe(t){return this._weekdaysMin[t.day()]}function We(t){var e,i,n;for(this._weekdaysParse=this._weekdaysParse||[],e=0;7>e;e++)if(this._weekdaysParse[e]||(i=Rt([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function je(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ne(t,this.localeData()),this.add(t-e,"d")):e}function Be(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function $e(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Ye(t,e){H(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ve(t,e){return e._meridiemParse}function qe(t){return"p"===(t+"").toLowerCase().charAt(0)}function Ue(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Ge(t,e){e[dn]=g(1e3*("0."+t))}function Xe(){return this._isUTC?"UTC":""}function Ke(){return this._isUTC?"Coordinated Universal Time":""}function Ze(t){return Rt(1e3*t)}function Qe(){return Rt.apply(null,arguments).parseZone()}function Je(t,e,i){var n=this._calendar[t];return"function"==typeof n?n.call(e,i):n}function ti(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function ei(){return this._invalidDate}function ii(t){return this._ordinal.replace("%d",t)}function ni(t){return t}function oi(t,e,i,n){var o=this._relativeTime[i];return"function"==typeof o?o(t,e,i,n):o.replace(/%d/i,t)}function si(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)}function ri(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ai(t,e,i,n){var o=k(),s=a().set(n,e);return o[i](s,t)}function li(t,e,i,n,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return ai(t,e,i,o);var s,r=[];for(s=0;n>s;s++)r[s]=ai(t,s,i,o);return r}function hi(t,e){return li(t,e,"months",12,"month")}function ci(t,e){return li(t,e,"monthsShort",12,"month")}function ui(t,e){return li(t,e,"weekdays",7,"day")}function di(t,e){return li(t,e,"weekdaysShort",7,"day")}function pi(t,e){return li(t,e,"weekdaysMin",7,"day")}function fi(){var t=this._data;return this._milliseconds=Xn(this._milliseconds),this._days=Xn(this._days),this._months=Xn(this._months),t.milliseconds=Xn(t.milliseconds),t.seconds=Xn(t.seconds),t.minutes=Xn(t.minutes),t.hours=Xn(t.hours),t.months=Xn(t.months),t.years=Xn(t.years),this}function mi(t,e,i,n){var o=Kt(e,i);return t._milliseconds+=n*o._milliseconds,t._days+=n*o._days,t._months+=n*o._months,t._bubble()}function gi(t,e){return mi(this,t,e,1)}function vi(t,e){return mi(this,t,e,-1)}function yi(t){return 0>t?Math.floor(t):Math.ceil(t)}function wi(){var t,e,i,n,o,s=this._milliseconds,r=this._days,a=this._months,l=this._data;return s>=0&&r>=0&&a>=0||0>=s&&0>=r&&0>=a||(s+=864e5*yi(Ci(a)+r),r=0,a=0),l.milliseconds=s%1e3,t=m(s/1e3),l.seconds=t%60,e=m(t/60),l.minutes=e%60,i=m(e/60),l.hours=i%24,r+=m(i/24),o=m(bi(r)),a+=o,r-=yi(Ci(o)),n=m(a/12),a%=12,l.days=r,l.months=a,l.years=n,this}function bi(t){return 4800*t/146097}function Ci(t){return 146097*t/4800}function _i(t){var e,i,n=this._milliseconds;if(t=T(t),"month"===t||"year"===t)return e=this._days+n/864e5,i=this._months+bi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(Ci(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}}function xi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function ki(t){return function(){return this.as(t)}}function Si(t){return t=T(t),this[t+"s"]()}function Ti(t){return function(){return this._data[t]}}function Di(){return m(this.days()/7)}function Ei(t,e,i,n,o){return o.relativeTime(e||1,!!i,t,n)}function Ri(t,e,i){var n=Kt(t).abs(),o=uo(n.as("s")),s=uo(n.as("m")),r=uo(n.as("h")),a=uo(n.as("d")),l=uo(n.as("M")),h=uo(n.as("y")),c=o<po.s&&["s",o]||1===s&&["m"]||s<po.m&&["mm",s]||1===r&&["h"]||r<po.h&&["hh",r]||1===a&&["d"]||a<po.d&&["dd",a]||1===l&&["M"]||l<po.M&&["MM",l]||1===h&&["y"]||["yy",h];return c[2]=e,c[3]=+t>0,c[4]=i,Ei.apply(null,c)}function Ai(t,e){return void 0===po[t]?!1:void 0===e?po[t]:(po[t]=e,!0)}function Mi(t){var e=this.localeData(),i=Ri(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Pi(){var t,e,i,n=fo(this._milliseconds)/1e3,o=fo(this._days),s=fo(this._months);t=m(n/60),e=m(t/60),n%=60,t%=60,i=m(s/12),s%=12;var r=i,a=s,l=o,h=e,c=t,u=n,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(l?l+"D":"")+(h||c||u?"T":"")+(h?h+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var Hi,Ii,Oi=t.momentProperties=[],Ni=!1,Li={},zi={},Fi=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Wi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ji={},Bi={},$i=/\d/,Yi=/\d\d/,Vi=/\d{3}/,qi=/\d{4}/,Ui=/[+-]?\d{6}/,Gi=/\d\d?/,Xi=/\d{1,3}/,Ki=/\d{1,4}/,Zi=/[+-]?\d{1,6}/,Qi=/\d+/,Ji=/[+-]?\d+/,tn=/Z|[+-]\d\d:?\d\d/gi,en=/[+-]?\d+(\.\d{1,3})?/,nn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,on={},sn={},rn=0,an=1,ln=2,hn=3,cn=4,un=5,dn=6;H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),H("MMMM",0,0,function(t){return this.localeData().months(this,t)}),S("month","M"),F("M",Gi),F("MM",Gi,Yi),F("MMM",nn),F("MMMM",nn),B(["M","MM"],function(t,e){e[an]=g(t)-1}),B(["MMM","MMMM"],function(t,e,i,n){var o=i._locale.monthsParse(t,n,i._strict);null!=o?e[an]=o:h(i).invalidMonth=t});var pn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mn={};t.suppressDeprecationWarnings=!1;var gn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],yn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],wn=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=tt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),S("year","y"),F("Y",Ji),F("YY",Gi,Yi),F("YYYY",Ki,qi),F("YYYYY",Zi,Ui),F("YYYYYY",Zi,Ui),B(["YYYYY","YYYYYY"],rn),B("YYYY",function(e,i){i[rn]=2===e.length?t.parseTwoDigitYear(e):g(e)}),B("YY",function(e,i){i[rn]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var bn=E("FullYear",!1);H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),F("w",Gi),F("ww",Gi,Yi),F("W",Gi),F("WW",Gi,Yi),$(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=g(t)});var Cn={dow:0,doy:6};H("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),F("DDD",Xi),F("DDDD",Vi),B(["DDD","DDDD"],function(t,e,i){i._dayOfYear=g(t)}),t.ISO_8601=function(){};var _n=tt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Rt.apply(null,arguments);return this>t?this:t}),xn=tt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Rt.apply(null,arguments);return t>this?this:t});Ot("Z",":"),Ot("ZZ",""),F("Z",tn),F("ZZ",tn),B(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Nt(t)});var kn=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Sn=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Tn=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Kt.fn=Ht.prototype;var Dn=te(1,"add"),En=te(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Rn=tt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Re("gggg","weekYear"),Re("ggggg","weekYear"),Re("GGGG","isoWeekYear"),Re("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),F("G",Ji),F("g",Ji),F("GG",Gi,Yi),F("gg",Gi,Yi),F("GGGG",Ki,qi),F("gggg",Ki,qi),F("GGGGG",Zi,Ui),F("ggggg",Zi,Ui),$(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=g(t)}),$(["gg","GG"],function(e,i,n,o){i[o]=t.parseTwoDigitYear(e)}),H("Q",0,0,"quarter"),S("quarter","Q"),F("Q",$i),B("Q",function(t,e){e[an]=3*(g(t)-1)}),H("D",["DD",2],"Do","date"),S("date","D"),F("D",Gi),F("DD",Gi,Yi),F("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),B(["D","DD"],ln),B("Do",function(t,e){e[ln]=g(t.match(Gi)[0],10)});var An=E("Date",!0);H("d",0,"do","day"),H("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),H("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),H("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),F("d",Gi),F("e",Gi),F("E",Gi),F("dd",nn),F("ddd",nn),F("dddd",nn),$(["dd","ddd","dddd"],function(t,e,i){var n=i._locale.weekdaysParse(t);null!=n?e.d=n:h(i).invalidWeekday=t}),$(["d","e","E"],function(t,e,i,n){e[n]=g(t)});var Mn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hn="Su_Mo_Tu_We_Th_Fr_Sa".split("_");H("H",["HH",2],0,"hour"),H("h",["hh",2],0,function(){return this.hours()%12||12}),Ye("a",!0),Ye("A",!1),S("hour","h"),F("a",Ve),F("A",Ve),F("H",Gi),F("h",Gi),F("HH",Gi,Yi),F("hh",Gi,Yi),B(["H","HH"],hn),B(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),B(["h","hh"],function(t,e,i){e[hn]=g(t),h(i).bigHour=!0});var In=/[ap]\.?m?\.?/i,On=E("Hours",!0);H("m",["mm",2],0,"minute"),S("minute","m"),F("m",Gi),F("mm",Gi,Yi),B(["m","mm"],cn);var Nn=E("Minutes",!1);H("s",["ss",2],0,"second"),S("second","s"),F("s",Gi),F("ss",Gi,Yi),B(["s","ss"],un);var Ln=E("Seconds",!1);H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),F("S",Xi,$i),F("SS",Xi,Yi),F("SSS",Xi,Vi);var zn;for(zn="SSSS";zn.length<=9;zn+="S")F(zn,Qi);for(zn="S";zn.length<=9;zn+="S")B(zn,Ge);var Fn=E("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Wn=p.prototype;Wn.add=Dn,Wn.calendar=ie,Wn.clone=ne,Wn.diff=le,Wn.endOf=be,Wn.format=de,Wn.from=pe,Wn.fromNow=fe,Wn.to=me,Wn.toNow=ge,Wn.get=M,Wn.invalidAt=Ee,Wn.isAfter=oe,Wn.isBefore=se,Wn.isBetween=re,Wn.isSame=ae,Wn.isValid=Te,Wn.lang=Rn,Wn.locale=ve,Wn.localeData=ye,Wn.max=xn,Wn.min=_n,Wn.parsingFlags=De,Wn.set=M,Wn.startOf=we,Wn.subtract=En,Wn.toArray=ke,Wn.toObject=Se,Wn.toDate=xe,Wn.toISOString=ue,Wn.toJSON=ue,Wn.toString=ce,Wn.unix=_e,Wn.valueOf=Ce,Wn.year=bn,Wn.isLeapYear=lt,Wn.weekYear=Me,Wn.isoWeekYear=Pe,Wn.quarter=Wn.quarters=Oe,Wn.month=K,Wn.daysInMonth=Z,Wn.week=Wn.weeks=pt,Wn.isoWeek=Wn.isoWeeks=ft,Wn.weeksInYear=Ie,Wn.isoWeeksInYear=He,Wn.date=An,Wn.day=Wn.days=je,Wn.weekday=Be,Wn.isoWeekday=$e,Wn.dayOfYear=gt,Wn.hour=Wn.hours=On,Wn.minute=Wn.minutes=Nn,Wn.second=Wn.seconds=Ln,Wn.millisecond=Wn.milliseconds=Fn,Wn.utcOffset=Ft,Wn.utc=jt,Wn.local=Bt,Wn.parseZone=$t,Wn.hasAlignedHourOffset=Yt,Wn.isDST=Vt,Wn.isDSTShifted=qt,Wn.isLocal=Ut,Wn.isUtcOffset=Gt,Wn.isUtc=Xt,Wn.isUTC=Xt,Wn.zoneAbbr=Xe,Wn.zoneName=Ke,Wn.dates=tt("dates accessor is deprecated. Use date instead.",An),Wn.months=tt("months accessor is deprecated. Use month instead",K),Wn.years=tt("years accessor is deprecated. Use year instead",bn),Wn.zone=tt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Wt);var jn=Wn,Bn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},$n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",
LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Yn="Invalid date",Vn="%d",qn=/\d{1,2}/,Un={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Gn=y.prototype;Gn._calendar=Bn,Gn.calendar=Je,Gn._longDateFormat=$n,Gn.longDateFormat=ti,Gn._invalidDate=Yn,Gn.invalidDate=ei,Gn._ordinal=Vn,Gn.ordinal=ii,Gn._ordinalParse=qn,Gn.preparse=ni,Gn.postformat=ni,Gn._relativeTime=Un,Gn.relativeTime=oi,Gn.pastFuture=si,Gn.set=ri,Gn.months=q,Gn._months=pn,Gn.monthsShort=U,Gn._monthsShort=fn,Gn.monthsParse=G,Gn.week=ct,Gn._week=Cn,Gn.firstDayOfYear=dt,Gn.firstDayOfWeek=ut,Gn.weekdays=Le,Gn._weekdays=Mn,Gn.weekdaysMin=Fe,Gn._weekdaysMin=Hn,Gn.weekdaysShort=ze,Gn._weekdaysShort=Pn,Gn.weekdaysParse=We,Gn.isPM=qe,Gn._meridiemParse=In,Gn.meridiem=Ue,_("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),t.lang=tt("moment.lang is deprecated. Use moment.locale instead.",_),t.langData=tt("moment.langData is deprecated. Use moment.localeData instead.",k);var Xn=Math.abs,Kn=ki("ms"),Zn=ki("s"),Qn=ki("m"),Jn=ki("h"),to=ki("d"),eo=ki("w"),io=ki("M"),no=ki("y"),oo=Ti("milliseconds"),so=Ti("seconds"),ro=Ti("minutes"),ao=Ti("hours"),lo=Ti("days"),ho=Ti("months"),co=Ti("years"),uo=Math.round,po={s:45,m:45,h:22,d:26,M:11},fo=Math.abs,mo=Ht.prototype;mo.abs=fi,mo.add=gi,mo.subtract=vi,mo.as=_i,mo.asMilliseconds=Kn,mo.asSeconds=Zn,mo.asMinutes=Qn,mo.asHours=Jn,mo.asDays=to,mo.asWeeks=eo,mo.asMonths=io,mo.asYears=no,mo.valueOf=xi,mo._bubble=wi,mo.get=Si,mo.milliseconds=oo,mo.seconds=so,mo.minutes=ro,mo.hours=ao,mo.days=lo,mo.weeks=Di,mo.months=ho,mo.years=co,mo.humanize=Mi,mo.toISOString=Pi,mo.toString=Pi,mo.toJSON=Pi,mo.locale=ve,mo.localeData=ye,mo.toIsoString=tt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Pi),mo.lang=Rn,H("X",0,0,"unix"),H("x",0,0,"valueOf"),F("x",Ji),F("X",en),B("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),B("x",function(t,e,i){i._d=new Date(g(t))}),t.version="2.10.6",e(Rt),t.fn=jn,t.min=Mt,t.max=Pt,t.utc=a,t.unix=Ze,t.months=hi,t.isDate=n,t.locale=_,t.invalid=u,t.duration=Kt,t.isMoment=f,t.weekdays=ui,t.parseZone=Qe,t.localeData=k,t.isDuration=It,t.monthsShort=ci,t.weekdaysMin=pi,t.defineLocale=x,t.weekdaysShort=di,t.normalizeUnits=T,t.relativeTimeThreshold=Ai;var go=t;return go}),
//! moment.js locale configuration
//! locale : spanish (es)
//! author : Julio Napur : https://github.com/julionc
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("../moment")):"function"==typeof define&&define.amd?define(["moment"],e):e(t.moment)}(this,function(t){"use strict";var e="Ene._Feb._Mar._Abr._May._Jun._Jul._Ago._Sep._Oct._Nov._Dic.".split("_"),i="Ene_Feb_Mar_Abr_May_Jun_Jul_Ago_Sep_Oct_Nov_Dic".split("_"),n=t.defineLocale("es",{months:"Enero_Febrero_Marzo_Abril_Mayo_Junio_Julio_Agosto_Septiembre_Octubre_Noviembre_Diciembre".split("_"),monthsShort:function(t,n){return/-MMM-/.test(n)?i[t.month()]:e[t.month()]},weekdays:"Domingo_Lunes_Martes_Mi\xe9rcoles_Jueves_Viernes_S\xe1bado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mi\xe9._Jue._Vie._S\xe1b.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S\xe1".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},ordinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}});return n}),/*! =========================================================
 * bootstrap-slider.js
 *
 * Maintainers:
 *		Kyle Kemp
 *			- Twitter: @seiyria
 *			- Github:  seiyria
 *		Rohit Kalkur
 *			- Twitter: @Rovolutionary
 *			- Github:  rovolution
 *
 * =========================================================
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ========================================================= */
function(t,e){if("function"==typeof define&&define.amd)define(["jquery"],e);else if("object"==typeof module&&module.exports){var i;try{i=require("jquery")}catch(n){i=null}module.exports=e(i)}else t.Slider=e(t.jQuery)}(this,function(t){var e;return function(t){"use strict";function e(){}function i(t){function i(e){e.prototype.option||(e.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))})}function o(e,i){t.fn[e]=function(o){if("string"==typeof o){for(var r=n.call(arguments,1),a=0,l=this.length;l>a;a++){var h=this[a],c=t.data(h,e);if(c)if(t.isFunction(c[o])&&"_"!==o.charAt(0)){var u=c[o].apply(c,r);if(void 0!==u&&u!==c)return u}else s("no such method '"+o+"' for "+e+" instance");else s("cannot call methods on "+e+" prior to initialization; attempted to call '"+o+"'")}return this}var d=this.map(function(){var n=t.data(this,e);return n?(n.option(o),n._init()):(n=new i(this,o),t.data(this,e,n)),t(this)});return!d||d.length>1?d:d[0]}}if(t){var s="undefined"==typeof console?e:function(t){console.error(t)};return t.bridget=function(t,e){i(e),o(t,e)},t.bridget}}var n=Array.prototype.slice;i(t)}(t),function(t){function i(e,i){function n(t,e){var i="data-slider-"+e.replace(/_/g,"-"),n=t.getAttribute(i);try{return JSON.parse(n)}catch(o){return n}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:null,over:null},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),i=i?i:{};for(var s=Object.keys(this.defaultOptions),r=0;r<s.length;r++){var a=s[r],l=i[a];l="undefined"!=typeof l?l:n(this.element,a),l=null!==l?l:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=l}"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.tooltip_position="right";var h,c,u,d,p,f=this.element.style.width,m=!1,g=this.element.parentNode;if(this.sliderElem)m=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var v=document.createElement("div");if(v.className="slider-track",c=document.createElement("div"),c.className="slider-track-low",h=document.createElement("div"),h.className="slider-selection",u=document.createElement("div"),u.className="slider-track-high",d=document.createElement("div"),d.className="slider-handle min-slider-handle",p=document.createElement("div"),p.className="slider-handle max-slider-handle",v.appendChild(c),v.appendChild(h),v.appendChild(u),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(r=0;r<this.options.ticks.length;r++){var y=document.createElement("div");y.className="slider-tick",this.ticks.push(y),v.appendChild(y)}h.className+=" tick-slider-selection"}if(v.appendChild(d),v.appendChild(p),this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",r=0;r<this.options.ticks_labels.length;r++){var w=document.createElement("div");w.className="slider-tick-label",w.innerHTML=this.options.ticks_labels[r],this.tickLabels.push(w),this.tickLabelContainer.appendChild(w)}var b=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",t.appendChild(e),t.appendChild(i)},C=document.createElement("div");C.className="tooltip tooltip-main",b(C);var _=document.createElement("div");_.className="tooltip tooltip-min",b(_);var x=document.createElement("div");x.className="tooltip tooltip-max",b(x),this.sliderElem.appendChild(v),this.sliderElem.appendChild(C),this.sliderElem.appendChild(_),this.sliderElem.appendChild(x),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),g.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),o[this.options.scale]&&(this.options.scale=o[this.options.scale]),m===!0&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"top"),this._removeProperty(t,"margin-left"),this._removeProperty(t,"margin-top"),this._removeClass(t,"right"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=f,this.options.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=c||this.trackLow,this.trackSelection=h||this.trackSelection,this.trackHigh=u||this.trackHigh,"none"===this.options.selection&&(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")),this.handle1=d||this.handle1,this.handle2=p||this.handle2,m===!0)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),r=0;r<this.ticks.length;r++)this._removeClass(this.ticks[r],"round triangle hide");var k=["round","triangle","custom"],S=-1!==k.indexOf(this.options.handle);if(S)for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),r=0;r<this.ticks.length;r++)this._addClass(this.ticks[r],this.options.handle);this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchCapable&&this.sliderElem.addEventListener("touchstart",this.mousedown,!1),this.sliderElem.addEventListener("mousedown",this.mousedown,!1),"hide"===this.options.tooltip?(this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide")):"always"===this.options.tooltip?(this._showTooltip(),this._alwaysShowTooltip=!0):(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1),this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)),this.options.enabled?this.enable():this.disable()}var n={formatInvalidInputErrorMsg:function(t){return"Invalid input value '"+t+"' passed in"},callingContextNotSliderInstance:"Calling context element does not have instance of Slider bound to it. Check your code to make sure the JQuery object returned from the call to the slider() initializer is calling the method"},o={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min);if(this.options.ticks_positions.length>0){for(var i,n,o,s=0,r=0;r<this.options.ticks_positions.length;r++)if(t<=this.options.ticks_positions[r]){i=r>0?this.options.ticks[r-1]:0,o=r>0?this.options.ticks_positions[r-1]:0,n=this.options.ticks[r],s=this.options.ticks_positions[r];break}if(r>0){var a=(t-o)/(s-o);e=i+a*(n-i)}}var l=this.options.min+Math.round(e/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,i,n,o=0,s=0;s<this.options.ticks.length;s++)if(t<=this.options.ticks[s]){e=s>0?this.options.ticks[s-1]:0,n=s>0?this.options.ticks_positions[s-1]:0,i=this.options.ticks[s],o=this.options.ticks_positions[s];break}if(s>0){var r=(t-e)/(i-e);return n+r*(o-n)}}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),i=Math.log(this.options.max),n=Math.exp(e+(i-e)*t/100);return n=this.options.min+Math.round((n-this.options.min)/this.options.step)*this.options.step,n<this.options.min?this.options.min:n>this.options.max?this.options.max:n},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),i=0===this.options.min?0:Math.log(this.options.min),n=0===t?0:Math.log(t);return 100*(n-i)/(e-i)}}};if(e=function(t,e){return i.call(this,t,e),this},e.prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,scale:"linear",focus:!1,tooltip_position:null},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,i){t||(t=0);var n=this.getValue();this._state.value=this._validateInputValue(t);var o=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=o(this._state.value[0]),this._state.value[1]=o(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=o(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var s=this.options.range?this._state.value:this._state.value[0];return e===!0&&this._trigger("slide",s),n!==s&&i===!0&&this._trigger("change",{oldValue:n,newValue:s}),this._setDataVal(s),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,i){t?(this.$element.off(e,i),this.$sliderElem.off(e,i)):this._unbindNonQueryEventHandler(e,i)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),i.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._layout(),this},_removeSliderEventHandlers:function(){this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.handle2.removeEventListener("focus",this.handle2Keydown,!1),this.handle2.removeEventListener("blur",this.handle2Keydown,!1),this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.mousedown,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var i=this.eventToCallbackMap[t];if(void 0!==i)for(var n=0;n<i.length;n++)if(i[n]===e){i.splice(n,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var i=t[e];this.eventToCallbackMap[i]=null}},_showTooltip:function(){this.options.tooltip_split===!1?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){this._state.inDrag===!1&&this.alwaysShowTooltip!==!0&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_layout:function(){var t;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle2.style[this.stylePos]=t[1]+"%",Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var e=Math.max.apply(Math,this.options.ticks),i=Math.min.apply(Math,this.options.ticks),n="vertical"===this.options.orientation?"height":"width",o="vertical"===this.options.orientation?"marginTop":"marginLeft",s=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var r=0;if(0===this.options.ticks_positions.length)this.tickLabelContainer.style[o]=-s/2+"px",r=this.tickLabelContainer.offsetHeight;else for(a=0;a<this.tickLabelContainer.childNodes.length;a++)this.tickLabelContainer.childNodes[a].offsetHeight>r&&(r=this.tickLabelContainer.childNodes[a].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=r+"px")}for(var a=0;a<this.options.ticks.length;a++){var l=this.options.ticks_positions[a]||100*(this.options.ticks[a]-i)/(e-i);this.ticks[a].style[this.stylePos]=l+"%",this._removeClass(this.ticks[a],"in-selection"),this.options.range?l>=t[0]&&l<=t[1]&&this._addClass(this.ticks[a],"in-selection"):"after"===this.options.selection&&l>=t[0]?this._addClass(this.ticks[a],"in-selection"):"before"===this.options.selection&&l<=t[0]&&this._addClass(this.ticks[a],"in-selection"),this.tickLabels[a]&&(this.tickLabels[a].style[n]=s+"px",void 0!==this.options.ticks_positions[a]&&(this.tickLabels[a].style.position="absolute",this.tickLabels[a].style[this.stylePos]=this.options.ticks_positions[a]+"%",this.tickLabels[a].style[o]=-s/2+"px"))}}if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%",this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var h=this.tooltip_min.getBoundingClientRect(),c=this.tooltip_max.getBoundingClientRect();h.right>c.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}var u;if(this.options.range){u=this.options.formatter(this._state.value),this._setText(this.tooltipInner,u),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px"),"vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px");var d=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,d);var p=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,p),this.tooltip_min.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip_min,"margin-top",-this.tooltip_min.offsetHeight/2+"px"):this._css(this.tooltip_min,"margin-left",-this.tooltip_min.offsetWidth/2+"px"),this.tooltip_max.style[this.stylePos]=t[1]+"%","vertical"===this.options.orientation?this._css(this.tooltip_max,"margin-top",-this.tooltip_max.offsetHeight/2+"px"):this._css(this.tooltip_max,"margin-left",-this.tooltip_max.offsetWidth/2+"px")}else u=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,u),this.tooltip.style[this.stylePos]=t[0]+"%","vertical"===this.options.orientation?this._css(this.tooltip,"margin-top",-this.tooltip.offsetHeight/2+"px"):this._css(this.tooltip,"margin-left",-this.tooltip.offsetWidth/2+"px")},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var i=Math.abs(this._state.percentage[0]-e),n=Math.abs(this._state.percentage[1]-e);this._state.dragged=n>i?0:1}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var o=this._calculateValue();return this._trigger("slideStart",o),this._setDataVal(o),this.setValue(o,!1,!0),this._pauseEvent(t),this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var i;switch(e.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var n="vertical"===this.options.orientation&&!this.options.reversed,o="horizontal"===this.options.orientation&&this.options.reversed;(n||o)&&(i=-i)}var s=this._state.value[t]+i*this.options.step;return this.options.range&&(s=[t?this._state.value[0]:s,t?s:this._state.value[1]]),this._trigger("slideStart",s),this._setDataVal(s),this.setValue(s,!0,!0),this._setDataVal(s),this._trigger("slideStop",s),this._layout(),this._pauseEvent(e),!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var i=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>i&&(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0)}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,this._state.over===!1&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var i=[e,1/0],n=0;n<this.options.ticks.length;n++){var o=Math.abs(this.options.ticks[n]-e);o<=i[1]&&(i=[this.options.ticks[n],o])}if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var i=t.toFixed(e);return parseFloat(i)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos],i=this._state.offset[this.stylePos],n=e-i,o=n/this._state.size*100;return o=Math.round(o/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(o=100-o),Math.max(0,Math.min(100,o))},_validateInputValue:function(t){if("number"==typeof t)return t;if(Array.isArray(t))return this._validateArray(t),t;throw new Error(n.formatInvalidInputErrorMsg(t))},_validateArray:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("number"!=typeof i)throw new Error(n.formatInvalidInputErrorMsg(i))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,i){i=i||0===i?i:void 0;var n=this.eventToCallbackMap[e];if(n&&n.length)for(var o=0;o<n.length;o++){var s=n[o];s(i)}t&&this._triggerJQueryEvent(e,i)},_triggerJQueryEvent:function(t,e){var i={type:t,value:e};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){"undefined"!=typeof t.innerText?t.innerText=e:"undefined"!=typeof t.textContent&&(t.textContent=e)},_removeClass:function(t,e){for(var i=e.split(" "),n=t.className,o=0;o<i.length;o++){var s=i[o],r=new RegExp("(?:\\s|^)"+s+"(?:\\s|$)");n=n.replace(r," ")}t.className=n.trim()},_addClass:function(t,e){for(var i=e.split(" "),n=t.className,o=0;o<i.length;o++){var s=i[o],r=new RegExp("(?:\\s|^)"+s+"(?:\\s|$)"),a=r.test(n);a||(n+=" "+s)}t.className=n.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop;return e},_offset:function(t){return{left:this._offsetLeft(t),top:this._offsetTop(t)}},_css:function(e,i,n){if(t)t.style(e,i,n);else{var o=i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[o]=n}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e=this.options.tooltip_position||"right",i="left"===e?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t){var s=t.fn.slider?"bootstrapSlider":"slider";t.bridget(s,e)}}(t),e}),function(t){var e={init:function(t){var e=this.hjq("getOptions",t);this.bootstrapSwitch(),e.change&&this.on("switchChange.bootstrapSwitch",e.change)}};t.fn.hjq_bootstrap_switch=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_bootstrap_switch"):e.init.apply(this,arguments)}}(jQuery);var __google_oauthToken,launchGoogleDriveSelect=function(t){loadJs("https://apis.google.com/js/api.js",null,function(){function e(t){t&&!t.error&&(oauthToken=t.access_token,__google_oauthToken=oauthToken,i(oauthToken))}function i(t){var e=(new google.picker.PickerBuilder).addView(new google.picker.DocsView).setLocale($("html").attr("lang")).addView(new google.picker.DocsUploadView).setOAuthToken(t).setDeveloperKey("AIzaSyDyunqzHgz5ohSQ2dSV69T_tgiecgPZgIs").setCallback(n).build();e.setVisible(!0),$(".picker-dialog").css("z-index",5e3)}function n(e){var i="nothing";if(e[google.picker.Response.ACTION]==google.picker.Action.PICKED){var n=e[google.picker.Response.DOCUMENTS][0],i=n[google.picker.Document.URL],o=n[google.picker.Document.NAME],s='"'+o+'":'+i;t.insertAtCaret(s)}}var o=function(){window.gapi.auth.authorize({client_id:"561715127660-7mp6jik3o3rveadsmumlivplajiogcls.apps.googleusercontent.com",scope:["https://www.googleapis.com/auth/drive.readonly"]},e)};null==__google_oauthToken?(gapi.load("auth",{callback:o}),gapi.load("picker")):i(__google_oauthToken)})},__boxSelect,launchBoxSelect=function(t){loadJs("https://app.box.com/js/static/select.js",null,function(){"undefined"==typeof __boxSelect&&(__boxSelect=new BoxSelect({clientId:"xp2amwwyx7pmz2zhkco6pe351datue23",linkType:"shared",multiselect:"false"}));var e=function(e){var i='"'+e[0].name+'":'+e[0].url;t.insertAtCaret(i)};__boxSelect.unregister(__boxSelect.SUCCESS_EVENT_TYPE),__boxSelect.success(e),__boxSelect.launchPopup()})},launchDropBoxSelect=function(t){loadJs("https://www.dropbox.com/static/api/2/dropins.js",{id:"dropboxjs","data-app-key":"810pe0uue1stsz9"},function(){Dropbox.choose({success:function(e){var i='"'+e[0].name+'":'+e[0].link;t.insertAtCaret(i)}})})},dummyVariableName=1,isValidDate=function(t,e){var e=e||"mm/dd/yyyy",i=/[^mdy]/.exec(e)[0],n=e.split(i),o=t.split(i),s=function(t,e){for(var i,n,o,s=0,r=e.length;r>s;s++)/m/.test(e[s])&&(i=t[s]),/d/.test(e[s])&&(n=t[s]),/y/.test(e[s])&&(o=t[s]);return i>0&&13>i&&o&&4===o.length&&n>0&&n<=new Date(o,i,0).getDate()};return s(o,n)},validateDate=function(t){for(var e=$(t).find(".bootstrap-datepicker"),i=0;i<e.length;i++){var n=$(e[i]),o=n.attr("data-date-format"),s=n.val();if(!isValidDate(s,o))return alert("Not a valid date, the format should be: "+o),!1}return!0},loadKanban=function(){try{if($("body.kanban.show-page").length<1)return;var t=!1,e=[];if(window.location.hash.length>1){var n=window.location.hash.substring(1).split(";");2==n.length&&(t="true"==n[1],e=n[0].split(","))}for($(".ic-eye").show(),$(".ic-eye-slash").hide(),i=0;i<e.length;i++)$(".col-tog-"+e[i]).toggle();t!=$("#show-mine").bootstrapSwitch("state")&&$("#show-mine").bootstrapSwitch("toggleState"),doFilterPostits(e,t)}catch(o){window.location.hash=""}};$(document).ready(function(){$("body.kanban.show-page").length>=1&&($(window).on("popstate",loadKanban),loadKanban())});var doFilterPostits=function(t,e){for(var i="",n=0;n<t.length;n++)i.length>0&&(i+=", "),i+=".kb-color-"+t[n];if($(".postit").show(),$(i).hide(),e){var o=$("#show-mine"),s=o.data("user");$(".postit:not(:has(.user-"+s+"))").hide()}equalHeightSections()},filterPostits=function(t){t.stopPropagation();var e=$(t.target).data("color");e&&$(".col-tog-"+e).toggle();var i=$("#show-mine"),n=i.bootstrapSwitch("state"),o=[];return $(".filter-color").each(function(){if($(this).is(":hidden")){var t=$(this).data("color");o.push(t)}}),window.location.hash=o.join(",")+";"+n,!1},laneOver=function(t,e){$(t.target).addClass("active")},laneOut=function(t,e){$(t.target).removeClass("active")},postitDrop=function(t,e){var i=e.item.closest(".sortable-collection"),n=e.item.closest(".kanban-row");i.sortable("refresh");var o=i.data("list-id");if($form=e.item.find(".csupdate.formlet"),$form.find("input[name='task[status]']").val(o),n.length>0){var s=n.data("id");$form.find("input[name='task[objective_id]']").val(s)}$form.data("rapid").formlet.form_attrs.action="/tasks/"+e.item.data("id"),$form.hjq_formlet("submit");var r=i.data("rapid")["sortable-collection"];r.ajax_attrs.no_spinner=!0;var a=i.hjq("buildRequest",{type:"post",attrs:r.ajax_attrs});return a.data.authenticity_token=$("body").find("[data-rapid-page-data]").data("rapid-page-data").form_auth_token.value,a.data=$.param(a.data),a.data=a.data+"&task_ordering=-1",i.children("*[data-rapid-context]").each(function(t){a.data=a.data+","+$(this).hjq("contextId")}),$.ajax("/tasks/reorder_lane/"+o+"/"+e.item.hjq("contextId"),a),i},dateFormat=function(t,e){if("undefined"==typeof e)return function(e){return dateFormat.apply(this,[t,e])};if(e instanceof Array)var i=new Date(e[0],e[1]-1,e[2]);else var i=new Date(e);var n=$(document),o=document.documentElement.lang,s=n.hjq_pickdate("languages")[o].monthsShort,r=$.datepicker.formatDate(t,i,{monthNamesShort:s});return r};$(document).ready(updateColors),$(document).ready(function(){var t=$("[data-rapid-page-data]").data("rapid-page-data").cookiemsg,e=$("[data-rapid-page-data]").data("rapid-page-data").agreemsg;if($.cookieCuttr({cookieAnalytics:!1,cookieMessage:t,cookieAcceptButtonText:e,cookiePolicyLink:"/legal/cookies/"}),!$.cookieAccepted()){var i=$(".cc-cookies").first().css("height");$(".navbar").first().css("padding-top",i)}}),$(window).scroll(function(){fixedHorizontal()}),$(document).ready(function(){$("ul.collection.areas").hammer().bind("swipeleft",function(t){var e=$(".carousel-indicators li.active");if(e){var i=e.next("li");i&&i.click()}}),$("ul.collection.areas").hammer().bind("swiperight",function(t){var e=$(".carousel-indicators li.active");if(e){var i=e.prev("li");i&&i.click()}});var t=function(){return e=$("ul.collection.areas").first().width()},e=t();$(window).resize(t);var i=function(){var t=Math.floor($(this).scrollLeft()/e);$(".carousel-indicators li").removeClass("active"),$(".carousel-indicators li").eq(t).addClass("active")};$("ul.collection.areas").on("scroll",i),i(),$(".carousel li").click(function(){
$("ul.collection.areas").animate({scrollLeft:$(this).data("index")*e})}),i.call($("ul.collection.areas").get())});var eh=!1,equalHeightSections=function(){$("html.pdf").length>0||eh||(eh=!0,fixedHorizontal(),equalHeights("div.objectives-wrapper"),equalHeights("div.indicators-wrapper"),equalHeights("div.tasks-wrapper"),equalHeights(".area .header"),eh=!1)};$(window).resize(equalHeightSections),$(document).ready(equalHeightSections),$(window).load(equalHeightSections);var equalHeights=function(t){if($(t).height("auto"),"undefined"==typeof presenting||!presenting){var e=0;$(t).each(function(){$(this).height()>e&&(e=$(this).height())}),$(t).height(e)}};$(document).ready(function(){var t=$(document).get_timezone(),e=document.location.hostname.replace(/[^\.]*\./,"");document.cookie="tz="+t+";domain="+e+"; path=/"}),Number.prototype.formatMoney=function(t,e,i){var n=this,t=isNaN(t=Math.abs(t))?2:t,i=void 0==i?".":i,e=void 0==e?",":e,o=0>n?"-":"",s=parseInt(n=Math.abs(+n||0).toFixed(t))+"",r=(r=s.length)>3?r%3:0;return o+(r?s.substr(0,r)+e:"")+s.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+e)+(t?i+Math.abs(n-s).toFixed(t).slice(2):"").replace(/[\.,0]+$/,"")};var numberFormat=function(t){$(document);if(null==t)return"";var e=t.toString().split(".");return e.join($("body").find("[data-rapid-page-data]").data("rapid-page-data").separator)},dateFormatDefault=function(t){$(document);return dateFormat($("body").find("[data-rapid-page-data]").data("rapid-page-data").dateformat.replace("yyyy","yy"),t)},ylabelformat=function(t,e){var i=t;$(document);return null==i?i:i=3==e?numberFormat((1*i.toFixed(2)).toString())+"%":i.formatMoney(2,$("body").find("[data-rapid-page-data]").data("rapid-page-data").delimiter,$("body").find("[data-rapid-page-data]").data("rapid-page-data").separator)};$(document).ready(function(){$("#sso-login").submit(function(){var t=$("#sso-login input[name=email]").val(),e=document.domain.replace(/^.+?\./,".");$.cookie("ssoemail",t,{domain:e,path:"/",expires:600})}),$("#login.modal").on("shown",function(){var t=$.cookie("ssoemail");null!=t&&$("#sso-login input[name=email]").val(t).focus()})}),function(){var t=function(){var t=$(".footer").first().height();$("body").css("margin-bottom",t)};$(window).resize(t),$(document).ready(t)}();var __loadedjs=[];$.fn.extend({insertAtCaret:function(t){var e=this.get(0);if(document.selection)e.focus(),sel=document.selection.createRange(),sel.text=t,e.focus();else if(e.selectionStart||"0"==e.selectionStart){var i=e.selectionStart,n=e.selectionEnd,o=e.scrollTop;e.value=e.value.substring(0,i)+t+e.value.substring(n,e.value.length),e.focus(),e.selectionStart=i+t.length,e.selectionEnd=i+t.length,e.scrollTop=o}else e.value+=t,e.focus()}});var openPostit=function(t){$(t).prevAll(".postit-description").toggleClass("show-all"),$(t).toggleClass("open"),window.setTimeout(equalHeightSections,1100)};$(document).ready(function(){$(".modal").on("hidden.bs.modal",function(t){$("body").removeClass("modal-open")}),window.setTimeout(function(){$(".alert.alert-info,.alert.alert-success").fadeTo(1500,0).slideUp(500,function(){$(this).remove()})},8e3)});var _urq=_urq||[];$(document).ready(function(){var t=document.documentElement.lang,e="c990b744-a088-4aaa-8414-51217a5cfa9a";"es"==t&&(e="64daf682-b7c5-40ba-8fe3-aeb24ec7f4c2"),_urq.push(["setGACode","UA-47284244-1"]),_urq.push(["initSite",e])});var areas={};$(document).ready(function(){$(".area.card .hoshin-link").each(function(){var t=$(this).closest(".area.card").find("h4.heading"),e=t.find("a[href='"+this.href+"']");e.length<1&&t.append(' <a href="'+this.href+'" title="'+this.title+'" class="child-hoshin-link"><span class="ic-child"></span></a>')})}),$(document).ready(function(){var t=$("#to-append").children();t.length>0&&$(".kb-frame.dots .connected-sortable-wrapper .kb-lane").append(t)});var tooltips=function(){$("[data-toggle=tooltip]").tooltip()};$(document).ready(tooltips),$(window).bind("page:change",tooltips);var mapImpactFilterEnable=function(){if(location.hash.startsWith("#min-")){var t=parseInt(location.hash.substr(5));$(this).bootstrapSlider("setValue",t),$(this).trigger("change")}},mapImpactFilterChange=function(t){var e=parseInt($(this).attr("data-value"));$(".dot").each(function(){var t=$(this),i=parseInt(t.data("impact"));i>=e?t.show():t.hide()})},mapImpactFilterAnchor=function(){var t=parseInt($(this).attr("data-value"));location.hash="#min-"+t},isInputFocused=function(){return $.inArray($(document.activeElement)[0].tagName,["INPUT","SELECT","TEXTAREA"])>=0},isModalShown=function(){return $(".modal").toArray().reduce(function(t,e){return($(e).data("bs.modal")||{}).isShown||t},!1)};$(document).ready(function(){"undefined"!=typeof numeral&&(numeral.language("es",{delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"K",million:"M",billion:"B",trillion:"T"},ordinal:function(t){return"o"},currency:{symbol:"\u20ac"}}),numeral.language(document.documentElement.lang))}),/*! Hammer.JS - v2.0.4 - 2014-09-28
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2014 Jorik Tangelder;
 * Licensed under the MIT license */
function(t,e,i,n){"use strict";function o(t,e,i){return setTimeout(c(t,i),e)}function s(t,e,i){return Array.isArray(t)?(r(t,i[e],i),!0):!1}function r(t,e,i){var o;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(o=0;o<t.length;)e.call(i,t[o],o,t),o++;else for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t)}function a(t,e,i){for(var o=Object.keys(e),s=0;s<o.length;)(!i||i&&t[o[s]]===n)&&(t[o[s]]=e[o[s]]),s++;return t}function l(t,e){return a(t,e,!0)}function h(t,e,i){var n,o=e.prototype;n=t.prototype=Object.create(o),n.constructor=t,n._super=o,i&&a(n,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function u(t,e){return typeof t==ct?t.apply(e?e[0]||n:n,e):t}function d(t,e){return t===n?e:t}function p(t,e,i){r(v(e),function(e){t.addEventListener(e,i,!1)})}function f(t,e,i){r(v(e),function(e){t.removeEventListener(e,i,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function y(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function w(t){return Array.prototype.slice.call(t,0)}function b(t,e,i){for(var n=[],o=[],s=0;s<t.length;){var r=e?t[s][e]:t[s];y(o,r)<0&&n.push(t[s]),o[s]=r,s++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function C(t,e){for(var i,o,s=e[0].toUpperCase()+e.slice(1),r=0;r<lt.length;){if(i=lt[r],o=i?i+s:e,o in t)return o;r++}return n}function _(){return ft++}function x(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function k(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){u(t.options.enable,[t])&&i.handler(e)},this.init()}function S(t){var e,i=t.options.inputClass;return new(e=i?i:vt?F:yt?B:gt?Y:z)(t,T)}function T(t,e,i){var n=i.pointers.length,o=i.changedPointers.length,s=e&kt&&n-o===0,r=e&(Tt|Dt)&&n-o===0;i.isFirst=!!s,i.isFinal=!!r,s&&(t.session={}),i.eventType=e,D(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function D(t,e){var i=t.session,n=e.pointers,o=n.length;i.firstInput||(i.firstInput=A(e)),o>1&&!i.firstMultiple?i.firstMultiple=A(e):1===o&&(i.firstMultiple=!1);var s=i.firstInput,r=i.firstMultiple,a=r?r.center:s.center,l=e.center=M(n);e.timeStamp=pt(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=O(a,l),e.distance=I(a,l),E(i,e),e.offsetDirection=H(e.deltaX,e.deltaY),e.scale=r?L(r.pointers,n):1,e.rotation=r?N(r.pointers,n):0,R(i,e);var h=t.element;m(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h}function E(t,e){var i=e.center,n=t.offsetDelta||{},o=t.prevDelta||{},s=t.prevInput||{};(e.eventType===kt||s.eventType===Tt)&&(o=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=o.x+(i.x-n.x),e.deltaY=o.y+(i.y-n.y)}function R(t,e){var i,o,s,r,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=Dt&&(l>xt||a.velocity===n)){var h=a.deltaX-e.deltaX,c=a.deltaY-e.deltaY,u=P(l,h,c);o=u.x,s=u.y,i=dt(u.x)>dt(u.y)?u.x:u.y,r=H(h,c),t.lastInterval=e}else i=a.velocity,o=a.velocityX,s=a.velocityY,r=a.direction;e.velocity=i,e.velocityX=o,e.velocityY=s,e.direction=r}function A(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:ut(t.pointers[i].clientX),clientY:ut(t.pointers[i].clientY)},i++;return{timeStamp:pt(),pointers:e,center:M(e),deltaX:t.deltaX,deltaY:t.deltaY}}function M(t){var e=t.length;if(1===e)return{x:ut(t[0].clientX),y:ut(t[0].clientY)};for(var i=0,n=0,o=0;e>o;)i+=t[o].clientX,n+=t[o].clientY,o++;return{x:ut(i/e),y:ut(n/e)}}function P(t,e,i){return{x:e/t||0,y:i/t||0}}function H(t,e){return t===e?Et:dt(t)>=dt(e)?t>0?Rt:At:e>0?Mt:Pt}function I(t,e,i){i||(i=Nt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return Math.sqrt(n*n+o*o)}function O(t,e,i){i||(i=Nt);var n=e[i[0]]-t[i[0]],o=e[i[1]]-t[i[1]];return 180*Math.atan2(o,n)/Math.PI}function N(t,e){return O(e[1],e[0],Lt)-O(t[1],t[0],Lt)}function L(t,e){return I(e[0],e[1],Lt)/I(t[0],t[1],Lt)}function z(){this.evEl=Ft,this.evWin=Wt,this.allow=!0,this.pressed=!1,k.apply(this,arguments)}function F(){this.evEl=$t,this.evWin=Yt,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function W(){this.evTarget=qt,this.evWin=Ut,this.started=!1,k.apply(this,arguments)}function j(t,e){var i=w(t.touches),n=w(t.changedTouches);return e&(Tt|Dt)&&(i=b(i.concat(n),"identifier",!0)),[i,n]}function B(){this.evTarget=Xt,this.targetIds={},k.apply(this,arguments)}function $(t,e){var i=w(t.touches),n=this.targetIds;if(e&(kt|St)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var o,s,r=w(t.changedTouches),a=[],l=this.target;if(s=i.filter(function(t){return m(t.target,l)}),e===kt)for(o=0;o<s.length;)n[s[o].identifier]=!0,o++;for(o=0;o<r.length;)n[r[o].identifier]&&a.push(r[o]),e&(Tt|Dt)&&delete n[r[o].identifier],o++;return a.length?[b(s.concat(a),"identifier",!0),a]:void 0}function Y(){k.apply(this,arguments);var t=c(this.handler,this);this.touch=new B(this.manager,t),this.mouse=new z(this.manager,t)}function V(t,e){this.manager=t,this.set(e)}function q(t){if(g(t,ee))return ee;var e=g(t,ie),i=g(t,ne);return e&&i?ie+" "+ne:e||i?e?ie:ne:g(t,te)?te:Jt}function U(t){this.id=_(),this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=d(this.options.enable,!0),this.state=oe,this.simultaneous={},this.requireFail=[]}function G(t){return t&he?"cancel":t&ae?"end":t&re?"move":t&se?"start":""}function X(t){return t==Pt?"down":t==Mt?"up":t==Rt?"left":t==At?"right":""}function K(t,e){var i=e.manager;return i?i.get(t):t}function Z(){U.apply(this,arguments)}function Q(){Z.apply(this,arguments),this.pX=null,this.pY=null}function J(){Z.apply(this,arguments)}function tt(){U.apply(this,arguments),this._timer=null,this._input=null}function et(){Z.apply(this,arguments)}function it(){Z.apply(this,arguments)}function nt(){U.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ot(t,e){return e=e||{},e.recognizers=d(e.recognizers,ot.defaults.preset),new st(t,e)}function st(t,e){e=e||{},this.options=l(e,ot.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=S(this),this.touchAction=new V(this,this.options.touchAction),rt(this,!0),r(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function rt(t,e){var i=t.element;r(t.options.cssProps,function(t,n){i.style[C(i.style,n)]=e?t:""})}function at(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var lt=["","webkit","moz","MS","ms","o"],ht=e.createElement("div"),ct="function",ut=Math.round,dt=Math.abs,pt=Date.now,ft=1,mt=/mobile|tablet|ip(ad|hone|od)|android/i,gt="ontouchstart"in t,vt=C(t,"PointerEvent")!==n,yt=gt&&mt.test(navigator.userAgent),wt="touch",bt="pen",Ct="mouse",_t="kinect",xt=25,kt=1,St=2,Tt=4,Dt=8,Et=1,Rt=2,At=4,Mt=8,Pt=16,Ht=Rt|At,It=Mt|Pt,Ot=Ht|It,Nt=["x","y"],Lt=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(x(this.element),this.evWin,this.domHandler)}};var zt={mousedown:kt,mousemove:St,mouseup:Tt},Ft="mousedown",Wt="mousemove mouseup";h(z,k,{handler:function(t){var e=zt[t.type];e&kt&&0===t.button&&(this.pressed=!0),e&St&&1!==t.which&&(e=Tt),this.pressed&&this.allow&&(e&Tt&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ct,srcEvent:t}))}});var jt={pointerdown:kt,pointermove:St,pointerup:Tt,pointercancel:Dt,pointerout:Dt},Bt={2:wt,3:bt,4:Ct,5:_t},$t="pointerdown",Yt="pointermove pointerup pointercancel";t.MSPointerEvent&&($t="MSPointerDown",Yt="MSPointerMove MSPointerUp MSPointerCancel"),h(F,k,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),o=jt[n],s=Bt[t.pointerType]||t.pointerType,r=s==wt,a=y(e,t.pointerId,"pointerId");o&kt&&(0===t.button||r)?0>a&&(e.push(t),a=e.length-1):o&(Tt|Dt)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,o,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Vt={touchstart:kt,touchmove:St,touchend:Tt,touchcancel:Dt},qt="touchstart",Ut="touchstart touchmove touchend touchcancel";h(W,k,{handler:function(t){var e=Vt[t.type];if(e===kt&&(this.started=!0),this.started){var i=j.call(this,t,e);e&(Tt|Dt)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:wt,srcEvent:t})}}});var Gt={touchstart:kt,touchmove:St,touchend:Tt,touchcancel:Dt},Xt="touchstart touchmove touchend touchcancel";h(B,k,{handler:function(t){var e=Gt[t.type],i=$.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:wt,srcEvent:t})}}),h(Y,k,{handler:function(t,e,i){var n=i.pointerType==wt,o=i.pointerType==Ct;if(n)this.mouse.allow=!1;else if(o&&!this.mouse.allow)return;e&(Tt|Dt)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Kt=C(ht.style,"touchAction"),Zt=Kt!==n,Qt="compute",Jt="auto",te="manipulation",ee="none",ie="pan-x",ne="pan-y";V.prototype={set:function(t){t==Qt&&(t=this.compute()),Zt&&(this.manager.element.style[Kt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return r(this.manager.recognizers,function(e){u(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),q(t.join(" "))},preventDefaults:function(t){if(!Zt){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,o=g(n,ee),s=g(n,ne),r=g(n,ie);return o||s&&i&Ht||r&&i&It?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var oe=1,se=2,re=4,ae=8,le=ae,he=16,ce=32;U.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(s(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return s(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(s(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(s(t,"dropRequireFailure",this))return this;t=K(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?G(n):""),t)}var i=this,n=this.state;ae>n&&e(!0),e(),n>=ae&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ce)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ce|oe)))return!1;t++}return!0},recognize:function(t){var e=a({},t);return u(this.options.enable,[this,e])?(this.state&(le|he|ce)&&(this.state=oe),this.state=this.process(e),void(this.state&(se|re|ae|he)&&this.tryEmit(e))):(this.reset(),void(this.state=ce))},process:function(t){},getTouchAction:function(){},reset:function(){}},h(Z,U,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(se|re),o=this.attrTest(t);return n&&(i&Dt||!o)?e|he:n||o?i&Tt?e|ae:e&se?e|re:se:ce}}),h(Q,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ot},getTouchAction:function(){var t=this.options.direction,e=[];return t&Ht&&e.push(ne),t&It&&e.push(ie),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,o=t.direction,s=t.deltaX,r=t.deltaY;return o&e.direction||(e.direction&Ht?(o=0===s?Et:0>s?Rt:At,i=s!=this.pX,n=Math.abs(t.deltaX)):(o=0===r?Et:0>r?Mt:Pt,i=r!=this.pY,n=Math.abs(t.deltaY))),t.direction=o,i&&n>e.threshold&&o&e.direction},attrTest:function(t){return Z.prototype.attrTest.call(this,t)&&(this.state&se||!(this.state&se)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=X(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),h(J,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&se)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),h(tt,U,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Jt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(Tt|Dt)&&!s)this.reset();else if(t.eventType&kt)this.reset(),this._timer=o(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&Tt)return le;return ce},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&Tt?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=pt(),this.manager.emit(this.options.event,this._input)))}}),h(et,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&se)}}),h(it,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ht|It,pointers:1},getTouchAction:function(){return Q.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(Ht|It)?e=t.velocity:i&Ht?e=t.velocityX:i&It&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&dt(e)>this.options.velocity&&t.eventType&Tt},emit:function(t){var e=X(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(nt,U,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[te]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),t.eventType&kt&&0===this.count)return this.failTimeout();if(n&&s&&i){if(t.eventType!=Tt)return this.failTimeout();var r=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||I(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&r?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=o(function(){this.state=le,this.tryEmit()},e.interval,this),se):le}return ce},failTimeout:function(){return this._timer=o(function(){this.state=ce},this.options.interval,this),ce},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ot.VERSION="2.0.4",ot.defaults={domEvents:!1,touchAction:Qt,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[J,{enable:!1},["rotate"]],[it,{direction:Ht}],[Q,{direction:Ht},["swipe"]],[nt],[nt,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ue=1,de=2;st.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?de:ue},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&le)&&(o=e.curRecognizer=null);for(var s=0;s<n.length;)i=n[s],e.stopped===de||o&&i!=o&&!i.canRecognizeWith(o)?i.reset():i.recognize(t),!o&&i.state&(se|re|ae)&&(o=e.curRecognizer=i),s++}},get:function(t){if(t instanceof U)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(s(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(s(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return r(v(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return r(v(t),function(t){e?i[t].splice(y(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&at(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&rt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(ot,{INPUT_START:kt,INPUT_MOVE:St,INPUT_END:Tt,INPUT_CANCEL:Dt,STATE_POSSIBLE:oe,STATE_BEGAN:se,STATE_CHANGED:re,STATE_ENDED:ae,STATE_RECOGNIZED:le,STATE_CANCELLED:he,STATE_FAILED:ce,DIRECTION_NONE:Et,DIRECTION_LEFT:Rt,DIRECTION_RIGHT:At,DIRECTION_UP:Mt,DIRECTION_DOWN:Pt,DIRECTION_HORIZONTAL:Ht,DIRECTION_VERTICAL:It,DIRECTION_ALL:Ot,Manager:st,Input:k,TouchAction:V,TouchInput:B,MouseInput:z,PointerEventInput:F,TouchMouseInput:Y,SingleTouchInput:W,Recognizer:U,AttrRecognizer:Z,Tap:nt,Pan:Q,Swipe:it,Pinch:J,Rotate:et,Press:tt,on:p,off:f,each:r,merge:l,extend:a,inherit:h,bindFn:c,prefixed:C}),typeof define==ct&&define.amd?define(function(){return ot}):"undefined"!=typeof module&&module.exports?module.exports=ot:t[i]=ot}(window,document,"Hammer"),function(t){var e={init:function(e){var i=t(this);setTimeout(function(){i.click()},300)}};t.fn.hjq_ajax_load=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_ajax_load"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(i){var n=t(this);n.find("input[type=text]:not(.date)").focus(e.focus),n.find("input[type=text]").on("changeDate",e.submitClosestForm),n.find("input[type=text]:not(.date)").blur(e.blur),n.find("button[type=submit], input[type=submit]").mousedown(e.cancelBlur),n.find("button[type=submit], input[type=submit]").click(e.cancelBlur),n.find(".autosubmit-toggle").click(e.toggle),n.find("form.autosubmit").submit(e.submit)},focus:function(i){t(this).data("originalValue",this.value),t(this).on("changeDate",e.submitClosestForm)},cancelBlur:function(){var e=t(this).closest("div.autosubmit");e.find("input[type=text]").off("blur")},blur:function(i){var n=t(this),o=n.data("originalValue");o!==this.value?e.submitClosestForm.call(this):e.toggle.call(this)},toggle:function(){var e=t(this).closest("div.autosubmit"),i=e.find("form.autosubmit");e.find(".autosubmit-toggle").each(function(){t(this).toggle(),i.toggle(),i.find("input[type=text]:visible").first().focus()})},submit:function(i){var n=t(this);t(this).closest("div.autosubmit").find(".autosubmit-toggle").text("Saving..."),n.data("submitted",!0),n.find("input[type=text]").blur(e.blur),t(this).find(".bootstrap-datepicker").off("changeDate")},submitClosestForm:function(){var e=t(this).closest("form.autosubmit");e.data("submitted")||(e.data("submitted",!0),e.submit())}};t.fn.hjq_autosubmit=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_click_editor"):e.init.apply(this,arguments)}}(jQuery),function($){var rtime=new Date(1,1,2e3,12,0,0),timeout=!1,delta=200,resize=function(){rtime=new Date,timeout===!1&&(timeout=!0,setTimeout(methods.redraw,delta))},methods={init:function(annotations){$(this).click(methods.click),$(window).unbind("resize",resize),$(window).bind("resize",resize);var options=annotations.morris_attrs,functions=["hoverCallback","dateFormat","xLabelFormat","yLabelFormat"];for(i in functions){var func=functions[i];options[func]&&"string"==typeof options[func]&&(options[func]=eval(options[func]))}var func={line:Morris.Line,area:Morris.Area,bar:Morris.Bar,donut:Morris.Donut}[annotations.type],chart=func(options);$(this).data("chart",chart)},redraw:function(){delta>new Date-rtime?setTimeout(methods.redraw,delta):(timeout=!1,$(".chart").each(function(){$(this).data("chart")&&$(this).data("chart").redraw()}))}};$.fn.hjq_chart=function(t){return methods[t]?methods[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void $.error("Method "+t+" does not exist on hjq_chart"):methods.init.apply(this,arguments)}}(jQuery),function(t){Morris.Hover.prototype.moveTo=function(e,i,n){var o=t.call(this,e,i,n);return o.css({top:"auto",bottom:"-90px"}),o}}(Morris.Hover.prototype.moveTo),function(t){var e={init:function(t){e.colorize.call(this,t.options.tpc)},colorize:function(t){isNaN(t)||""==t||this.heatcolor(function(){return t>100?100:50>t?50:t},{maxval:100,minval:50,colorStyle:"greentored",lightness:.4})}};t.fn.hjq_color_tpc=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_color_tpc"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(t){var e=this.hjq("getOptions",t);this.sortable(e).disableSelection()}};t.fn.hjq_connectedsortable=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_click_editor"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(e){var i=t(this),n=t(e.source);i.html(n.html())}};t.fn.hjq_copy_content=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_copy_content"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(e){var i=e.left,n=e.top,o=e.size;t.isNumeric(i)&&(i+="px"),t.isNumeric(n)&&(n+="px"),t.isNumeric(o)&&(o+="px"),t(this).css({left:i,top:n,width:o,height:o})}};t.fn.hjq_dot=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_dot"):e.init.apply(this,arguments)}}(jQuery),function(t){var e=5,i={init:function(e){var n=t(this),o=n.find("input"),s=n.find("a");o.change(i.fileSelect),n.on("dragenter",i.noopHandler).on("dragexit",i.noopHandler).on("dragover",i.noopHandler).on("drop",i.drop),s.click(function(){o.click()})},noopHandler:function(t){var e=t.originalEvent;e.stopPropagation(),e.preventDefault()},drop:function(t){var e=t.originalEvent;e.stopPropagation(),e.preventDefault();var n=e.dataTransfer.files,o=n.length;o>0&&i.handleFile.call(this,n[0])},handleFile:function(e){var n=t(this);if(!e){var o=n.find(".preview img");return void o.attr("src",o.data("originalSrc"))}if(e.type.match("image.*")){reader=new FileReader,reader.onload=function(t){return function(t){var e=n.find(".preview img");e.data("originalSrc")||e.data("originalSrc",e.attr("src")),e.attr("src",t.target.result),e.removeAttr("srcset"),null==n.find(".placeholder").data("orig-html")&&n.find(".placeholder").data("orig-html",n.find(".placeholder").html()),n.find(".placeholder").html('<div class="progress"><div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%">0%</div></div>')}}(e),reader.readAsDataURL(e);var s=n.closest("form"),r=function(t,e,i){n.find(".placeholder").html(n.find(".placeholder").data("orig-html"))},a=n.hjq("buildRequest",{type:"put",attrs:{ajax:!0,complete:i.complete,error:r}});a.data["user[image]"]=e,s.find(".hidden-fields input").each(function(){a.data[t(this).attr("name")]=t(this).attr("value")});var l=new FormData;for(var h in a.data)l.append(h,a.data[h]);a.data=l,a.processData=!1,a.contentType=!1,a.xhr=function(){var t=new window.XMLHttpRequest;return t.upload&&(t.upload.onprogress=function(t){var e=0,i=t.loaded||t.position,o=t.total;t.lengthComputable&&(e=Math.ceil(i/o*100)),100==e?n.find(".placeholder").html('<div class="ic-spinner ic-pulse ic-3x ic-center"></div>'):n.find(".placeholder .progress-bar").attr("aria-value-now",e).css("width",e+"%").text(e+"%")},t.onerror=function(t){alert(t)}),t},t.ajax(s.attr("action"),a)}},fileSelect:function(t){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var e=t.originalEvent.target.files[0];i.handleFile.call(this.closest(".image-input"),e)}},complete:function(){window.init_papercrop(),e=5,setTimeout(i.setSelect,50)},setSelect:function(){try{!window.jcrop_api&&e>0&&(e--,setTimeout(i.setSelect,50));var t=window.jcrop_api.getBounds(),n=t[0]/t[1];n>1?window.jcrop_api.setSelect([(t[0]-t[1])/2,0,t[1],t[1]]):window.jcrop_api.setSelect([0,(t[1]-t[0])/2,t[0],t[0]])}catch(o){e>0&&(e--,setTimeout(i.setSelect,50))}}};t.fn.hjq_image_input=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on hjq_image_input"):i.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(e){var i=t(this);i.click(function(){i.toggle(),i.nextAll(".in-place-input").toggle().nextAll(".in-place-btn").toggleClass("hide"),i.nextAll("textarea,input").first().focus()})}};t.fn.hjq_my_click_editor=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_my_click_editor"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={es:{monthsFull:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],weekdaysFull:["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],weekdaysShort:["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],today:"hoy",clear:"borrar",firstDay:1},en:{}},i={init:function(n){var o=t(this),s=o.data("date-language"),r=o.data("date-week-start"),a=o.data("date-format"),l=e[s],h={format:a.replace("/yyyy",""),formatSubmit:a,hiddenName:!0,firstDay:r,onClose:i.triggerChange,container:"body",klass:{picker:"dpicker"}};jQuery.extend(l,h),t(this).pickadate(l)},triggerChange:function(t){this.$node.trigger("changeDate"),console.log("Trigger changeDate")},languages:function(){return e}};t.fn.hjq_pickdate=function(e){return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on hjq_pickdate"):i.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(t){this.click(e.click)},click:function(e){var i=t(this),n=i.attr("href"),o=i.attr("data-target");return t.get(n,function(e){t(o).html(e)}),!1}};t.fn.hjq_ra=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_ra"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(i){t(this).click(e.click)},click:function(e){var i=t(this),n=i.data("rapid").rmodal,o=n.target_id,s=n.url,r=t("#"+o);return(0==r.length||0==r.children().length)&&(0==r.length&&(i.after('<div class="modal" data-rapid="{&quot;modal&quot;:{}}" id="'+o+'" role="dialog" tabindex="-1"><div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div class="ic-spinner ic-pulse ic-3x ic-center"></div></div></div></div></div>'),r=t("#"+o)),0==r.find(".modal-content").length&&r.html('<div class="modal-dialog"><div class="modal-content"><div class="modal-body"><div class="ic-spinner ic-pulse ic-3x ic-center"></div></div></div></div>'),r.find(".modal-content").load(s,{page_path:window.location.pathname},function(){var e=t(this);e.hjq("init"),e.trigger("rapid:ajax:success",[e]),e.trigger("rapid:ajax:complete",[e])})),r.modal("show"),r.on("hide",function(e){t("body").removeClass("modal-open")}),!1}};t.fn.hjq_rmodal=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_rmodal"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(e){var i=t.extend({value:parseFloat(this.val())},this.hjq("getOptions",e));this.bootstrapSlider(i);for(var n in e.events)this.on(n,this.hjq("createFunction",e.events[n]));this.trigger("create")}};t.fn.hjq_slider=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_slider"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(e){new MyTextileEditor(t(this).attr("id"),"extended"),t(this).is(":hidden")&&(t(this).prev(".textile-toolbar").hide(),t(this).focus(function(){t(this).prev(".textile-toolbar").show()}))}};t.fn.hjq_textile_editor=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_textile_editor"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(t){var i=this.hjq("getOptions",t);this.on("update",i.update),e.update.call(this,i.percent,i.href)},update:function(t,e){this.timer(t,e),this.trigger("update")}};t.fn.hjq_timer=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_timer"):e.init.apply(this,arguments)}}(jQuery),function(t){var e={init:function(i){t("#tutorial-close").click(function(){t("#finish-tutorial").submit();var e=t("#nav-tutorial a").offset(),i=t("#cms");i.css({position:"absolute",overflow:"hidden",top:i.offset().top,left:i.offset().left}).animate({top:e.top-60,width:0,height:0,left:e.left},{duration:1500,easing:"easeOutExpo"})}),e.update.call(this)},update:function(){var e=t("#tutorial [data-tutorial]");if(1==e.length){var i=e.data("tutorial-steps");t(i).addClass("done");var n=e.data("tutorial");if(n.length>0){var i="#"+n+" a";t(i).hjq_ra&&t(i).hjq_ra("click")}}}};t.fn.hjq_tutorial=function(i){return e[i]?e[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void t.error("Method "+i+" does not exist on hjq_tutorial"):e.init.apply(this,arguments)}}(jQuery),/**
 * Copyright (C) 2012 Chris Wharton (chris@weare2ndfloor.com)
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * THIS SOFTWARE AND DOCUMENTATION IS PROVIDED "AS IS," AND COPYRIGHT
 * HOLDERS MAKE NO REPRESENTATIONS OR WARRANTIES, EXPRESS OR IMPLIED,
 * INCLUDING BUT NOT LIMITED TO, WARRANTIES OF MERCHANTABILITY OR
 * FITNESS FOR ANY PARTICULAR PURPOSE OR THAT THE USE OF THE SOFTWARE
 * OR DOCUMENTATION WILL NOT INFRINGE ANY THIRD PARTY PATENTS,
 * COPYRIGHTS, TRADEMARKS OR OTHER RIGHTS.COPYRIGHT HOLDERS WILL NOT
 * BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL OR CONSEQUENTIAL
 * DAMAGES ARISING OUT OF ANY USE OF THE SOFTWARE OR DOCUMENTATION.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program. If not, see <http://gnu.org/licenses/>.
 
 Documentation available at http://cookiecuttr.com
 
 */
function(t){t.cookieCuttr=function(e){var i={cookieCutter:!1,cookieCutterDeclineOnly:!1,cookieAnalytics:!0,cookieDeclineButton:!1,cookieAcceptButton:!0,cookieResetButton:!1,cookieOverlayEnabled:!1,cookiePolicyLink:"/privacy-policy/",cookieMessage:'We use cookies on this website, you can <a href="{{cookiePolicyLink}}" title="read about our cookies">read about them here</a>. To use the website as intended please...',cookieAnalyticsMessage:"We use cookies, just to track visits to our website, we store no personal details.",cookieErrorMessage:"We're sorry, this feature places cookies in your browser and has been disabled. <br>To continue using this functionality, please",cookieWhatAreTheyLink:"http://www.allaboutcookies.org/",cookieDisable:"",cookieExpires:365,cookieAcceptButtonText:"ACCEPT COOKIES",cookieDeclineButtonText:"DECLINE COOKIES",cookieResetButtonText:"RESET COOKIES FOR THIS WEBSITE",cookieWhatAreLinkText:"What are cookies?",cookieNotificationLocationBottom:!1,cookiePolicyPage:!1,cookiePolicyPageMessage:"Please read the information below and then choose from the following options",cookieDiscreetLink:!1,cookieDiscreetReset:!1,cookieDiscreetLinkText:"Cookies?",cookieDiscreetPosition:"topleft",cookieNoMessage:!1,cookieDomain:""},e=t.extend(i,e),n=i.cookieMessage.replace("{{cookiePolicyLink}}",i.cookiePolicyLink);i.cookieMessage='We use cookies on this website, you can <a href="'+i.cookiePolicyLink+'" title="read about our cookies">read about them here</a>. To use the website as intended please...';var o=e.cookiePolicyLink,s=e.cookieCutter,r=e.cookieCutterDeclineOnly,a=e.cookieAnalytics,l=e.cookieDeclineButton,h=e.cookieAcceptButton,c=e.cookieResetButton,u=e.cookieOverlayEnabled,d=(e.cookiePolicyLink,n),p=e.cookieAnalyticsMessage,f=e.cookieErrorMessage,m=e.cookieDisable,g=e.cookieWhatAreTheyLink,v=e.cookieExpires,y=e.cookieAcceptButtonText,w=e.cookieDeclineButtonText,b=e.cookieResetButtonText,C=e.cookieWhatAreLinkText,_=e.cookieNotificationLocationBottom,x=e.cookiePolicyPage,k=e.cookiePolicyPageMessage,S=e.cookieDiscreetLink,T=e.cookieDiscreetReset,D=e.cookieDiscreetLinkText,E=e.cookieDiscreetPosition,R=e.cookieNoMessage,A="cc_cookie_accept"==t.cookie("cc_cookie_accept");t.cookieAccepted=function(){return A};var M="cc_cookie_decline"==t.cookie("cc_cookie_decline");if(t.cookieDeclined=function(){return M},h)var P=' <a href="#accept" class="cc-cookie-accept">'+y+"</a> ";else var P="";if(l)var H=' <a href="#decline" class="cc-cookie-decline">'+w+"</a> ";else var H="";if(u)var I="cc-overlay";else var I="";if(_||"bottomright"==E||"bottomleft"==E)var O=!0;else var O=!1;if(A||M)if(c&&T)O?t("body").append('<div class="cc-cookies cc-discreet"><a class="cc-cookie-reset" href="#" title="'+b+'">'+b+"</a></div>"):t("body").prepend('<div class="cc-cookies cc-discreet"><a class="cc-cookie-reset" href="#" title="'+b+'">'+b+"</a></div>"),"topleft"==E&&(t("div.cc-cookies").css("top","0"),t("div.cc-cookies").css("left","0")),"topright"==E&&(t("div.cc-cookies").css("top","0"),t("div.cc-cookies").css("right","0")),"bottomleft"==E&&(t("div.cc-cookies").css("bottom","0"),t("div.cc-cookies").css("left","0")),"bottomright"==E&&(t("div.cc-cookies").css("bottom","0"),t("div.cc-cookies").css("right","0"));else if(c)O?t("body").append('<div class="cc-cookies"><a href="#" class="cc-cookie-reset">'+b+"</a></div>"):t("body").prepend('<div class="cc-cookies"><a href="#" class="cc-cookie-reset">'+b+"</a></div>");else var c="";else R&&!x||(S&&!x?(O?t("body").append('<div class="cc-cookies cc-discreet"><a href="'+o+'" title="'+D+'">'+D+"</a></div>"):t("body").prepend('<div class="cc-cookies cc-discreet"><a href="'+o+'" title="'+D+'">'+D+"</a></div>"),"topleft"==E&&(t("div.cc-cookies").css("top","0"),t("div.cc-cookies").css("left","0")),"topright"==E&&(t("div.cc-cookies").css("top","0"),t("div.cc-cookies").css("right","0")),"bottomleft"==E&&(t("div.cc-cookies").css("bottom","0"),t("div.cc-cookies").css("left","0")),"bottomright"==E&&(t("div.cc-cookies").css("bottom","0"),t("div.cc-cookies").css("right","0"))):a&&(O?t("body").append('<div class="cc-cookies '+I+'">'+p+P+H+'<a href="'+g+'" title="Visit All about cookies (External link)">'+C+"</a></div>"):t("body").prepend('<div class="cc-cookies '+I+'">'+p+P+H+'<a href="'+g+'" title="Visit All about cookies (External link)">'+C+"</a></div>"))),x?O?t("body").append('<div class="cc-cookies '+I+'">'+k+'  <a href="#accept" class="cc-cookie-accept">'+y+'</a>  <a href="#decline" class="cc-cookie-decline">'+w+"</a> </div>"):t("body").prepend('<div class="cc-cookies '+I+'">'+k+'  <a href="#accept" class="cc-cookie-accept">'+y+'</a>  <a href="#decline" class="cc-cookie-decline">'+w+"</a> </div>"):a||S||(O?t("body").append('<div class="cc-cookies '+I+'">'+d+P+H+"</div>"):t("body").prepend('<div class="cc-cookies '+I+'">'+d+P+H+"</div>"));!s||r||!M&&A||t(m).html('<div class="cc-cookies-error">'+f+' <a href="#accept" class="cc-cookie-accept">'+y+"</a> </div>"),s&&r&&M&&t(m).html('<div class="cc-cookies-error">'+f+' <a href="#accept" class="cc-cookie-accept">'+y+"</a> </div>"),_&&!S&&(t("div.cc-cookies").css("top","auto"),t("div.cc-cookies").css("bottom","0")),_&&S&&x&&(t("div.cc-cookies").css("top","auto"),t("div.cc-cookies").css("bottom","0")),t(".cc-cookie-accept, .cc-cookie-decline").click(function(i){i.preventDefault(),t(this).is("[href$=#decline]")?(t.cookie("cc_cookie_accept",null,{path:"/"}),t.cookie("cc_cookie_decline","cc_cookie_decline",{expires:v,path:"/"}),e.cookieDomain&&(t.cookie("__utma",null,{domain:"."+e.cookieDomain,path:"/"}),t.cookie("__utmb",null,{domain:"."+e.cookieDomain,path:"/"}),t.cookie("__utmc",null,{domain:"."+e.cookieDomain,path:"/"}),t.cookie("__utmz",null,{domain:"."+e.cookieDomain,path:"/"}))):(t.cookie("cc_cookie_decline",null,{path:"/"}),t.cookie("cc_cookie_accept","cc_cookie_accept",{expires:v,path:"/"})),t(".cc-cookies").fadeOut(function(){location.reload()})}),t("a.cc-cookie-reset").click(function(e){e.preventDefault(),t.cookie("cc_cookie_accept",null,{path:"/"}),t.cookie("cc_cookie_decline",null,{path:"/"}),t(".cc-cookies").fadeOut(function(){location.reload()})}),t(".cc-cookies-error a.cc-cookie-accept").click(function(e){e.preventDefault(),t.cookie("cc_cookie_accept","cc_cookie_accept",{expires:v,path:"/"}),t.cookie("cc_cookie_decline",null,{path:"/"}),location.reload()})}}(jQuery),function(t){function e(t,e){return"function"==typeof t&&(e=t,t={}),"object"!=typeof t&&(t={}),"function"!=typeof e&&(e=function(){}),{options:t,callback:e}}var i=[];t.fn.toggleDimBackground=function(i,n){var o=e(i,n);i=o.options,n=o.callback,0==t(".dimbackground-curtain").length?this.dimBackground(i,n):t.undim(n)},t.fn.dimBackground=function(n,o){var s=e(n,o);n=s.options,o=s.callback,n=t.extend({},t.fn.dimBackground.defaults,n);var r=t('<div class="dimbackground-curtain"></div>');return t("body").on("keyup.undim.dimBackground",function(e){27==e.which&&t.undim(o)}),r.on("click.undim.dimBackground",function(e){t.undim(o)}),r.css({position:"fixed",left:0,top:0,width:"100%",height:"100%",background:"black",opacity:0,zIndex:n.curtainZIndex}),t("body").append(r),this.each(function(){var e=t(this),i=t.meta?t.extend({},n,e.data()):n;this._$curtain=r,this._originalZIndex=e.css("z-index"),("auto"==this._originalZIndex||this._originalZIndex<=i.curtainZIndex)&&e.css("z-index",i.curtainZIndex+1)}),r.stop().animate({opacity:n.darkness},n.fadeInDuration,o),i.push({$curtain:r,$nodes:this}),this},t.fn.undim=function(n,o){var s=e(n,o);n=s.options,o=s.callback,n=t.extend({},t.fn.dimBackground.defaults,n);var r,a=[];if(this.each(function(){var e=t(this);t.meta?t.extend({},n,e.data()):n;this._$curtain&&(r||(r=this._$curtain),"undefined"!=typeof this._originalPosition&&a.push([this,this._originalPosition,this._originalZIndex]),this._$curtain=void 0,this._originalPosition=void 0,this._originalZIndex=void 0)}),r){r.animate({opacity:0},n.fadeOutDuration,function(){for(var e=0;e<a.length;e++){var i=a[e][0],n=a[e][1],s=a[e][2];t(i).css({position:n,zIndex:s})}r.remove(),o()});for(var l,h=0;h<i.length;h++){var c=i[h];if(c.$curtain==r){l=h;break}}l&&(i=i.slice(0,h).concat(i.slice(h+1)))}return this},t.undim=function(t){function e(){n++,n==o&&t()}t="function"==typeof t?t:function(){},_dimmedNodes=i.slice();for(var n=0,o=_dimmedNodes.length,s=0;s<i.length;s++)_dimmedNodes[s].$nodes.undim(e);0==o&&t()},t.fn.dimBackground.defaults={darkness:.75,fadeInDuration:300,fadeOutDuration:300,curtainZIndex:999}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery","hammerjs"],t):"object"==typeof exports?t(require("jquery"),require("hammerjs")):t(jQuery,Hammer)}(function(t,e){function i(i,n){var o=t(i);o.data("hammer")||o.data("hammer",new e(o[0],n))}t.fn.hammer=function(t){return this.each(function(){i(this,t)})},e.Manager.prototype.emit=function(e){return function(i,n){e.call(this,i,n),t(this.element).trigger({type:i,gesture:n})}}(e.Manager.prototype.emit)}),/*
HeatColor, by Josh Nathanson
A plugin for jQuery
See copyright at end of file
Complete documentation at http://www.jnathanson.com/blog/client/jquery/heatcolor/index.cfm
*/
jQuery.fn.heatcolor=function(t,e){var i={elementFunction:function(){return jQuery(this)},minval:0,maxval:0,lightness:.75,colorStyle:"roygbiv",reverseOrder:!1};e&&jQuery.extend(i,e);var n={findcolor:function(t,e,n){var o=(t-e)/(n-e),s="roygbiv"==i.colorStyle?.5*o+1.7*(1-o):o+.2+5.5*(1-o),r=128,a=2*Math.PI,l=s+o*a;l="roygbiv"!=i.colorStyle?-l:l;var h=this.process(Math.floor((Math.cos(l)+1)*r)),c=this.process(Math.floor((Math.cos(l+Math.PI/2)+1)*r)),u=this.process(Math.floor((Math.cos(l+Math.PI)+1)*r));return"#"+h+c+u},process:function(t){var e=Math.floor(t+i.lightness*(256-t)),n=e.toString(16);return n=1==n.length?"0"+n:n},setMaxAndMin:function(e){var n=[];e.each(function(){n.push(t.apply(jQuery(this)))}),n=n.sort(function(t,e){return t-e}),i.maxval=i.reverseOrder?n[0]:n[n.length-1],i.minval=i.reverseOrder?n[n.length-1]:n[0]}};if(i.minval||i.maxval){if(i.reverseOrder){var o=i.minval;i.minval=i.maxval,i.maxval=o}}else n.setMaxAndMin(jQuery(this));return jQuery(this).each(function(){var e=jQuery(this),o=t.apply(e),s=n.findcolor(o,i.minval,i.maxval),r=i.elementFunction.apply(e);1==r[0].nodeType?r.css("background-color",s+" !important"):3==r[0].nodeType&&r.css("color",s+" !important")}),this},$.fn.timer=function(t,e){var i='<div class="percent"></div>';e&&(i='<a href="'+e+'" class="percent"></a>'),this.html('<div class="slice'+(t>50?" gt50":"")+'"><div class="pie"></div><div class="pie fill"></div></div><div class="bg"></div>'+i);$(this).heatcolor(function(){return t},{maxval:100,minval:0,colorStyle:"greentored",lightness:.4,elementFunction:function(){return $(this).children(".percent")}}),$(this).children(".percent").each(function(){var t=$(this).css("background-color");$(this).css("background-color","transparent"),$(this).parent().find(".pie").css("border-color",t)}),this.find(".percent").html(Math.round(t)+"%"),this.show();var n=3.6*t,o=Math.max(0,2*(t-50)/50),s=2*Math.min(t,50)/50,r=Math.min(180,n);t>50&&($(this).find(".slice").css({clip:"rect(0, 1em, 1em, 0)"}),$(this).find(".slice .pie.fill").css({"-webkit-transition":"transform "+o+"s linear 2s, width 0s linear 2s","-moz-transition":"transform "+o+"s linear 2s, width 0s linear 2s","-o-transition":"transform "+o+"s linear 2s, width 0s linear 2s",transition:"transform "+o+"s linear 2s, width 0s linear 2s"}),$(this).find(".slice .pie.fill").css({width:"1em","-moz-transform":"rotate("+n+"deg)","-webkit-transform":"rotate("+n+"deg)","-o-transform":"rotate("+n+"deg)",transform:"rotate("+n+"deg)"})),$(this).find(".slice .pie:not(.fill)").css({"-webkit-transition":"transform "+s+"s linear","-moz-transition":"transform "+s+"s linear","-o-transition":"transform "+s+"s linear",transition:"transform "+s+"s linear"}),$(this).find(".slice .pie:not(.fill)").css({"-moz-transform":"rotate("+r+"deg)","-webkit-transform":"rotate("+r+"deg)","-o-transform":"rotate("+r+"deg)",transform:"rotate("+r+"deg)"})},/*!
 * Pikaday
 *
 * Copyright  2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
function(t,e){"use strict";var i;if("object"==typeof exports){try{i=require("moment")}catch(n){}module.exports=e(i)}else"function"==typeof define&&define.amd?define(function(t){var n="moment";try{i=t(n)}catch(o){}return e(i)}):t.Pikaday=e(t.moment)}(this,function(t){"use strict";var e="function"==typeof t,i=!!window.addEventListener,n=window.document,o=window.setTimeout,s=function(t,e,n,o){i?t.addEventListener(e,n,!!o):t.attachEvent("on"+e,n)},r=function(t,e,n,o){i?t.removeEventListener(e,n,!!o):t.detachEvent("on"+e,n)},a=function(t,e,i){var o;n.createEvent?(o=n.createEvent("HTMLEvents"),o.initEvent(e,!0,!1),o=w(o,i),t.dispatchEvent(o)):n.createEventObject&&(o=n.createEventObject(),o=w(o,i),t.fireEvent("on"+e,o))},l=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},h=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},c=function(t,e){h(t,e)||(t.className=""===t.className?e:t.className+" "+e)},u=function(t,e){t.className=l((" "+t.className+" ").replace(" "+e+" "," "))},d=function(t){return/Array/.test(Object.prototype.toString.call(t))},p=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},f=function(t){var e=t.getDay();return 0===e||6===e},m=function(t){return t%4===0&&t%100!==0||t%400===0},g=function(t,e){return[31,m(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},v=function(t){p(t)&&t.setHours(0,0,0,0)},y=function(t,e){return t.getTime()===e.getTime()},w=function(t,e,i){var n,o;for(n in e)o=void 0!==t[n],o&&"object"==typeof e[n]&&null!==e[n]&&void 0===e[n].nodeName?p(e[n])?i&&(t[n]=new Date(e[n].getTime())):d(e[n])?i&&(t[n]=e[n].slice(0)):t[n]=w({},e[n],i):(i||!o)&&(t[n]=e[n]);return t},b=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},C={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},_=function(t,e,i){for(e+=t.firstDay;e>=7;)e-=7;return i?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},x=function(t){var e=[];if(t.isEmpty){if(!t.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';e.push("is-outside-current-month")}return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&e.push("is-selected"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},k=function(t,e,i){var n=new Date(i,0,1),o=Math.ceil(((new Date(i,e,t)-n)/864e5+n.getDay()+1)/7);return'<td class="pika-week">'+o+"</td>"},S=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},T=function(t){return"<tbody>"+t.join("")+"</tbody>"},D=function(t){var e,i=[];for(t.showWeekNumber&&i.push("<th></th>"),e=0;7>e;e++)i.push('<th scope="col"><abbr title="'+_(t,e)+'">'+_(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?i.reverse():i).join("")+"</thead>"},E=function(t,e,i,n,o){var s,r,a,l,h,c=t._o,u=i===c.minYear,p=i===c.maxYear,f='<div class="pika-title">',m=!0,g=!0;for(a=[],s=0;12>s;s++)a.push('<option value="'+(i===o?s-e:12+s-e)+'"'+(s===n?" selected":"")+(u&&s<c.minMonth||p&&s>c.maxMonth?"disabled":"")+">"+c.i18n.months[s]+"</option>");for(l='<div class="pika-label">'+c.i18n.months[n]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",d(c.yearRange)?(s=c.yearRange[0],r=c.yearRange[1]+1):(s=i-c.yearRange,r=1+i+c.yearRange),a=[];r>s&&s<=c.maxYear;s++)s>=c.minYear&&a.push('<option value="'+s+'"'+(s===i?" selected":"")+">"+s+"</option>");return h='<div class="pika-label">'+i+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",f+=c.showMonthAfterYear?h+l:l+h,u&&(0===n||c.minMonth>=n)&&(m=!1),p&&(11===n||c.maxMonth<=n)&&(g=!1),0===e&&(f+='<button class="pika-prev'+(m?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(f+='<button class="pika-next'+(g?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),f+="</div>"},R=function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+D(t)+T(e)+"</table>"},A=function(r){var a=this,l=a.config(r);a._onMouseDown=function(t){if(a._v){t=t||window.event;var e=t.target||t.srcElement;if(e)if(h(e,"is-disabled")||(h(e,"pika-button")&&!h(e,"is-empty")?(a.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),l.bound&&o(function(){a.hide(),l.field&&l.field.blur()},100)):h(e,"pika-prev")?a.prevMonth():h(e,"pika-next")&&a.nextMonth()),h(e,"pika-select"))a._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}},a._onChange=function(t){t=t||window.event;var e=t.target||t.srcElement;e&&(h(e,"pika-select-month")?a.gotoMonth(e.value):h(e,"pika-select-year")&&a.gotoYear(e.value))},a._onInputChange=function(i){var n;i.firedBy!==a&&(e?(n=t(l.field.value,l.format,l.formatStrict),n=n&&n.isValid()?n.toDate():null):n=new Date(Date.parse(l.field.value)),p(n)&&a.setDate(n),a._v||a.show())},a._onInputFocus=function(){a.show()},a._onInputClick=function(){a.show()},a._onInputBlur=function(){var t=n.activeElement;do if(h(t,"pika-single"))return;while(t=t.parentNode);a._c||(a._b=o(function(){a.hide()},50)),a._c=!1},a._onClick=function(t){t=t||window.event;var e=t.target||t.srcElement,n=e;if(e){!i&&h(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),s(e,"change",a._onChange)));do if(h(n,"pika-single")||n===l.trigger)return;while(n=n.parentNode);a._v&&e!==l.trigger&&n!==l.trigger&&a.hide()}},a.el=n.createElement("div"),a.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),s(a.el,"mousedown",a._onMouseDown,!0),s(a.el,"touchend",a._onMouseDown,!0),s(a.el,"change",a._onChange),l.field&&(l.container?l.container.appendChild(a.el):l.bound?n.body.appendChild(a.el):l.field.parentNode.insertBefore(a.el,l.field.nextSibling),s(l.field,"change",a._onInputChange),l.defaultDate||(e&&l.field.value?l.defaultDate=t(l.field.value,l.format).toDate():l.defaultDate=new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var c=l.defaultDate;p(c)?l.setDefaultDate?a.setDate(c,!0):a.gotoDate(c):a.gotoDate(new Date),l.bound?(this.hide(),a.el.className+=" is-bound",s(l.trigger,"click",a._onInputClick),s(l.trigger,"focus",a._onInputFocus),s(l.trigger,"blur",a._onInputBlur)):this.show()};return A.prototype={config:function(t){this._o||(this._o=w({},C,!0));var e=w(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var i=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=i>4?4:i,p(e.minDate)||(e.minDate=!1),p(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&this.setMaxDate(e.maxDate),d(e.yearRange)){var n=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||n,e.yearRange[1]=parseInt(e.yearRange[1],10)||n}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||C.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(i){return p(this._d)?e?t(this._d).format(i||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(i,n){e&&t.isMoment(i)&&this.setDate(i.toDate(),n)},getDate:function(){return p(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",a(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),p(t)){var i=this._o.minDate,n=this._o.maxDate;p(i)&&i>t?t=i:p(n)&&t>n&&(t=n),this._d=new Date(t.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),a(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(p(t)){if(this.calendars){var i=new Date(this.calendars[0].year,this.calendars[0].month,1),n=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),o=t.getTime();n.setMonth(n.getMonth()+1),n.setDate(n.getDate()-1),e=o<i.getTime()||n.getTime()<o}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=b({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){v(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth(),this.draw()},setMaxDate:function(t){v(t),this._o.maxDate=t,this._o.maxYear=t.getFullYear(),this._o.maxMonth=t.getMonth(),this.draw()},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e=this._o,i=e.minYear,n=e.maxYear,s=e.minMonth,r=e.maxMonth,a="";this._y<=i&&(this._y=i,!isNaN(s)&&this._m<s&&(this._m=s)),this._y>=n&&(this._y=n,!isNaN(r)&&this._m>r&&(this._m=r));for(var l=0;l<e.numberOfMonths;l++)a+='<div class="pika-lendar">'+E(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=a,e.bound&&"hidden"!==e.field.type&&o(function(){e.trigger.focus()},1),"function"==typeof this._o.onDraw){var h=this;o(function(){h._o.onDraw.call(h)},0)}}},adjustPosition:function(){var t,e,i,o,s,r,a,l,h,c;if(!this._o.container){if(this.el.style.position="absolute",t=this._o.trigger,e=t,i=this.el.offsetWidth,o=this.el.offsetHeight,s=window.innerWidth||n.documentElement.clientWidth,r=window.innerHeight||n.documentElement.clientHeight,a=window.pageYOffset||n.body.scrollTop||n.documentElement.scrollTop,"function"==typeof t.getBoundingClientRect)c=t.getBoundingClientRect(),l=c.left+window.pageXOffset,h=c.bottom+window.pageYOffset;else for(l=e.offsetLeft,h=e.offsetTop+e.offsetHeight;e=e.offsetParent;)l+=e.offsetLeft,h+=e.offsetTop;(this._o.reposition&&l+i>s||this._o.position.indexOf("right")>-1&&l-i+t.offsetWidth>0)&&(l=l-i+t.offsetWidth),(this._o.reposition&&h+o>r+a||this._o.position.indexOf("top")>-1&&h-o-t.offsetHeight>0)&&(h=h-o-t.offsetHeight),this.el.style.left=l+"px",this.el.style.top=h+"px"}},render:function(t,e){var i=this._o,n=new Date,o=g(t,e),s=new Date(t,e,1).getDay(),r=[],a=[];v(n),i.firstDay>0&&(s-=i.firstDay,0>s&&(s+=7));for(var l=0===e?11:e-1,h=11===e?0:e+1,c=0===e?t-1:t,u=11===e?t+1:t,d=g(c,l),m=o+s,w=m;w>7;)w-=7;m+=7-w;for(var b=0,C=0;m>b;b++){var _=new Date(t,e,1+(b-s)),T=p(this._d)?y(_,this._d):!1,D=y(_,n),E=s>b||b>=o+s,A=1+(b-s),M=e,P=t,H=i.startRange&&y(i.startRange,_),I=i.endRange&&y(i.endRange,_),O=i.startRange&&i.endRange&&i.startRange<_&&_<i.endRange,N=i.minDate&&_<i.minDate||i.maxDate&&_>i.maxDate||i.disableWeekends&&f(_)||i.disableDayFn&&i.disableDayFn(_);E&&(s>b?(A=d+A,M=l,P=c):(A-=o,M=h,P=u));var L={day:A,month:M,year:P,isSelected:T,isToday:D,isDisabled:N,isEmpty:E,isStartRange:H,isEndRange:I,isInRange:O,showDaysInNextAndPreviousMonths:i.showDaysInNextAndPreviousMonths};a.push(x(L)),7===++C&&(i.showWeekNumber&&a.unshift(k(b-s,e,t)),r.push(S(a,i.isRTL)),a=[],C=0)}return R(i,r)},isVisible:function(){return this._v},show:function(){this._v||(u(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(s(n,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;t!==!1&&(this._o.bound&&r(n,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",c(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),r(this.el,"mousedown",this._onMouseDown,!0),r(this.el,"touchend",this._onMouseDown,!0),r(this.el,"change",this._onChange),this._o.field&&(r(this._o.field,"change",this._onInputChange),this._o.bound&&(r(this._o.trigger,"click",this._onInputClick),r(this._o.trigger,"focus",this._onInputFocus),r(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},A}),/*!
 * pickadate.js v3.5.0, 2014/04/13
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
function(t){"function"==typeof define&&define.amd?define("picker",["jquery"],t):this.Picker=t(jQuery)}(function(t){function e(s,r,a,c){function u(){return e._.node("div",e._.node("div",e._.node("div",e._.node("div",_.component.nodes(v.open),w.box),w.wrap),w.frame),w.holder)}function d(){b.data(r,_).addClass(w.input).val(b.data("value")?_.get("select",y.format):s.value).on("focus."+v.id+" click."+v.id,m),y.editable||b.on("keydown."+v.id,function(t){var e=t.keyCode,i=/^(8|46)$/.test(e);return 27==e?(_.close(),!1):void((32==e||i||!v.open&&_.component.key[e])&&(t.preventDefault(),t.stopPropagation(),i?_.clear().close():_.open()))}),o(s,{haspopup:!0,expanded:!1,readonly:!1,owns:s.id+"_root"+(_._hidden?" "+_._hidden.id:"")})}function p(){_.$root.on({focusin:function(t){_.$root.removeClass(w.focused),t.stopPropagation()},"mousedown click":function(e){var i=e.target;i!=_.$root.children()[0]&&(e.stopPropagation(),"mousedown"!=e.type||t(i).is(":input")||"OPTION"==i.nodeName||(e.preventDefault(),s.focus()))}}).on("click","[data-pick], [data-nav], [data-clear]",function(){var i=t(this),n=i.data(),o=i.hasClass(w.navDisabled)||i.hasClass(w.disabled),r=document.activeElement;r=r&&(r.type||r.href)&&r,(o||r&&!t.contains(_.$root[0],r))&&s.focus(),n.nav&&!o?_.set("highlight",_.component.item.highlight,{nav:n.nav}):e._.isInteger(n.pick)&&!o?_.set("select",n.pick).close(!0):n.clear&&_.clear().close(!0)}),o(_.$root[0],"hidden",!0)}function f(){var e,i;y.hiddenName===!0?(e=s.name+"_hidden",i=s.name,s.name=""):(i=["string"==typeof y.hiddenPrefix?y.hiddenPrefix:"","string"==typeof y.hiddenSuffix?y.hiddenSuffix:"_submit"],i=e=i[0]+s.name+i[1]),_._hidden=t('<input type=hidden name="'+i+'"id="'+e+'"'+(b.data("value")||s.value?' value="'+_.get("select",y.formatSubmit)+'"':"")+">")[0],b.on("change."+v.id,function(){_._hidden.value=s.value?_.get("select",y.formatSubmit):""}).after(_._hidden)}function m(t){t.stopPropagation(),"focus"==t.type&&_.$root.addClass(w.focused),_.open()}if(!s)return e;var g=!1,v={id:s.id||"P"+Math.abs(~~(Math.random()*new Date))},y=a?t.extend(!0,{},a.defaults,c):c||{},w=t.extend({},e.klasses(),y.klass),b=t(s),C=function(){return this.start()},_=C.prototype={constructor:C,$node:b,start:function(){return v&&v.start?_:(v.methods={},v.start=!0,v.open=!1,v.type=s.type,s.autofocus=s==document.activeElement,s.type="text",s.readOnly=!y.editable,s.id=s.id||v.id,_.component=new a(_,y),_.$root=t(e._.node("div",u(),w.picker,'id="'+s.id+'_root"')),p(),y.formatSubmit&&f(),d(),y.container?t(y.container).append(_.$root):b.after(_.$root),_.on({start:_.component.onStart,render:_.component.onRender,stop:_.component.onStop,open:_.component.onOpen,close:_.component.onClose,set:_.component.onSet}).on({start:y.onStart,render:y.onRender,stop:y.onStop,open:y.onOpen,close:y.onClose,set:y.onSet}),g=i(_.$root.children()[0]),s.autofocus&&_.open(),_.trigger("start").trigger("render"))},render:function(t){return t?_.$root.html(u()):_.$root.find("."+w.box).html(_.component.nodes(v.open)),_.trigger("render")},stop:function(){return v.start?(_.close(),_._hidden&&_._hidden.parentNode.removeChild(_._hidden),_.$root.remove(),b.removeClass(w.input).removeData(r),setTimeout(function(){b.off("."+v.id)},0),s.type=v.type,s.readOnly=!1,_.trigger("stop"),v.methods={},v.start=!1,_):_},open:function(i){return v.open?_:(b.addClass(w.active),o(s,"expanded",!0),setTimeout(function(){_.$root.addClass(w.opened),o(_.$root[0],"hidden",!1)},0),i!==!1&&(v.open=!0,g&&h.css("overflow","hidden").css("padding-right","+="+n()),b.trigger("focus"),l.on("click."+v.id+" focusin."+v.id,function(t){var e=t.target;e!=s&&e!=document&&3!=t.which&&_.close(e===_.$root.children()[0])}).on("keydown."+v.id,function(i){var n=i.keyCode,o=_.component.key[n],r=i.target;27==n?_.close(!0):r!=s||!o&&13!=n?t.contains(_.$root[0],r)&&13==n&&(i.preventDefault(),r.click()):(i.preventDefault(),o?e._.trigger(_.component.key.go,_,[e._.trigger(o)]):_.$root.find("."+w.highlighted).hasClass(w.disabled)||_.set("select",_.component.item.highlight).close())})),_.trigger("open"))},close:function(t){return t&&(b.off("focus."+v.id).trigger("focus"),setTimeout(function(){b.on("focus."+v.id,m)},0)),b.removeClass(w.active),o(s,"expanded",!1),setTimeout(function(){_.$root.removeClass(w.opened+" "+w.focused),o(_.$root[0],"hidden",!0)},0),v.open?(v.open=!1,g&&h.css("overflow","").css("padding-right","-="+n()),l.off("."+v.id),_.trigger("close")):_},clear:function(){return _.set("clear")},set:function(e,i,n){var o,s,r=t.isPlainObject(e),a=r?e:{};if(n=r&&t.isPlainObject(i)?i:n||{},e){r||(a[e]=i);for(o in a)s=a[o],o in _.component.item&&(void 0===s&&(s=null),_.component.set(o,s,n)),("select"==o||"clear"==o)&&b.val("clear"==o?"":_.get(o,y.format)).trigger("change");_.render()}return n.muted?_:_.trigger("set",a)},get:function(t,i){if(t=t||"value",null!=v[t])return v[t];if("value"==t)return s.value;if(t in _.component.item){if("string"==typeof i){var n=_.component.get(t);return n?e._.trigger(_.component.formats.toString,_.component,[i,n]):""}return _.component.get(t)}},on:function(e,i){var n,o,s=t.isPlainObject(e),r=s?e:{};if(e){s||(r[e]=i);for(n in r)o=r[n],v.methods[n]=v.methods[n]||[],v.methods[n].push(o)}return _},off:function(){var t,e,i=arguments;for(t=0,namesCount=i.length;t<namesCount;t+=1)e=i[t],e in v.methods&&delete v.methods[e];return _},trigger:function(t,i){var n=v.methods[t];return n&&n.map(function(t){e._.trigger(t,_,[i])}),_}};return new C}function i(t){var e,i="position";return t.currentStyle?e=t.currentStyle[i]:window.getComputedStyle&&(e=getComputedStyle(t)[i]),"fixed"==e}function n(){if(h.height()<=a.height())return 0;var e=t('<div style="visibility:hidden;width:100px" />').appendTo("body"),i=e[0].offsetWidth;e.css("overflow","scroll");var n=t('<div style="width:100%" />').appendTo(e),o=n[0].offsetWidth;return e.remove(),i-o}function o(e,i,n){if(t.isPlainObject(i))for(var o in i)s(e,o,i[o]);else s(e,i,n)}function s(t,e,i){t.setAttribute(("role"==e?"":"aria-")+e,i)}function r(e,i){t.isPlainObject(e)||(e={attribute:i}),i="";for(var n in e){var o=("role"==n?"":"aria-")+n,s=e[n];i+=null==s?"":o+'="'+e[n]+'"'}return i}var a=t(window),l=t(document),h=t(document.documentElement);return e.klasses=function(t){return t=t||"picker",{picker:t,opened:t+"--opened",focused:t+"--focused",input:t+"__input",active:t+"__input--active",holder:t+"__holder",frame:t+"__frame",wrap:t+"__wrap",box:t+"__box"}},e._={group:function(t){for(var i,n="",o=e._.trigger(t.min,t);o<=e._.trigger(t.max,t,[o]);o+=t.i)i=e._.trigger(t.item,t,[o]),n+=e._.node(t.node,i[0],i[1],i[2]);return n},node:function(e,i,n,o){return i?(i=t.isArray(i)?i.join(""):i,n=n?' class="'+n+'"':"",o=o?" "+o:"","<"+e+n+o+">"+i+"</"+e+">"):""},lead:function(t){return(10>t?"0":"")+t},trigger:function(t,e,i){return"function"==typeof t?t.apply(e,i||[]):t},digits:function(t){return/\d/.test(t[1])?2:1},isDate:function(t){return{}.toString.call(t).indexOf("Date")>-1&&this.isInteger(t.getDate())},isInteger:function(t){return{}.toString.call(t).indexOf("Number")>-1&&t%1===0},ariaAttr:r},e.extend=function(i,n){t.fn[i]=function(o,s){var r=this.data(i);return"picker"==o?r:r&&"string"==typeof o?e._.trigger(r[o],r,[s]):this.each(function(){var s=t(this);s.data(i)||new e(this,i,n,o)})},t.fn[i].defaults=n.defaults},e}),/*!
 * Date picker for pickadate.js v3.5.6
 * http://amsul.github.io/pickadate.js/date.htm
 */
function(t){"function"==typeof define&&define.amd?define(["picker","jquery"],t):"object"==typeof exports?module.exports=t(require("./picker.js"),require("jquery")):t(Picker,jQuery)}(function(t,e){function i(t,e){var i=this,n=t.$node[0],o=n.value,s=t.$node.data("value"),r=s||o,a=s?e.formatSubmit:e.format,l=function(){return n.currentStyle?"rtl"==n.currentStyle.direction:"rtl"==getComputedStyle(t.$root[0]).direction};i.settings=e,i.$node=t.$node,i.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},i.item={},i.item.clear=null,i.item.disable=(e.disable||[]).slice(0),i.item.enable=-function(t){return t[0]===!0?t.shift():-1}(i.item.disable),i.set("min",e.min).set("max",e.max).set("now"),r?i.set("select",r,{format:a,defaultValue:!0}):i.set("select",null).set("highlight",i.item.now),i.key={40:7,38:-7,39:function(){return l()?-1:1},37:function(){return l()?1:-1},go:function(t){var e=i.item.highlight,n=new Date(e.year,e.month,e.date+t);i.set("highlight",n,{interval:t}),this.render()}},t.on("render",function(){t.$root.find("."+e.klass.selectMonth).on("change",function(){var i=this.value;i&&(t.set("highlight",[t.get("view").year,i,t.get("highlight").date]),t.$root.find("."+e.klass.selectMonth).trigger("focus"))}),t.$root.find("."+e.klass.selectYear).on("change",function(){var i=this.value;i&&(t.set("highlight",[i,t.get("view").month,t.get("highlight").date]),t.$root.find("."+e.klass.selectYear).trigger("focus"))})},1).on("open",function(){var n="";i.disabled(i.get("now"))&&(n=":not(."+e.klass.buttonToday+")"),t.$root.find("button"+n+", select").attr("disabled",!1)},1).on("close",function(){t.$root.find("button, select").attr("disabled",!0)},1)}var n=7,o=6,s=t._;i.prototype.set=function(t,e,i){var n=this,o=n.item;return null===e?("clear"==t&&(t="select"),o[t]=e,n):(o["enable"==t?"disable":"flip"==t?"enable":t]=n.queue[t].split(" ").map(function(o){return e=n[o](t,e,i)}).pop(),"select"==t?n.set("highlight",o.select,i):"highlight"==t?n.set("view",o.highlight,i):t.match(/^(flip|min|max|disable|enable)$/)&&(o.select&&n.disabled(o.select)&&n.set("select",o.select,i),o.highlight&&n.disabled(o.highlight)&&n.set("highlight",o.highlight,i)),n)},i.prototype.get=function(t){return this.item[t]},i.prototype.create=function(t,i,n){var o,r=this;return i=void 0===i?t:i,i==-(1/0)||i==1/0?o=i:e.isPlainObject(i)&&s.isInteger(i.pick)?i=i.obj:e.isArray(i)?(i=new Date(i[0],i[1],i[2]),i=s.isDate(i)?i:r.create().obj):i=s.isInteger(i)||s.isDate(i)?r.normalize(new Date(i),n):r.now(t,i,n),{year:o||i.getFullYear(),month:o||i.getMonth(),date:o||i.getDate(),day:o||i.getDay(),obj:o||i,pick:o||i.getTime()}},i.prototype.createRange=function(t,i){var n=this,o=function(t){return t===!0||e.isArray(t)||s.isDate(t)?n.create(t):t};return s.isInteger(t)||(t=o(t)),s.isInteger(i)||(i=o(i)),s.isInteger(t)&&e.isPlainObject(i)?t=[i.year,i.month,i.date+t]:s.isInteger(i)&&e.isPlainObject(t)&&(i=[t.year,t.month,t.date+i]),{from:o(t),to:o(i)}},i.prototype.withinRange=function(t,e){return t=this.createRange(t.from,t.to),e.pick>=t.from.pick&&e.pick<=t.to.pick},i.prototype.overlapRanges=function(t,e){var i=this;return t=i.createRange(t.from,t.to),e=i.createRange(e.from,e.to),i.withinRange(t,e.from)||i.withinRange(t,e.to)||i.withinRange(e,t.from)||i.withinRange(e,t.to)},i.prototype.now=function(t,e,i){return e=new Date,i&&i.rel&&e.setDate(e.getDate()+i.rel),this.normalize(e,i)},i.prototype.navigate=function(t,i,n){var o,s,r,a,l=e.isArray(i),h=e.isPlainObject(i),c=this.item.view;if(l||h){for(h?(s=i.year,r=i.month,a=i.date):(s=+i[0],r=+i[1],a=+i[2]),n&&n.nav&&c&&c.month!==r&&(s=c.year,r=c.month),o=new Date(s,r+(n&&n.nav?n.nav:0),1),s=o.getFullYear(),r=o.getMonth();new Date(s,r,a).getMonth()!==r;)a-=1;i=[s,r,a]}return i},i.prototype.normalize=function(t){return t.setHours(0,0,0,0),t},i.prototype.measure=function(t,e){var i=this;return e?"string"==typeof e?e=i.parse(t,e):s.isInteger(e)&&(e=i.now(t,e,{rel:e})):e="min"==t?-(1/0):1/0,e},i.prototype.viewset=function(t,e){return this.create([e.year,e.month,1])},i.prototype.validate=function(t,i,n){var o,r,a,l,h=this,c=i,u=n&&n.interval?n.interval:1,d=-1===h.item.enable,p=h.item.min,f=h.item.max,m=d&&h.item.disable.filter(function(t){if(e.isArray(t)){var n=h.create(t).pick;n<i.pick?o=!0:n>i.pick&&(r=!0)}return s.isInteger(t)}).length;if((!n||!n.nav&&!n.defaultValue)&&(!d&&h.disabled(i)||d&&h.disabled(i)&&(m||o||r)||!d&&(i.pick<=p.pick||i.pick>=f.pick)))for(d&&!m&&(!r&&u>0||!o&&0>u)&&(u*=-1);h.disabled(i)&&(Math.abs(u)>1&&(i.month<c.month||i.month>c.month)&&(i=c,u=u>0?1:-1),i.pick<=p.pick?(a=!0,u=1,i=h.create([p.year,p.month,p.date+(i.pick===p.pick?0:-1)])):i.pick>=f.pick&&(l=!0,u=-1,i=h.create([f.year,f.month,f.date+(i.pick===f.pick?0:1)])),!a||!l);)i=h.create([i.year,i.month,i.date+u]);return i},i.prototype.disabled=function(t){var i=this,n=i.item.disable.filter(function(n){return s.isInteger(n)?t.day===(i.settings.firstDay?n:n-1)%7:e.isArray(n)||s.isDate(n)?t.pick===i.create(n).pick:e.isPlainObject(n)?i.withinRange(n,t):void 0});return n=n.length&&!n.filter(function(t){return e.isArray(t)&&"inverted"==t[3]||e.isPlainObject(t)&&t.inverted}).length,-1===i.item.enable?!n:n||t.pick<i.item.min.pick||t.pick>i.item.max.pick},i.prototype.parse=function(t,e,i){var n=this,o={};return e&&"string"==typeof e?(i&&i.format||(i=i||{},i.format=n.settings.format),n.formats.toArray(i.format).map(function(t){var i=n.formats[t],r=i?s.trigger(i,n,[e,o]):t.replace(/^!/,"").length;i&&(o[t]=e.substr(0,r)),e=e.substr(r)}),[o.yyyy||o.yy,+(o.mm||o.m)-1,o.dd||o.d]):e},i.prototype.formats=function(){function t(t,e,i){var n=t.match(/[^\x00-\x7F]+|\w+/)[0];return i.mm||i.m||(i.m=e.indexOf(n)+1),n.length}function e(t){return t.match(/\w+/)[0].length}return{d:function(t,e){return t?s.digits(t):e.date},dd:function(t,e){return t?2:s.lead(e.date)},ddd:function(t,i){return t?e(t):this.settings.weekdaysShort[i.day]},dddd:function(t,i){return t?e(t):this.settings.weekdaysFull[i.day]},m:function(t,e){return t?s.digits(t):e.month+1},mm:function(t,e){return t?2:s.lead(e.month+1)},mmm:function(e,i){var n=this.settings.monthsShort;return e?t(e,n,i):n[i.month]},mmmm:function(e,i){var n=this.settings.monthsFull;return e?t(e,n,i):n[i.month]},yy:function(t,e){return t?2:(""+e.year).slice(2)},yyyy:function(t,e){return t?4:e.year},toArray:function(t){return t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(t,e){var i=this;return i.formats.toArray(t).map(function(t){return s.trigger(i.formats[t],i,[0,e])||t.replace(/^!/,"")}).join("")}}}(),i.prototype.isDateExact=function(t,i){var n=this;return s.isInteger(t)&&s.isInteger(i)||"boolean"==typeof t&&"boolean"==typeof i?t===i:(s.isDate(t)||e.isArray(t))&&(s.isDate(i)||e.isArray(i))?n.create(t).pick===n.create(i).pick:e.isPlainObject(t)&&e.isPlainObject(i)?n.isDateExact(t.from,i.from)&&n.isDateExact(t.to,i.to):!1},i.prototype.isDateOverlap=function(t,i){var n=this,o=n.settings.firstDay?1:0;return s.isInteger(t)&&(s.isDate(i)||e.isArray(i))?(t=t%7+o,t===n.create(i).day+1):s.isInteger(i)&&(s.isDate(t)||e.isArray(t))?(i=i%7+o,i===n.create(t).day+1):e.isPlainObject(t)&&e.isPlainObject(i)?n.overlapRanges(t,i):!1},i.prototype.flipEnable=function(t){var e=this.item;e.enable=t||(-1==e.enable?1:-1)},i.prototype.deactivate=function(t,i){var n=this,o=n.item.disable.slice(0);return"flip"==i?n.flipEnable():i===!1?(n.flipEnable(1),o=[]):i===!0?(n.flipEnable(-1),o=[]):i.map(function(t){for(var i,r=0;r<o.length;r+=1)if(n.isDateExact(t,o[r])){i=!0;break}i||(s.isInteger(t)||s.isDate(t)||e.isArray(t)||e.isPlainObject(t)&&t.from&&t.to)&&o.push(t)}),o},i.prototype.activate=function(t,i){var n=this,o=n.item.disable,r=o.length;return"flip"==i?n.flipEnable():i===!0?(n.flipEnable(1),o=[]):i===!1?(n.flipEnable(-1),o=[]):i.map(function(t){var i,a,l,h;for(l=0;r>l;l+=1){if(a=o[l],n.isDateExact(a,t)){i=o[l]=null,h=!0;break}if(n.isDateOverlap(a,t)){e.isPlainObject(t)?(t.inverted=!0,i=t):e.isArray(t)?(i=t,i[3]||i.push("inverted")):s.isDate(t)&&(i=[t.getFullYear(),t.getMonth(),t.getDate(),"inverted"]);break}}if(i)for(l=0;r>l;l+=1)if(n.isDateExact(o[l],t)){o[l]=null;break}if(h)for(l=0;r>l;l+=1)if(n.isDateOverlap(o[l],t)){o[l]=null;break}i&&o.push(i)}),o.filter(function(t){return null!=t})},i.prototype.nodes=function(t){var e=this,i=e.settings,r=e.item,a=r.now,l=r.select,h=r.highlight,c=r.view,u=r.disable,d=r.min,p=r.max,f=function(t,e){return i.firstDay&&(t.push(t.shift()),e.push(e.shift())),s.node("thead",s.node("tr",s.group({min:0,max:n-1,i:1,node:"th",item:function(n){return[t[n],i.klass.weekdays,'scope=col title="'+e[n]+'"']}})))}((i.showWeekdaysFull?i.weekdaysFull:i.weekdaysShort).slice(0),i.weekdaysFull.slice(0)),m=function(t){return s.node("div"," ",i.klass["nav"+(t?"Next":"Prev")]+(t&&c.year>=p.year&&c.month>=p.month||!t&&c.year<=d.year&&c.month<=d.month?" "+i.klass.navDisabled:""),"data-nav="+(t||-1)+" "+s.ariaAttr({role:"button",controls:e.$node[0].id+"_table"})+' title="'+(t?i.labelMonthNext:i.labelMonthPrev)+'"')},g=function(){var n=i.showMonthsShort?i.monthsShort:i.monthsFull;return i.selectMonths?s.node("select",s.group({min:0,max:11,i:1,node:"option",item:function(t){return[n[t],0,"value="+t+(c.month==t?" selected":"")+(c.year==d.year&&t<d.month||c.year==p.year&&t>p.month?" disabled":"")]}}),i.klass.selectMonth,(t?"":"disabled")+" "+s.ariaAttr({controls:e.$node[0].id+"_table"})+' title="'+i.labelMonthSelect+'"'):s.node("div",n[c.month],i.klass.month)},v=function(){var n=c.year,o=i.selectYears===!0?5:~~(i.selectYears/2);if(o){var r=d.year,a=p.year,l=n-o,h=n+o;if(r>l&&(h+=r-l,l=r),h>a){var u=l-r,f=h-a;l-=u>f?f:u,h=a}return s.node("select",s.group({min:l,max:h,i:1,node:"option",item:function(t){return[t,0,"value="+t+(n==t?" selected":"")]}}),i.klass.selectYear,(t?"":"disabled")+" "+s.ariaAttr({controls:e.$node[0].id+"_table"})+' title="'+i.labelYearSelect+'"')}return s.node("div",n,i.klass.year)};return s.node("div",(i.selectYears?v()+g():g()+v())+m()+m(1),i.klass.header)+s.node("table",f+s.node("tbody",s.group({min:0,max:o-1,i:1,node:"tr",item:function(t){var o=i.firstDay&&0===e.create([c.year,c.month,1]).day?-7:0;return[s.group({min:n*t-c.day+o+1,max:function(){return this.min+n-1},i:1,node:"td",item:function(t){t=e.create([c.year,c.month,t+(i.firstDay?1:0)]);var n=l&&l.pick==t.pick,o=h&&h.pick==t.pick,r=u&&e.disabled(t)||t.pick<d.pick||t.pick>p.pick,f=s.trigger(e.formats.toString,e,[i.format,t]);return[s.node("div",t.date,function(e){return e.push(c.month==t.month?i.klass.infocus:i.klass.outfocus),a.pick==t.pick&&e.push(i.klass.now),n&&e.push(i.klass.selected),o&&e.push(i.klass.highlighted),r&&e.push(i.klass.disabled),e.join(" ")}([i.klass.day]),"data-pick="+t.pick+" "+s.ariaAttr({role:"gridcell",label:f,selected:n&&e.$node.val()===f?!0:null,activedescendant:o?!0:null,disabled:r?!0:null})),"",s.ariaAttr({role:"presentation"})]}})]}})),i.klass.table,'id="'+e.$node[0].id+'_table" '+s.ariaAttr({role:"grid",controls:e.$node[0].id,readonly:!0}))+s.node("div",s.node("button",i.today,i.klass.buttonToday,"type=button data-pick="+a.pick+(t&&!e.disabled(a)?"":" disabled")+" "+s.ariaAttr({controls:e.$node[0].id}))+s.node("button",i.clear,i.klass.buttonClear,"type=button data-clear=1"+(t?"":" disabled")+" "+s.ariaAttr({controls:e.$node[0].id}))+s.node("button",i.close,i.klass.buttonClose,"type=button data-close=true "+(t?"":" disabled")+" "+s.ariaAttr({controls:e.$node[0].id})),i.klass.footer)},i.defaults=function(t){return{labelMonthNext:"Next month",labelMonthPrev:"Previous month",labelMonthSelect:"Select a month",labelYearSelect:"Select a year",monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",closeOnSelect:!0,closeOnClear:!0,format:"d mmmm, yyyy",klass:{table:t+"table",header:t+"header",navPrev:t+"nav--prev",navNext:t+"nav--next",navDisabled:t+"nav--disabled",month:t+"month",year:t+"year",selectMonth:t+"select--month",selectYear:t+"select--year",weekdays:t+"weekday",day:t+"day",disabled:t+"day--disabled",selected:t+"day--selected",highlighted:t+"day--highlighted",now:t+"day--today",infocus:t+"day--infocus",outfocus:t+"day--outfocus",footer:t+"footer",buttonClear:t+"button--clear",buttonToday:t+"button--today",buttonClose:t+"button--close"}}}(t.klasses().picker+"__"),t.extend("pickadate",i)}),/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
function(t){"function"==typeof define&&define.amd?define("picker",["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):this.Picker=t(jQuery)}(function(t){function e(s,r,l,d){function p(){return e._.node("div",e._.node("div",e._.node("div",e._.node("div",D.component.nodes(_.open),k.box),k.wrap),k.frame),k.holder,'tabindex="-1"')}function f(){S.data(r,D).addClass(k.input).val(S.data("value")?D.get("select",x.format):s.value),x.editable||S.on("focus."+_.id+" click."+_.id,function(t){t.preventDefault(),D.open()}).on("keydown."+_.id,b),o(s,{haspopup:!0,expanded:!1,readonly:!1,owns:s.id+"_root"})}function m(){o(D.$root[0],"hidden",!0)}function g(){D.$holder.on({keydown:b,"focus.toOpen":w,blur:function(){S.removeClass(k.target)},focusin:function(t){D.$root.removeClass(k.focused),t.stopPropagation()},"mousedown click":function(e){var i=e.target;i!=D.$holder[0]&&(e.stopPropagation(),"mousedown"!=e.type||t(i).is("input, select, textarea, button, option")||(e.preventDefault(),D.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var e=t(this),i=e.data(),n=e.hasClass(k.navDisabled)||e.hasClass(k.disabled),o=a();o=o&&(o.type||o.href),(n||o&&!t.contains(D.$root[0],o))&&D.$holder[0].focus(),!n&&i.nav?D.set("highlight",D.component.item.highlight,{nav:i.nav}):!n&&"pick"in i?(D.set("select",i.pick),x.closeOnSelect&&D.close(!0)):i.clear?(D.clear(),x.closeOnClear&&D.close(!0)):i.close&&D.close(!0)})}function v(){var e;x.hiddenName===!0?(e=s.name,s.name=""):(e=["string"==typeof x.hiddenPrefix?x.hiddenPrefix:"","string"==typeof x.hiddenSuffix?x.hiddenSuffix:"_submit"],e=e[0]+s.name+e[1]),D._hidden=t('<input type=hidden name="'+e+'"'+(S.data("value")||s.value?' value="'+D.get("select",x.formatSubmit)+'"':"")+">")[0],S.on("change."+_.id,function(){D._hidden.value=s.value?D.get("select",x.formatSubmit):""})}function y(){C&&u?D.$holder.find("."+k.frame).one("transitionend",function(){D.$holder[0].focus()}):D.$holder[0].focus()}function w(t){t.stopPropagation(),S.addClass(k.target),D.$root.addClass(k.focused),D.open()}function b(t){var e=t.keyCode,i=/^(8|46)$/.test(e);return 27==e?(D.close(!0),!1):void((32==e||i||!_.open&&D.component.key[e])&&(t.preventDefault(),t.stopPropagation(),i?D.clear().close():D.open()))}if(!s)return e;var C=!1,_={id:s.id||"P"+Math.abs(~~(Math.random()*new Date))},x=l?t.extend(!0,{},l.defaults,d):d||{},k=t.extend({},e.klasses(),x.klass),S=t(s),T=function(){return this.start()},D=T.prototype={constructor:T,$node:S,start:function(){return _&&_.start?D:(_.methods={},_.start=!0,_.open=!1,_.type=s.type,s.autofocus=s==a(),s.readOnly=!x.editable,s.id=s.id||_.id,"text"!=s.type&&(s.type="text"),D.component=new l(D,x),D.$root=t('<div class="'+k.picker+'" id="'+s.id+'_root" />'),m(),D.$holder=t(p()).appendTo(D.$root),g(),x.formatSubmit&&v(),f(),x.containerHidden?t(x.containerHidden).append(D._hidden):S.after(D._hidden),x.container?t(x.container).append(D.$root):S.after(D.$root),D.on({start:D.component.onStart,render:D.component.onRender,stop:D.component.onStop,open:D.component.onOpen,close:D.component.onClose,set:D.component.onSet}).on({start:x.onStart,render:x.onRender,stop:x.onStop,open:x.onOpen,close:x.onClose,set:x.onSet}),C=i(D.$holder[0]),s.autofocus&&D.open(),D.trigger("start").trigger("render"))},render:function(e){return e?(D.$holder=t(p()),g(),D.$root.html(D.$holder)):D.$root.find("."+k.box).html(D.component.nodes(_.open)),D.trigger("render")},stop:function(){return _.start?(D.close(),D._hidden&&D._hidden.parentNode.removeChild(D._hidden),D.$root.remove(),S.removeClass(k.input).removeData(r),setTimeout(function(){S.off("."+_.id)},0),s.type=_.type,s.readOnly=!1,D.trigger("stop"),_.methods={},_.start=!1,D):D},open:function(i){return _.open?D:(S.addClass(k.active),o(s,"expanded",!0),setTimeout(function(){D.$root.addClass(k.opened),o(D.$root[0],"hidden",!1)},0),i!==!1&&(_.open=!0,C&&c.css("overflow","hidden").css("padding-right","+="+n()),y(),h.on("click."+_.id+" focusin."+_.id,function(t){var e=t.target;e!=s&&e!=document&&3!=t.which&&D.close(e===D.$holder[0])}).on("keydown."+_.id,function(i){var n=i.keyCode,o=D.component.key[n],s=i.target;27==n?D.close(!0):s!=D.$holder[0]||!o&&13!=n?t.contains(D.$root[0],s)&&13==n&&(i.preventDefault(),s.click()):(i.preventDefault(),o?e._.trigger(D.component.key.go,D,[e._.trigger(o)]):D.$root.find("."+k.highlighted).hasClass(k.disabled)||(D.set("select",D.component.item.highlight),x.closeOnSelect&&D.close(!0)))})),D.trigger("open"))},close:function(t){return t&&(x.editable?s.focus():(D.$holder.off("focus.toOpen").focus(),setTimeout(function(){D.$holder.on("focus.toOpen",w)},0))),S.removeClass(k.active),o(s,"expanded",!1),setTimeout(function(){D.$root.removeClass(k.opened+" "+k.focused),o(D.$root[0],"hidden",!0)},0),_.open?(_.open=!1,C&&c.css("overflow","").css("padding-right","-="+n()),h.off("."+_.id),D.trigger("close")):D},clear:function(t){return D.set("clear",null,t)},set:function(e,i,n){var o,s,r=t.isPlainObject(e),a=r?e:{};if(n=r&&t.isPlainObject(i)?i:n||{},e){r||(a[e]=i);for(o in a)s=a[o],o in D.component.item&&(void 0===s&&(s=null),D.component.set(o,s,n)),("select"==o||"clear"==o)&&S.val("clear"==o?"":D.get(o,x.format)).trigger("change");D.render()}return n.muted?D:D.trigger("set",a)},get:function(t,i){if(t=t||"value",null!=_[t])return _[t];if("valueSubmit"==t){if(D._hidden)return D._hidden.value;t="value"}if("value"==t)return s.value;if(t in D.component.item){if("string"==typeof i){var n=D.component.get(t);return n?e._.trigger(D.component.formats.toString,D.component,[i,n]):""}return D.component.get(t)}},on:function(e,i,n){var o,s,r=t.isPlainObject(e),a=r?e:{};if(e){r||(a[e]=i);for(o in a)s=a[o],n&&(o="_"+o),_.methods[o]=_.methods[o]||[],_.methods[o].push(s)}return D},off:function(){var t,e,i=arguments;for(t=0,namesCount=i.length;t<namesCount;t+=1)e=i[t],e in _.methods&&delete _.methods[e];return D},trigger:function(t,i){var n=function(t){var n=_.methods[t];n&&n.map(function(t){e._.trigger(t,D,[i])})};return n("_"+t),n(t),D}};return new T}function i(t){var e,i="position";return t.currentStyle?e=t.currentStyle[i]:window.getComputedStyle&&(e=getComputedStyle(t)[i]),"fixed"==e}function n(){if(c.height()<=l.height())return 0;var e=t('<div style="visibility:hidden;width:100px" />').appendTo("body"),i=e[0].offsetWidth;e.css("overflow","scroll");var n=t('<div style="width:100%" />').appendTo(e),o=n[0].offsetWidth;return e.remove(),i-o}function o(e,i,n){if(t.isPlainObject(i))for(var o in i)s(e,o,i[o]);else s(e,i,n)}function s(t,e,i){t.setAttribute(("role"==e?"":"aria-")+e,i)}function r(e,i){t.isPlainObject(e)||(e={attribute:i}),i="";for(var n in e){var o=("role"==n?"":"aria-")+n,s=e[n];i+=null==s?"":o+'="'+e[n]+'"'}return i}function a(){try{return document.activeElement}catch(t){}}var l=t(window),h=t(document),c=t(document.documentElement),u=null!=document.documentElement.style.transition;return e.klasses=function(t){return t=t||"picker",{picker:t,opened:t+"--opened",focused:t+"--focused",input:t+"__input",active:t+"__input--active",target:t+"__input--target",holder:t+"__holder",frame:t+"__frame",wrap:t+"__wrap",box:t+"__box"}},e._={group:function(t){for(var i,n="",o=e._.trigger(t.min,t);o<=e._.trigger(t.max,t,[o]);o+=t.i)i=e._.trigger(t.item,t,[o]),n+=e._.node(t.node,i[0],i[1],i[2]);return n},node:function(e,i,n,o){return i?(i=t.isArray(i)?i.join(""):i,n=n?' class="'+n+'"':"",o=o?" "+o:"","<"+e+n+o+">"+i+"</"+e+">"):""},lead:function(t){return(10>t?"0":"")+t},trigger:function(t,e,i){return"function"==typeof t?t.apply(e,i||[]):t},digits:function(t){return/\d/.test(t[1])?2:1},isDate:function(t){return{}.toString.call(t).indexOf("Date")>-1&&this.isInteger(t.getDate())},isInteger:function(t){return{}.toString.call(t).indexOf("Number")>-1&&t%1===0},ariaAttr:r},e.extend=function(i,n){t.fn[i]=function(o,s){var r=this.data(i);return"picker"==o?r:r&&"string"==typeof o?e._.trigger(r[o],r,[s]):this.each(function(){var s=t(this);s.data(i)||new e(this,i,n,o)})},t.fn[i].defaults=n.defaults},e}),/*!
 * Time picker for pickadate.js v3.5.6
 * http://amsul.github.io/pickadate.js/time.htm
 */
function(t){"function"==typeof define&&define.amd?define(["picker","jquery"],t):"object"==typeof exports?module.exports=t(require("./picker.js"),require("jquery")):t(Picker,jQuery)}(function(t,e){function i(t,e){var i=this,n=t.$node[0].value,o=t.$node.data("value"),s=o||n,r=o?e.formatSubmit:e.format;i.settings=e,i.$node=t.$node,i.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},i.item={},i.item.clear=null,i.item.interval=e.interval||30,i.item.disable=(e.disable||[]).slice(0),i.item.enable=-function(t){return t[0]===!0?t.shift():-1}(i.item.disable),i.set("min",e.min).set("max",e.max).set("now"),s?i.set("select",s,{format:r}):i.set("select",null).set("highlight",i.item.now),i.key={40:1,38:-1,39:1,37:-1,go:function(t){i.set("highlight",i.item.highlight.pick+t*i.item.interval,{interval:t*i.item.interval}),this.render()}},t.on("render",function(){var i=t.$root.children(),n=i.find("."+e.klass.viewset),o=function(t){return["webkit","moz","ms","o",""].map(function(e){return(e?"-"+e+"-":"")+t})},s=function(t,e){o("transform").map(function(i){t.css(i,e)}),o("transition").map(function(i){t.css(i,e)})};n.length&&(s(i,"none"),i[0].scrollTop=~~n.position().top-2*n[0].clientHeight,s(i,""))},1).on("open",function(){t.$root.find("button").attr("disabled",!1)},1).on("close",function(){t.$root.find("button").attr("disabled",!0)},1)}var n=24,o=60,s=12,r=n*o,a=t._;i.prototype.set=function(t,e,i){var n=this,o=n.item;return null===e?("clear"==t&&(t="select"),o[t]=e,n):(o["enable"==t?"disable":"flip"==t?"enable":t]=n.queue[t].split(" ").map(function(o){return e=n[o](t,e,i)}).pop(),"select"==t?n.set("highlight",o.select,i):"highlight"==t?n.set("view",o.highlight,i):"interval"==t?n.set("min",o.min,i).set("max",o.max,i):t.match(/^(flip|min|max|disable|enable)$/)&&(o.select&&n.disabled(o.select)&&n.set("select",e,i),o.highlight&&n.disabled(o.highlight)&&n.set("highlight",e,i),"min"==t&&n.set("max",o.max,i)),n)},i.prototype.get=function(t){return this.item[t]},i.prototype.create=function(t,i,s){var l=this;return i=void 0===i?t:i,a.isDate(i)&&(i=[i.getHours(),i.getMinutes()]),e.isPlainObject(i)&&a.isInteger(i.pick)?i=i.pick:e.isArray(i)?i=+i[0]*o+ +i[1]:a.isInteger(i)||(i=l.now(t,i,s)),"max"==t&&i<l.item.min.pick&&(i+=r),"min"!=t&&"max"!=t&&(i-l.item.min.pick)%l.item.interval!==0&&(i+=l.item.interval),i=l.normalize(t,i,s),{hour:~~(n+i/o)%n,mins:(o+i%o)%o,time:(r+i)%r,pick:i%r}},i.prototype.createRange=function(t,i){var n=this,o=function(t){return t===!0||e.isArray(t)||a.isDate(t)?n.create(t):t};return a.isInteger(t)||(t=o(t)),a.isInteger(i)||(i=o(i)),a.isInteger(t)&&e.isPlainObject(i)?t=[i.hour,i.mins+t*n.settings.interval]:a.isInteger(i)&&e.isPlainObject(t)&&(i=[t.hour,t.mins+i*n.settings.interval]),{from:o(t),to:o(i)}},i.prototype.withinRange=function(t,e){return t=this.createRange(t.from,t.to),e.pick>=t.from.pick&&e.pick<=t.to.pick},i.prototype.overlapRanges=function(t,e){var i=this;return t=i.createRange(t.from,t.to),e=i.createRange(e.from,e.to),i.withinRange(t,e.from)||i.withinRange(t,e.to)||i.withinRange(e,t.from)||i.withinRange(e,t.to)},i.prototype.now=function(t,e){var i,n=this.item.interval,s=new Date,r=s.getHours()*o+s.getMinutes(),l=a.isInteger(e);return r-=r%n,i=0>e&&-n>=n*e+r,r+="min"==t&&i?0:n,l&&(r+=n*(i&&"max"!=t?e+1:e)),r},i.prototype.normalize=function(t,e){var i=this.item.interval,n=this.item.min&&this.item.min.pick||0;return e-="min"==t?0:(e-n)%i},i.prototype.measure=function(t,i,s){var r=this;return i||(i="min"==t?[0,0]:[n-1,o-1]),"string"==typeof i?i=r.parse(t,i):i===!0||a.isInteger(i)?i=r.now(t,i,s):e.isPlainObject(i)&&a.isInteger(i.pick)&&(i=r.normalize(t,i.pick,s)),i},i.prototype.validate=function(t,e,i){var n=this,o=i&&i.interval?i.interval:n.item.interval;return n.disabled(e)&&(e=n.shift(e,o)),e=n.scope(e),n.disabled(e)&&(e=n.shift(e,-1*o)),e},i.prototype.disabled=function(t){var i=this,n=i.item.disable.filter(function(n){return a.isInteger(n)?t.hour==n:e.isArray(n)||a.isDate(n)?t.pick==i.create(n).pick:e.isPlainObject(n)?i.withinRange(n,t):void 0});return n=n.length&&!n.filter(function(t){return e.isArray(t)&&"inverted"==t[2]||e.isPlainObject(t)&&t.inverted}).length,-1===i.item.enable?!n:n||t.pick<i.item.min.pick||t.pick>i.item.max.pick},i.prototype.shift=function(t,e){var i=this,n=i.item.min.pick,o=i.item.max.pick;for(e=e||i.item.interval;i.disabled(t)&&(t=i.create(t.pick+=e),!(t.pick<=n||t.pick>=o)););return t},i.prototype.scope=function(t){var e=this.item.min.pick,i=this.item.max.pick;return this.create(t.pick>i?i:t.pick<e?e:t)},i.prototype.parse=function(t,e,i){var n,s,r,l,h,c=this,u={};if(!e||"string"!=typeof e)return e;i&&i.format||(i=i||{},i.format=c.settings.format),c.formats.toArray(i.format).map(function(t){var i,n=c.formats[t],o=n?a.trigger(n,c,[e,u]):t.replace(/^!/,"").length;n&&(i=e.substr(0,o),u[t]=i.match(/^\d+$/)?+i:i),e=e.substr(o)});for(l in u)h=u[l],a.isInteger(h)?l.match(/^(h|hh)$/i)?(n=h,("h"==l||"hh"==l)&&(n%=12)):"i"==l&&(s=h):l.match(/^a$/i)&&h.match(/^p/i)&&("h"in u||"hh"in u)&&(r=!0);return(r?n+12:n)*o+s},i.prototype.formats={h:function(t,e){return t?a.digits(t):e.hour%s||s},hh:function(t,e){return t?2:a.lead(e.hour%s||s)},H:function(t,e){return t?a.digits(t):""+e.hour%24},HH:function(t,e){return t?a.digits(t):a.lead(e.hour%24)},i:function(t,e){return t?2:a.lead(e.mins)},a:function(t,e){return t?4:r/2>e.time%r?"a.m.":"p.m."},A:function(t,e){return t?2:r/2>e.time%r?"AM":"PM"},toArray:function(t){return t.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(t,e){var i=this;return i.formats.toArray(t).map(function(t){return a.trigger(i.formats[t],i,[0,e])||t.replace(/^!/,"")}).join("")}},i.prototype.isTimeExact=function(t,i){var n=this;return a.isInteger(t)&&a.isInteger(i)||"boolean"==typeof t&&"boolean"==typeof i?t===i:(a.isDate(t)||e.isArray(t))&&(a.isDate(i)||e.isArray(i))?n.create(t).pick===n.create(i).pick:e.isPlainObject(t)&&e.isPlainObject(i)?n.isTimeExact(t.from,i.from)&&n.isTimeExact(t.to,i.to):!1},i.prototype.isTimeOverlap=function(t,i){var n=this;return a.isInteger(t)&&(a.isDate(i)||e.isArray(i))?t===n.create(i).hour:a.isInteger(i)&&(a.isDate(t)||e.isArray(t))?i===n.create(t).hour:e.isPlainObject(t)&&e.isPlainObject(i)?n.overlapRanges(t,i):!1},i.prototype.flipEnable=function(t){var e=this.item;e.enable=t||(-1==e.enable?1:-1)},i.prototype.deactivate=function(t,i){var n=this,o=n.item.disable.slice(0);return"flip"==i?n.flipEnable():i===!1?(n.flipEnable(1),o=[]):i===!0?(n.flipEnable(-1),o=[]):i.map(function(t){for(var i,s=0;s<o.length;s+=1)if(n.isTimeExact(t,o[s])){i=!0;break}i||(a.isInteger(t)||a.isDate(t)||e.isArray(t)||e.isPlainObject(t)&&t.from&&t.to)&&o.push(t)}),o},i.prototype.activate=function(t,i){var n=this,o=n.item.disable,s=o.length;return"flip"==i?n.flipEnable():i===!0?(n.flipEnable(1),o=[]):i===!1?(n.flipEnable(-1),o=[]):i.map(function(t){var i,r,l,h;for(l=0;s>l;l+=1){if(r=o[l],n.isTimeExact(r,t)){i=o[l]=null,h=!0;break}if(n.isTimeOverlap(r,t)){e.isPlainObject(t)?(t.inverted=!0,i=t):e.isArray(t)?(i=t,i[2]||i.push("inverted")):a.isDate(t)&&(i=[t.getFullYear(),t.getMonth(),t.getDate(),"inverted"]);break}}if(i)for(l=0;s>l;l+=1)if(n.isTimeExact(o[l],t)){o[l]=null;break}if(h)for(l=0;s>l;l+=1)if(n.isTimeOverlap(o[l],t)){o[l]=null;break}i&&o.push(i)}),o.filter(function(t){return null!=t})},i.prototype.i=function(t,e){return a.isInteger(e)&&e>0?e:this.item.interval},i.prototype.nodes=function(t){var e=this,i=e.settings,n=e.item.select,o=e.item.highlight,s=e.item.view,r=e.item.disable;return a.node("ul",a.group({min:e.item.min.pick,max:e.item.max.pick,i:e.item.interval,node:"li",item:function(t){t=e.create(t);var l=t.pick,h=n&&n.pick==l,c=o&&o.pick==l,u=r&&e.disabled(t),d=a.trigger(e.formats.toString,e,[i.format,t]);return[a.trigger(e.formats.toString,e,[a.trigger(i.formatLabel,e,[t])||i.format,t]),function(t){return h&&t.push(i.klass.selected),c&&t.push(i.klass.highlighted),s&&s.pick==l&&t.push(i.klass.viewset),u&&t.push(i.klass.disabled),t.join(" ")}([i.klass.listItem]),"data-pick="+t.pick+" "+a.ariaAttr({role:"option",label:d,selected:h&&e.$node.val()===d?!0:null,activedescendant:c?!0:null,disabled:u?!0:null})]}})+a.node("li",a.node("button",i.clear,i.klass.buttonClear,"type=button data-clear=1"+(t?"":" disabled")+" "+a.ariaAttr({controls:e.$node[0].id})),"",a.ariaAttr({role:"presentation"})),i.klass.list,a.ariaAttr({role:"listbox",controls:e.$node[0].id}))},i.defaults=function(t){return{clear:"Clear",format:"h:i A",interval:30,closeOnSelect:!0,closeOnClear:!0,klass:{picker:t+" "+t+"--time",holder:t+"__holder",list:t+"__list",listItem:t+"__list-item",disabled:t+"__list-item--disabled",selected:t+"__list-item--selected",highlighted:t+"__list-item--highlighted",viewset:t+"__list-item--viewset",now:t+"__list-item--now",buttonClear:t+"__button--clear"}}}(t.klasses().picker),t.extend("pickatime",i)});var PRESENTATION_SELECTOR=".slide-page,div.navbar,div.content-header,.footer",presenting=!1,currentSlide=1,sliding=!1,navigatePrev=function(){var t=$(".slide-page").length,e=currentSlide;e=0==currentSlide?t-1:currentSlide-1,slideAreas(currentSlide,e,!0)},navigateNext=function(){var t=$(".slide-page").length,e=currentSlide;e=currentSlide==t-1?0:currentSlide+1,slideAreas(currentSlide,e,!1)},slideAreas=function(t,e,i){if(t!=e&&!sliding){sliding=!0;var n=$(document).width()+"px",o="-"+n;$($(".slide-page")[e]).css({left:i?o:n}),$($(".slide-page")[e]).animate({left:0},"slow").toggle(),$($(".slide-page")[t]).animate({left:i?n:o},"slow",function(){$($(".slide-page")[t]).toggle(),currentSlide=e,sliding=!1})}},showSlide=function(t){var e=$(".slide-page").length,i=t;i>=e&&(i=e-1),$(".slide-page").hide(),$($(".slide-page")[i]).show().css({left:0}),currentSlide=i},startPresentation=function(){$(PRESENTATION_SELECTOR).hide(),$("body").addClass("presenting"),$("div.objectives-wrapper,div.indicators-wrapper,div.tasks-wrapper").height("auto"),currentSlide=$(".slide-page").length-$("div.area").length,currentSlide=0>currentSlide?0:currentSlide,presenting=!0,$(".slide-page").width("100%"),$(".slide-page").css({position:"absolute",left:0,top:0,outline:"1px solid transparent"}),showSlide(currentSlide),equalHeightSections(),enterFullscreen()},endPresentation=function(){$(PRESENTATION_SELECTOR).show(),$(".slide-page").show();parseInt($("body").css("font-size"))-8;$("body").removeClass("presenting"),$(".slide-page").removeAttr("style"),presenting=!1,setTimeout(equalHeightSections,500),exitFullscreen()},attachKeyEvents=function(){$("body").keydown(function(t){if(!isModalShown()){if(122==t.which||t.metaKey&&(t.shiftKey||t.ctrlKey)&&70==t.which)return t.preventDefault(),void enterFullscreen();if(presenting&&!isInputFocused())switch(t.which){case 27:endPresentation();break;case 37:t.preventDefault(),navigatePrev();break;case 39:t.preventDefault(),navigateNext();break;case 36:t.preventDefault(),showSlide(0);break;case 35:t.preventDefault(),showSlide(Number.MAX_VALUE)}}}),$(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange MSFullscreenChange",fsChange)};$(document).ready(attachKeyEvents),function(t){var e=function(t){var e=t.split(".");return e=e.slice(Math.max(e.length-2,0)),e.join(".")},i=function(i){var n=t(document);i.target&&(n=t(i.target)),n.find(".in-place-edit a, .description-help a, .header-help a").filter(function(){return this.hostname&&e(this.hostname)!==e(location.hostname)}).each(function(){t(this).addClass("external"),t(this).attr("target","_blank"),t(this).click(function(t){t.stopPropagation()})})};t(document).on("rapid:ajax:success",i),t(document).ready(i)}(jQuery);